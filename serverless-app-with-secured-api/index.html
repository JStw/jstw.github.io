<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.75 'Merriweather','Georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.9);font-family:'Merriweather','Georgia',serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:Montserrat,sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.73286rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.4427rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;letter-spacing:0.140625em;text-transform:uppercase;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.83255rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.75966rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}ul{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:0.85rem;line-height:1.75rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1rem;line-height:1.75rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}blockquote{margin-left:-1.75rem;margin-right:1.75rem;margin-top:0;padding-bottom:0;padding-left:1.42188rem;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1.20112rem;line-height:1.75rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.32813rem solid hsla(0,0%,0%,0.9);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.75rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.75rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}li > ul{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.75rem / 2);}code{font-size:0.85rem;line-height:1.75rem;}kbd{font-size:0.85rem;line-height:1.75rem;}samp{font-size:0.85rem;line-height:1.75rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.16667rem;padding-right:1.16667rem;padding-top:0.875rem;padding-bottom:calc(0.875rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.75rem;color:hsla(0,0%,0%,0.9);font-weight:400;}blockquote cite:before{content:"— ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.75rem;}blockquote{margin-left:-1.3125rem;margin-right:0;padding-left:0.98438rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.5rem;}a{box-shadow:0 1px 0 0 currentColor;color:#007acc;text-decoration:none;}a:hover,a:active{box-shadow:none;}mark,ins{background:#007acc;color:white;padding:0.10938rem 0.21875rem;text-decoration:none;}a.gatsby-resp-image-link{box-shadow:none;}</style><style data-href="/styles.1a54add997246827ae7a.css" id="gatsby-global-css">@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-191cc9f50f3b76b9617cb383f19acb7d.woff2) format("woff2"),url(/static/montserrat-latin-100-370318464551d5f25b0f0a78f374faac.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-bdeaeb79db315697bd173a55b097dc18.woff2) format("woff2"),url(/static/montserrat-latin-100italic-ecf7d49386e8f265878e735db34a7c4b.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-85d5ef9db7f2dc6979172a4a3b2c57cb.woff2) format("woff2"),url(/static/montserrat-latin-200-1fc98e126a3d152549240e6244d7e669.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-49095760a498d024fe1a85a078850df9.woff2) format("woff2"),url(/static/montserrat-latin-200italic-fe46cf8b9462c820457d3bf537e4057f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-7c3daf12b706645b5d3710f863a4da04.woff2) format("woff2"),url(/static/montserrat-latin-300-8dc95fab9cf98d02ca8d76e97d3dff60.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-f20b178ca2024a5eac8e42e6649db86c.woff2) format("woff2"),url(/static/montserrat-latin-300italic-3fe16939288856e8e828fa2661bf2354.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-bc3aa95dca08f5fee5291e34959c27bc.woff2) format("woff2"),url(/static/montserrat-latin-400-8102c4838f9e3d08dad644290a9cb701.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-5cad650422a7184467af5a4d17b264c4.woff2) format("woff2"),url(/static/montserrat-latin-400italic-d191f22af3bb50902b99ac577f81a322.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-92d16e458625f4d2c8940f6bdca0ff09.woff2) format("woff2"),url(/static/montserrat-latin-500-8b763220218ffc11c57c84ddb80e7b26.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-47bfcca6b69d6a9acca7a8bff17193e2.woff2) format("woff2"),url(/static/montserrat-latin-500italic-72c01f753c3940c0b9cb6bf2389caddf.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-6fb1b5623e528e27c18658fecf5ee0ee.woff2) format("woff2"),url(/static/montserrat-latin-600-7c839d15a6f54e7025ba8c0c4b333e8f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-60789af1c9338ed1a9546722ec54b4f7.woff2) format("woff2"),url(/static/montserrat-latin-600italic-f3d4de8d0afb19e777c79032ce828e3d.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-39d93cf678c740f9f6b2b1cfde34bee3.woff2) format("woff2"),url(/static/montserrat-latin-700-80f10bd382f0df1cd650fec59f3c9394.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-ba136d97b14e82284dd595e257f11c47.woff2) format("woff2"),url(/static/montserrat-latin-700italic-8c98142b425630821139c24bd1698700.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-b7018be9ed6cd94da8b6675b3a468c3b.woff2) format("woff2"),url(/static/montserrat-latin-800-9a9befcf50d64f9d2d19d8b1d1984add.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-540ffdd223d1a9ad3d4e678e1a23372e.woff2) format("woff2"),url(/static/montserrat-latin-800italic-897086f99f4e1f45e6b1e9368527d0bc.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-58cd789700850375b834e8b6776002eb.woff2) format("woff2"),url(/static/montserrat-latin-900-26d42c9428780e545a540bbb50c84bce.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-451157bc8861fe54f523b3669a3def71.woff2) format("woff2"),url(/static/montserrat-latin-900italic-a8ec4957e1c24f5793305763ad9845b3.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-b1158cfcd4aacb9d8fb61625e37af46a.woff2) format("woff2"),url(/static/merriweather-latin-300-cc7de05e166e90320d7d896e0f72a19d.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-8fe52a48089d6ebe46db0b8e7cc66263.woff2) format("woff2"),url(/static/merriweather-latin-300italic-e1331f5397c2a673f9d3765138debdb5.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-8276fdb72ae8f4714d4e6eba704cc39f.woff2) format("woff2"),url(/static/merriweather-latin-400-69f09800f4f6479d06e44eba837df872.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-3a9be9ea9f7aa4af6de7307df21d9fc0.woff2) format("woff2"),url(/static/merriweather-latin-400italic-d76079ed7541a433a54f79316de086e9.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-fa534be7ffa380e39a7f6e03bf9a5e03.woff2) format("woff2"),url(/static/merriweather-latin-700-ba56ea84b8084b7ff9677f50d3cd81bd.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-1ef5edaaa20ae53ea50399884c5e48c6.woff2) format("woff2"),url(/static/merriweather-latin-700italic-534bc9e7ce93c73d73426e46acd78092.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-7528fb70e8a4a82c7305e72ff43ac25f.woff2) format("woff2"),url(/static/merriweather-latin-900-3799b6e2f5ed3fcccf9d7a708d7419fa.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-e1b4d2aaa78e12ad84aaf8a56321e4c2.woff2) format("woff2"),url(/static/merriweather-latin-900italic-2ae22f731b3424e8dbb4b37f7ca6e708.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 2.30.2"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=4a9773549091c227cd2eb82ccd9c5e3a" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><title data-react-helmet="true">Secure your Serverless App in AWS (Using Cognito, Cloudfront, API Gateway, and Lambda) | Jstw Blog</title><meta data-react-helmet="true" name="description" content="How to secure exchanges between a Cloudfront and API Gateway with Amazon Cognito."/><meta data-react-helmet="true" property="og:title" content="Secure your Serverless App in AWS (Using Cognito, Cloudfront, API Gateway, and Lambda)"/><meta data-react-helmet="true" property="og:description" content="How to secure exchanges between a Cloudfront and API Gateway with Amazon Cognito."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="jstw"/><meta data-react-helmet="true" name="twitter:title" content="Secure your Serverless App in AWS (Using Cognito, Cloudfront, API Gateway, and Lambda)"/><meta data-react-helmet="true" name="twitter:description" content="How to secure exchanges between a Cloudfront and API Gateway with Amazon Cognito."/><link as="script" rel="preload" href="/webpack-runtime-fb08015a88932cb76760.js"/><link as="script" rel="preload" href="/framework-2bc3d871a86fe623e28c.js"/><link as="script" rel="preload" href="/styles-bc72ca78f9bad9fb1f45.js"/><link as="script" rel="preload" href="/app-2dffefe20b7fb78bb719.js"/><link as="script" rel="preload" href="/commons-ed1e68e4db0c1e73f35b.js"/><link as="script" rel="preload" href="/fab8c9364b01cebfd3503fc18011994750f493ff-1346823104f8052e21ca.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-27e998ead0c717efd319.js"/><link as="fetch" rel="preload" href="/page-data\serverless-app-with-secured-api\page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data\app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:42rem;padding:2.625rem 1.3125rem"><header><h3 style="font-family:Montserrat, sans-serif;margin-top:0"><a style="box-shadow:none;color:inherit" href="/">Jstw Blog</a></h3></header><main><article><header><h1 style="margin-top:1.75rem;margin-bottom:0">Secure your Serverless App in AWS (Using Cognito, Cloudfront, API Gateway, and Lambda)</h1><p style="font-size:0.83255rem;line-height:1.75rem;display:block;margin-bottom:1.75rem">June 05, 2020</p></header><section><p>Hello guys!</p>
<p>Today, we will learn together how we can secure exchanges between a client application hosted in a Cloudfront distribution and an API Gateway in AWS.</p>
<p>I wrote <a href="../serverless-api-with-lambda-part-1">an article</a> last week to explain how we can build a serverless app with a simple ReactJS client that query an API Gateway (deserved by Lambda functions) to get items from a DynamoDB.</p>
<p>Well, you will see this article is not very different from the previous one in the beginning, but this time we will go a little bit further in the configuration of our API Gateway. We will also have a look at some new services like Amazon Cognito, and Cloudfront.</p>
<p>There is a list of pre-requisites that you must have before continuing:</p>
<ul>
<li>An AWS account is required (<a href="https://portal.aws.amazon.com/billing/signup#/start">click here</a> to create one)</li>
<li>Node Package Manager (<a href="https://www.npmjs.com/get-npm">npm</a>) or other package managers like <a href="https://classic.yarnpkg.com/en/docs/install/#windows-stable">yarn</a>.</li>
</ul>
<p>We are now ready! Have a nice read :)</p>
<hr>
<p>In general, when you want to develop an interactive client/server web application, you have to identify uniquely any users that will interact with your application.</p>
<p>You will probably need also to make a distinction between simple users and admin users, so you will add some user roles in your application.</p>
<p>Anyway, you will have to implement an authentication mechanism. There are so many authentication systems already existing, from the simplest to the most complex one.</p>
<p>Today I will show you an AWS Service called Amazon Cognito, which uses an authorization framework, OAuth, commonly used as a way for Internet users to grant websites or applications access to their information.</p>
<p>This is a quick overview of how works oAuth2 :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 555px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/9939b2023b42c89c770166caf0cfe258/cd039/oauth2_flow.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 75.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAACIElEQVQoz2VS23aiQBCc//+YzbO+bOJDdFW8gNwREAbkogwoaBTBFBA9nk0dnINN13RXdZN7C8MwZFlWVVXTNLxYloVgWZZVVdm2jYiiKDhlSdJ1HckI4hOp6xp5YRhuNhvHcTzP6749yS6lktLANE1KKU7UWK/XIBJwENput7sWWZqC0LXTkOv6Eoa5YdzKMgiC2+12LUucVQsCJkuS97/vvV5PkqT9fo+ycRxHUYQbt0Hg2ban6zzPTyZjyzQHg8Fo9M/3/cPhQJCtqep0Oh0Oh8iA5vP53FW+tbg/4HmU47i3P2/vHx+iJJ1OJ4LqeZ7jDZzufGa/kr++zmAmLIEpjDF4hExy/4W68xCarxBYdv9w78a2YduMm89nc8u0DscjgcNQmLeAjPTFsNfKCFLqQtR4PIE6GH4EGf8d18V4NF33KNUMg5/NqKK4qupoWhhFLMv2WZYkCSxEJcy5KAr03IwKIdd1dU0bjUZwHt8gCXXQ8+VyycERhHi1Ou52LvVa2glxkNEUwQ/q0bkoioIgYItQbcfYPk2DMPQ9byOKVJJkUez3+4rc7Jm4Wi2XSwhslgTSUera2gNjsA+nICgovRRF9eNdA/S4XhuLxQJXdBMlWONdHKM4TjzYC3TucJz5+Rn5fsJYyhqgTpZlcBQJT0cJGsZioQ2B5/EAWMMrtrKqjq3/3fw7QDME1/XPNAm6xZLh7uSBx5j/37Df+AbPkTuUKmdtEgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="oAuth2 overview"
        title="oAuth2 overview"
        src="/static/9939b2023b42c89c770166caf0cfe258/cd039/oauth2_flow.png"
        srcset="/static/9939b2023b42c89c770166caf0cfe258/12f09/oauth2_flow.png 148w,
/static/9939b2023b42c89c770166caf0cfe258/e4a3f/oauth2_flow.png 295w,
/static/9939b2023b42c89c770166caf0cfe258/cd039/oauth2_flow.png 555w"
        sizes="(max-width: 555px) 100vw, 555px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>And this is how Amazon Cognito works :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/61fdf7797a15826f5799d8e1d4de7009/4b2cc/amazon_cognito.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 50.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABcSAAAXEgFnn9JSAAABtUlEQVQoz22S224aMRCGee88SS8q5RFaqepdLiIlqEpVNRCSsCHpOltgd8PCHr1eH/+OWUgBxZLlkT3+55vDACfLOQfXG739vv2lhdMCRrZka9oGrqugxt+tE6V3CAanYtiLHT9gp4jpzRjD829Yvr5iPo/wFs9RszvrZEUuphd0pzTbS41itYDoFHEBnICEMUjYEmx4j2Kdo6prSKV6dKvhrAoG71Qny4gNqniEMn1ClQaQhn5RusCH/tYZSYL6P6GPJNoWnZRoPI1/kCusn68QzqYIwz9omxJWdRCNOMrIOkeEB4JCtHh5CXF9z3A1ekZXp0Q1waqqUQuNDVfI4wDaKdxdj3D56QviaIGQhYiiCE3Dfbf6lL1gQ2Sbiwv8+vEbw8nMR0KWJZiFDNNpAEYNKIuckjUk/Ibm6S9M14Fzjo5Od5jyvoZllmEVLyl/izCJkaeP5MxREqE2dlcpta3/158MWd19XMO94GGpi7KELhiaco3JwyO4stsuc0kdVwJnny8xW+Q7JfSEFOyoKftZO+x6kqYYj26RELmln9YaaBpgUWWQvPCjQKVr/bBbp/l2Dv8BX+kCIdEJ2YcAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Amazon cognito"
        title="Amazon cognito"
        src="/static/61fdf7797a15826f5799d8e1d4de7009/fcda8/amazon_cognito.png"
        srcset="/static/61fdf7797a15826f5799d8e1d4de7009/12f09/amazon_cognito.png 148w,
/static/61fdf7797a15826f5799d8e1d4de7009/e4a3f/amazon_cognito.png 295w,
/static/61fdf7797a15826f5799d8e1d4de7009/fcda8/amazon_cognito.png 590w,
/static/61fdf7797a15826f5799d8e1d4de7009/efc66/amazon_cognito.png 885w,
/static/61fdf7797a15826f5799d8e1d4de7009/4b2cc/amazon_cognito.png 1013w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>OAuth 2.0 supports several different grants. Grants are ways of retrieving an Access Token. Deciding which one is suited for your case depends mostly on your Client’s type, but other parameters weigh in as well, like the level of trust for the Client, or the experience you want your users to have.</p>
<p>This is the different OAuth flows that exist:</p>
<ul>
<li><strong>Resource Owner</strong>: the entity that can grant access to a protected resource. Typically this is the end-user.</li>
<li><strong>Client</strong>: an application requesting access to a protected resource on behalf of the Resource Owner.</li>
<li><strong>Resource Server</strong>: the server hosting the protected resources. This is the API you want to access.</li>
<li><strong>Authorization Server</strong>: the server that authenticates the Resource Owner and issues Access Tokens after getting proper authorization.</li>
<li><strong>User-Agent</strong>: the agent used by the Resource Owner to interact with the Client, for example, a browser or a native application.</li>
</ul>
<blockquote>
<p>Have a look at this <a href="https://auth0.com/docs/api-auth/which-oauth-flow-to-use">article</a> which can help you to determine which oAuth2 flows is more appropriate to your application.</p>
</blockquote>
<p>I think we can now focus on the implementation of our application. Let me present you the architecture:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/535655496a2995dbeaf1a18762326d5d/1ac29/architecture.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 73.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABJ0AAASdAHeZh94AAABy0lEQVQ4y41Ty0rDQBTNt7kVXPhY+QFuCu50q7gU1IWgCOrKDxDcCYJrbcXiylelQtM8tKVJk8xMJsd7J6atNbVeuJ3pZO65c86csUChtUbY76Pb7SKKImRZxstmLOb/DYvQwCX+5RWeVyro3tdzMF4fARzMeSxpVvy3sjSFpgXv/AIvs/Po3FTzDbQ+unm8cDwHJ+z1enBdF+1WC06ziYiojxdyKJEgDnsTqSqVmbS4QEoJqRQC0q9DOtq2bfQUQhjqHK3TCp62ZtD33qFoKUliyoRAJOI4xvrGI7a2G6QhRUr0FAGGQYggCOD7PsIw/Al4toa33SWITttoWADygbh+76CBg+NmDshgRXK3MsqSimUSTaTMDQTJYgD5NI7rwHHalA6kkL9so5hFqkuajV1KPteoXdvYWb3DY91F7s3hxphOxzL4vmd8WsZgYBsu5KheudhcruG53skB0+FmNj4DcWqtf1nph7GLD4Jo+t4nCaxLT6C/8y+w/KUYDcwvhEwmi87P8uNj6pO0kA07MiW2AiffNmdKN//w+oLbuUU0F5aRjmg4kfKosKwRJ3uQbcQ+7NNoH53A2z9EJuXfgJiiy8CHzCBVUzX8Apctis21gAL1AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="RecipeApp Architecture"
        title="RecipeApp Architecture"
        src="/static/535655496a2995dbeaf1a18762326d5d/fcda8/architecture.png"
        srcset="/static/535655496a2995dbeaf1a18762326d5d/12f09/architecture.png 148w,
/static/535655496a2995dbeaf1a18762326d5d/e4a3f/architecture.png 295w,
/static/535655496a2995dbeaf1a18762326d5d/fcda8/architecture.png 590w,
/static/535655496a2995dbeaf1a18762326d5d/efc66/architecture.png 885w,
/static/535655496a2995dbeaf1a18762326d5d/1ac29/architecture.png 1022w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Let’s summarize this schema regarding the Client-Side operations:</p>
<ol>
<li>Customers will sign-in through the Amazon Cognito with their credentials. They can also create an account with email registration confirmation.</li>
<li>Once logged, Amazon Cognito will redirect to our application with an Authorization Code.</li>
<li>We will exchange this Authorization Code with an Access Token.</li>
<li>Once the Access Token available we will be able to query our API.</li>
</ol>
<p>This token will be essential for the rest because we will protect all our API routes by attaching an “Authorizer” that will check all requests sent to our API if they contain a valid access token provided by Cognito.</p>
<p>Time to code! Let’s connect to the AWS Console and let’s move on :)</p>
<h3>First step: Creation of our Database</h3>
<p>We will create a simple DynamoDB which will contain our secret cook recipe list.</p>
<p>Let’s navigate to DynamoDB via <code class="language-text">Services &gt; Database &gt; DynamoDB</code>.</p>
<p>Once you are here, hit the <strong>Create Table</strong> and let’s provide a table name, <strong>recipes</strong> for example, and fill our <strong>Primary Key</strong> by adding :</p>
<ul>
<li>A “name” (String) property as Partition Key.</li>
<li>A “category” (String) property as Sort Key.</li>
</ul>
<p>Next, we need to add an index to our table. You can configure one like below :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/49d2133de2efaacffb588a764b7220b6/c23ad/dbindex.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 44.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAAByklEQVQoz1WS3VPaQBTF+fd9s9aWDyUhQQQU7ENf+tC+dGy1xQYQx0cHqyIfms8Nm2Qjp/eu2NGd+c1ukrlnztmTwoddG+8rNRTNBqxWF8env/HrzEHPGaB/fgFneIH+kPfRWwYj/f3zl6+oWC0YeweoEoUduwWmXNuHuX+I8fgatzc3GiEiiOiZ5XK5JoZc74lc4vuPU2zv2CTa1BQqJMSHotFAvX2EMBLg5XkefN/XBEEApRSyLNMkSQJJ5PSu5wz1fK3ZJUOd1w6bsFtHCMIIr9fDo6cF0zRDnueaOI61W6Uy9PrnKOl0HRiNQxRY+UXdJoc+DfPiQZU/YbrwMX8MIKRCTAiZ6xQsKqX8L8gaBjvku2OKxh697CAkhyy2WMx1bNf16Pygo6dpSpEVuZOISNT3A/yhcjgyF6ojf6zW8dy0hWq9DY8GIyrBdV2KH+q4/CyE0LAz4IkzIIlDnPQcbJZMfWW7dWp5q2Jjq2ziHWE2DmgofnOHq9UKiorg+2KHvM/CDN8uPVzexTjrD7FZtlGy2ijbbWp5XTfHrpHlq/FfTGcL3E3uMbmfYjKd0fMcc4rN8Pl4dI2N7gCfTq7wk/5bLtVa9/APEultUyOsuu0AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="db index"
        title="db index"
        src="/static/49d2133de2efaacffb588a764b7220b6/fcda8/dbindex.png"
        srcset="/static/49d2133de2efaacffb588a764b7220b6/12f09/dbindex.png 148w,
/static/49d2133de2efaacffb588a764b7220b6/e4a3f/dbindex.png 295w,
/static/49d2133de2efaacffb588a764b7220b6/fcda8/dbindex.png 590w,
/static/49d2133de2efaacffb588a764b7220b6/efc66/dbindex.png 885w,
/static/49d2133de2efaacffb588a764b7220b6/c83ae/dbindex.png 1180w,
/static/49d2133de2efaacffb588a764b7220b6/c23ad/dbindex.png 1193w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Then, for the provisioned capacity part, I will put the minimal values for this demo, but you can provide any resources that you will need, depends on your demand.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/bfe9b2f7d97804dc96d2eafddbc93806/cec12/dbcapacity.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABIUlEQVQoz5VSi46EIAzk///TWx6i+EQR7Dk1EE93kz2SCVjb6fQhmsZSXddk7XkPw0DbtlFYV1oPhBD+3Bnh8gYQQ/tO4kdqqqqKpJRMqpQmYwxDKUVaa76LTRt6GUev2pE0LWljSdYdKdvT6AMJYx07gmwcR0bf95RSov+cHYDC+4+wJeqG6UiiyTnH5PM8n0FHwCegXBwBZ2CaJu4FDtR574vKEvRG0R0CRABKBQmrPAaA97IsTJqdkRDJYf+k9FEynEGOabPiizIkPu2hKL4rL4RQhLVpmpbfIIsxcU/XLXJgjPHRhodCOGGH8AF1XNJBBtLZr7wKQEr7V9MWKKFt2zKQnD337mpD8qzyqx5mAgyl6zru5dWOpLDn4b0j/AU9K16NuqDdrQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="db capacity"
        title="db capacity"
        src="/static/bfe9b2f7d97804dc96d2eafddbc93806/fcda8/dbcapacity.png"
        srcset="/static/bfe9b2f7d97804dc96d2eafddbc93806/12f09/dbcapacity.png 148w,
/static/bfe9b2f7d97804dc96d2eafddbc93806/e4a3f/dbcapacity.png 295w,
/static/bfe9b2f7d97804dc96d2eafddbc93806/fcda8/dbcapacity.png 590w,
/static/bfe9b2f7d97804dc96d2eafddbc93806/efc66/dbcapacity.png 885w,
/static/bfe9b2f7d97804dc96d2eafddbc93806/c83ae/dbcapacity.png 1180w,
/static/bfe9b2f7d97804dc96d2eafddbc93806/cec12/dbcapacity.png 1187w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Finally, we can now create our table! It will take a few seconds to be available.</p>
<p>Once it is, you can click on the <code class="language-text">Items</code> tab, and provide some basic items. I provide you a sample list of them :</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Pizza"</span><span class="token punctuation">,</span>
  <span class="token property">"category"</span><span class="token operator">:</span> <span class="token string">"Fast Food"</span><span class="token punctuation">,</span>
  <span class="token property">"calories"</span><span class="token operator">:</span> <span class="token number">895</span><span class="token punctuation">,</span>
  <span class="token property">"aliments"</span><span class="token operator">:</span> <span class="token string">"Chorizo, vegetables, tomatoes and cheese, a lot of cheese!"</span><span class="token punctuation">,</span>
  <span class="token property">"duration"</span><span class="token operator">:</span> <span class="token number">15</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Salad"</span><span class="token punctuation">,</span>
  <span class="token property">"category"</span><span class="token operator">:</span> <span class="token string">"Bio"</span><span class="token punctuation">,</span>
  <span class="token property">"calories"</span><span class="token operator">:</span> <span class="token number">410</span><span class="token punctuation">,</span>
  <span class="token property">"aliments"</span><span class="token operator">:</span> <span class="token string">"Salad, cucumber, tomatoes and tuna."</span><span class="token punctuation">,</span>
  <span class="token property">"duration"</span><span class="token operator">:</span> <span class="token number">15</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Our DynamoDB is now ready. Let’s move on to the creation of our Lambda.</p>
<h3>Second step: Lambda Function</h3>
<p>Our Lambda function will query our database to retrieve all recipes. To create our Lambda, navigate to <code class="language-text">Services &gt; Compute &gt; Lambda</code>.</p>
<p>Once its done, create on <strong>Create Function</strong>.</p>
<p>Leave the first selected option as is (Author From Scratch), and give our lambda a name: <strong>GetRecipes</strong> and select <strong>Python 3.8</strong> for the language Runtime.</p>
<p>Our Lambda will need some permission to interact with DynamoDB. For that, click on the <strong>Create a new role from AWS policy templates</strong>, search for <strong>Simple microservice permissions</strong> in the Policy templates selector and then provide a role name: <strong>myDynamoDbRole</strong> like below :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/86e284bceb4a453d5d084387533cb5cd/4929c/dynamodbrole.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 37.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAAA2UlEQVQoz5WRi46EIAxF+f8vHRXlbUUKdys7Y5zMI7slJ5eUQsqtug0DrHPQ8wyiDa011Fo73LX13F9Rw22A1hrBB1hrkVIClyLsoFxQuOI/oUYTMBnp0AVo6xEoY92rwCcp/3LsqTQQP7PdNfPRoSdMfhUIOlDX0aWeG53wUMnpsMHlCr83+HxQT3WiURpR4zQhpvXiWX31pi88+XvscT+/qloWA2MMgjyac8YmMNfz4jfeejiLd4uPMHHtA7h28YnjJ4W5P/A6ZRcxR/FO/KPyvugTj9pr/AA/pXQ+thATewAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="dynamo db role"
        title="dynamo db role"
        src="/static/86e284bceb4a453d5d084387533cb5cd/fcda8/dynamodbrole.png"
        srcset="/static/86e284bceb4a453d5d084387533cb5cd/12f09/dynamodbrole.png 148w,
/static/86e284bceb4a453d5d084387533cb5cd/e4a3f/dynamodbrole.png 295w,
/static/86e284bceb4a453d5d084387533cb5cd/fcda8/dynamodbrole.png 590w,
/static/86e284bceb4a453d5d084387533cb5cd/efc66/dynamodbrole.png 885w,
/static/86e284bceb4a453d5d084387533cb5cd/c83ae/dynamodbrole.png 1180w,
/static/86e284bceb4a453d5d084387533cb5cd/4929c/dynamodbrole.png 1727w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Once it’s done, create your function and provide this following code :</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token comment"># Boto is the Amazon Web Services (AWS) SDK for Python</span>
<span class="token keyword">import</span> boto3

<span class="token comment"># To interact with DynamoDB, I just need to specify what resource I will use from boto3 (here: dynamodb)</span>
dynamodb <span class="token operator">=</span> boto3<span class="token punctuation">.</span>resource<span class="token punctuation">(</span><span class="token string">'dynamodb'</span><span class="token punctuation">)</span>

<span class="token comment"># Now I specify which table in DynamoDB I want to interact with.</span>
table <span class="token operator">=</span> dynamodb<span class="token punctuation">.</span>Table<span class="token punctuation">(</span><span class="token string">'recipes'</span><span class="token punctuation">)</span>
    
<span class="token keyword">def</span> <span class="token function">lambda_handler</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        <span class="token comment"># Here, I will use a scan operation, to retrieve ALL my table items.</span>
        response <span class="token operator">=</span> table<span class="token punctuation">.</span>scan<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token comment"># Finally, I just return all the Items I found.</span>
        <span class="token keyword">return</span> response<span class="token punctuation">[</span><span class="token string">'Items'</span><span class="token punctuation">]</span>
    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token comment"># If an exception was thrown, I just catch it to print a log, and then I raise the error.</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'An error occurred while retrieving Recipes table.'</span><span class="token punctuation">)</span>
        <span class="token keyword">raise</span> e</code></pre></div>
<p>Save your function, and we will provide a test event to test our Lambda Function. Click on the <code class="language-text">Test</code> button, and leave the default configuration as is. Just provide a name to your test event, and hit <code class="language-text">Create</code>.</p>
<p>Once your test event has been created, you can click again the the <strong>Test</strong> button and you should have an output like this :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/e1284d9bcc7e6e8802988f02a39151cf/8d7b0/lambdatest.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 39.189189189189186%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAABK0lEQVQoz4WRC2+DMAyE+f9/ka5Tu1GgkIchSUl4XO2MtpsmbUif7PguBwlFeSxRvh/Qmx6KFDQZ2NG+cJZnGlfdocv0uKou+2U9hjH7ZC21uOgPHKs3XPpPnNsTKl1Dew53HZRXXL96mQkmKNibzhCT1/tMs7cwjsXBYvQDBkdcCcPe082DuCd+M+1fHCaPOE+Y5tsvjFMoQuJNlmCMhfcBMSbMaUZKCcu85H5dN/z3bOxpVYPCR4dxdCAasCwLb16fiEnCto0DJfOvXNbsaFBQMPm4IfJRlgnzmpDWmPsnfESZZZb40uefWK9RNPqCw7mE1NbUuXbU8v2Z/eJNvnz5abWqsqdmj+Ef9tBo99nAga1p2FxlwwMRhsk+EfO5OeFq26w9wr57BNHuoXFnws/p1eEAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="lambda results"
        title="lambda results"
        src="/static/e1284d9bcc7e6e8802988f02a39151cf/fcda8/lambdatest.png"
        srcset="/static/e1284d9bcc7e6e8802988f02a39151cf/12f09/lambdatest.png 148w,
/static/e1284d9bcc7e6e8802988f02a39151cf/e4a3f/lambdatest.png 295w,
/static/e1284d9bcc7e6e8802988f02a39151cf/fcda8/lambdatest.png 590w,
/static/e1284d9bcc7e6e8802988f02a39151cf/efc66/lambdatest.png 885w,
/static/e1284d9bcc7e6e8802988f02a39151cf/c83ae/lambdatest.png 1180w,
/static/e1284d9bcc7e6e8802988f02a39151cf/8d7b0/lambdatest.png 1723w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Our Lambda configuration is over, now let’s have a look at our API Gateway.</p>
<h3>Third step: Create  the API</h3>
<p>Let’s navigate through <code class="language-text">Services &gt; Networking &amp; Content Delivery &gt; API Gateway</code>.</p>
<p>Let’s first create our <strong>cook-recipes-api</strong> (HTTP API) and integrate the lambda function like below :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/05b492beffd9d9c882c2852ad26fd744/ee3fb/api-config.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 61.48648648648649%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABJ0AAASdAHeZh94AAABYElEQVQoz6VTi5KDIAzk/3/yfPV8tFatAgJqmo3aer3OTWeOmTWwQLIJUdV1TWmaUpadKIoiOp2+6SuKKS8K8t6Tc+4j4KyxlpQxhoZhEPQ9W63Fgh9HxxjFWj5sjBUec/CY72vsWebUtWkojmNRGCcJq80oYcWwUZzw3sqVVUVlWVFRlpTnBVW8hgV2blXIn7brROGqYItmnxZqPhnTNJHq2VHBkXH5rzEvyw8su51nvqsphEABDodB0/l8Ic8EImhtuIa9qJr4MDgB5kcwBzHX3lB+aaTOD4VVdZaCIkLTtpRmGd1uvah4dTYzENzaUUrVaX4cPwkHpwpK4KSur/LCGMshpT29I+bN8WNsPNJW+IzcR1AINf8Z01rDgbruJhGRMhrU+7DhOA+S1sqtcLt1/rEnNUTKGo28dbx7B/cyx9nwDIxMsVZw1LSdOEXavy6/c4rfDU44I2mXrWUg6A4KCqbURLH1DAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="api main config"
        title="api main config"
        src="/static/05b492beffd9d9c882c2852ad26fd744/fcda8/api-config.png"
        srcset="/static/05b492beffd9d9c882c2852ad26fd744/12f09/api-config.png 148w,
/static/05b492beffd9d9c882c2852ad26fd744/e4a3f/api-config.png 295w,
/static/05b492beffd9d9c882c2852ad26fd744/fcda8/api-config.png 590w,
/static/05b492beffd9d9c882c2852ad26fd744/efc66/api-config.png 885w,
/static/05b492beffd9d9c882c2852ad26fd744/ee3fb/api-config.png 1144w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>and then configure the route to get the recipes like this :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/5ce44adc69144cd3a43bed51a4480cfa/077b7/api-route-config.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 42.567567567567565%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABD0lEQVQoz51Ra0/DMAzM//9psC9ssI8k7RhLK61NX2mbPo7YaUuFEAIinS7OOfY5EQ+PBxxPz3g5n/F0PKEoS5RVxfwfCDc4dH3PsG37WYz594XpHkFIKXG9vuOmNbquQ+8L/wnOwS0gQ8LkBlVVo67rTaDE/b7v3dbsa1OKrW23O0KqCGpBHF8gpQrwMfGrn0BFi355Y6ZzFcWIPLROkKQpmqbBOI4QlZ+bOrTeLrkkhLjjM3LQNBaUx/B60ILT/RqoYFGUIRgG3O8ZcmP8fuSzeZ6ZaRSdpMiynBusGjkijdw5N6wOgyN+VGu5KydPEyYPYkpkZ0uxVeM39jCmYOaCxoRPWd3snX23ftJo5A+UY7a+6Ig0KwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="api route config"
        title="api route config"
        src="/static/5ce44adc69144cd3a43bed51a4480cfa/fcda8/api-route-config.png"
        srcset="/static/5ce44adc69144cd3a43bed51a4480cfa/12f09/api-route-config.png 148w,
/static/5ce44adc69144cd3a43bed51a4480cfa/e4a3f/api-route-config.png 295w,
/static/5ce44adc69144cd3a43bed51a4480cfa/fcda8/api-route-config.png 590w,
/static/5ce44adc69144cd3a43bed51a4480cfa/efc66/api-route-config.png 885w,
/static/5ce44adc69144cd3a43bed51a4480cfa/077b7/api-route-config.png 1166w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Now you can hit <strong>Next</strong>, <strong>Next</strong> again, <strong>Create</strong> and your API will be created a few seconds after. Congrats! Our API is now created :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/c7833edf53b46e2996c9039ec49b7982/d3d45/api-created.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 41.891891891891895%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAABJUlEQVQoz41Q20rDQBTMvyr6ICpU+iAV/KIWrT8kFKqJbW57vyTjOdtEaeKDC8PsDucys9nz2wKr7S2etnd4fLnB6pXv91hurrFYX+BhffkvcO1yc4VM1hq79z32uxyHvEIwHTrXo/cAAhJP8ZcebQ+vI7KqqXE4HiCkgA8ezrsfaKNgnT3TTrqe6T44SCWRtUKgbhqEQGsnxxiDvu9nulIaxtqZbp1D1rQtjmVJ0xVi16XBI2KMZ2+GZx50P9G01sjYXVF8Ic8LfHzmKKsqbdfkboQZYElnF8xck3jULUWW8jSwoiGCHoo2KPqHGMld+MXojpv5i5idcymV9z45Y437U+SqFalAG4uyERDaQg7gu6Ht3MjDWqpPCaiZzXBcZiFkSvMNWedUyCqJiVAAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="api created"
        title="api created"
        src="/static/c7833edf53b46e2996c9039ec49b7982/fcda8/api-created.png"
        srcset="/static/c7833edf53b46e2996c9039ec49b7982/12f09/api-created.png 148w,
/static/c7833edf53b46e2996c9039ec49b7982/e4a3f/api-created.png 295w,
/static/c7833edf53b46e2996c9039ec49b7982/fcda8/api-created.png 590w,
/static/c7833edf53b46e2996c9039ec49b7982/efc66/api-created.png 885w,
/static/c7833edf53b46e2996c9039ec49b7982/c83ae/api-created.png 1180w,
/static/c7833edf53b46e2996c9039ec49b7982/d3d45/api-created.png 1614w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>As you can see, your API has an <strong>Invoker URL</strong>. This is the base URL of your API. So, to test our API, open your browser with this following URL: <code class="language-text">https://&lt;&lt; your api gateway invoker url &gt;&gt;/recipes</code></p>
<p>You should see all your items in your DynamoDB like below :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/129da9032f77710e66360e9e065d50df/75609/recipes-api-results.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 43.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABM0lEQVQoz42SAU+DMBCF+f8/ThI33XTDqEvIsgShhdL22t7zoGxqXJZd8uXawr27Vyge16943uzxUK6w3VbY7d5R1yd0XYe+72e00hgGg8OhxtPTy0wp75flGqvVRur2qN4+UVUfKA6Nw1er0DQN2radCwMFaN3DyNqYcckGzjkQEbz3sNbOTOsQAlJMiDGiUHqAkuKuU1ATMo0jDwqEBMYUfIGRWEjyRDLP67yPMVM4Sqg1SxepaAmsAngQxogkOY0ZtrI3kl3MTfjc5m8UVgSPOsF5saJHcJTOcsbhFzHl83NeBK8xC/aexWIAyX3cE3m661H4wDj2CeSku5Z7m6xNNs1i1cd/U9wSLZwInoYEL1+WtBW7nG3SQvwRuDXZRZCkQFmGl6/q5bfA1avGXWJTfAMN2b9ly7iuSwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="api results ok"
        title="api results ok"
        src="/static/129da9032f77710e66360e9e065d50df/fcda8/recipes-api-results.png"
        srcset="/static/129da9032f77710e66360e9e065d50df/12f09/recipes-api-results.png 148w,
/static/129da9032f77710e66360e9e065d50df/e4a3f/recipes-api-results.png 295w,
/static/129da9032f77710e66360e9e065d50df/fcda8/recipes-api-results.png 590w,
/static/129da9032f77710e66360e9e065d50df/efc66/recipes-api-results.png 885w,
/static/129da9032f77710e66360e9e065d50df/75609/recipes-api-results.png 994w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Well, we did a great job. Our API now works successfully!</p>
<p><em>But, why did you said it’s secure ?! Everyone can access to my cook recipe list with this endpoint…</em></p>
<p>That’s true! Now, we will handle the security part with Amazon Cognito.</p>
<h3>Fourth step: Configure Amazon Cognito</h3>
<p>Amazon Cognito is not present in the Services dropdown, but you can search it directly by tapping <strong>Cognito</strong> :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/76e2143a3fa9c5dfd952977b08339886/7db30/cognito-service.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 19.594594594594593%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABJ0AAASdAHeZh94AAAAlUlEQVQY032P4Q7DIAiE+/7vWWOyTJ2irVa9AavZfo3kC3LCoZtzEUebKHWgtIFc++d8I/U/JB7xhUAJmBOb2XeEEOC9V3ImpJQQY1SIiLWMvPIPckecy3mi985+bCgmtVYVFstEstStNV02xlBkUGaMMSjHgRWT2ay1+qIV19XxdA4nb/1qlw5LnyxYmuM++aaa3fkNxLI3iP0wzK8AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="cognito service"
        title="cognito service"
        src="/static/76e2143a3fa9c5dfd952977b08339886/fcda8/cognito-service.png"
        srcset="/static/76e2143a3fa9c5dfd952977b08339886/12f09/cognito-service.png 148w,
/static/76e2143a3fa9c5dfd952977b08339886/e4a3f/cognito-service.png 295w,
/static/76e2143a3fa9c5dfd952977b08339886/fcda8/cognito-service.png 590w,
/static/76e2143a3fa9c5dfd952977b08339886/efc66/cognito-service.png 885w,
/static/76e2143a3fa9c5dfd952977b08339886/c83ae/cognito-service.png 1180w,
/static/76e2143a3fa9c5dfd952977b08339886/7db30/cognito-service.png 1494w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Once you are, we will firstly handle our User Pool. Click on <strong>Manage User Pools</strong>.</p>
<p>Provide a name to your user pool, <strong>CookRecipePool</strong> for example, click on <strong>Review defaults</strong>, and <strong>Next</strong>.</p>
<blockquote>
<p>There is a lot of configuration possible for User Pools, you can manage the required attributes for the Log-in part, define the “username” attributes, manage password policies, activate MFA, etc.</p>
</blockquote>
<p>On the Review’s page, we will add a Client Application by clicking on <strong>Add app clients…</strong> Click again on <strong>Add app client</strong>, provide a name to your App Client, <strong>CookRecipeApp</strong> for example, leave the default configuration as is and hit <strong>Create App Client</strong>.</p>
<p>Once it’s done, click on <strong>Return to pool details</strong> and create the user pool.</p>
<p>Our user pool is now created, we will configure our <strong>App Client Settings</strong> like below :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/1381bbcb9b0d136c4f492b73980b1a6d/f4b34/app-client-settings.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 57.432432432432435%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABSklEQVQoz41SSXKEMAz0/1+SX+SeUyqXnKZSGQ5AMAzGxnilI3m2ZJZkVNXVEpZloZZIKeGIEAJyzljXFWzOOTRNg7qu0bRt8ed5LmeccwvCLktJ7LoO47jDQnGIiS5a3DN+b49joXMsZmvRyQ6SsBsGWGuvOkDhfOCzj9PZOU9wJ3VLBfsdhnHCqDQmM0PpPSbmyZzi4l/EnONDQqR3xKAM3t43+KhatL3G16BhXCasN/i+P/sVmlgshxnKXkIpRfML5ZdyTtdIPzhdf2dhBc+MBQkxIhKYWe1IwsSUi0CMlHLZgP9QOpSyx0CC8EqwSJbYLg5LyLA+wdJ8AhV8xIShy5/bLaqqgtYGzvuiNHeptYan+K+9Y2RCynsWfIFnNxIMKe6cLwvNxbhj9vkvUs6nwr/4ssPjwSN2WczRnvBYXrYaT68SzxuFb0eqXCtv3m1PAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="app client settings"
        title="app client settings"
        src="/static/1381bbcb9b0d136c4f492b73980b1a6d/fcda8/app-client-settings.png"
        srcset="/static/1381bbcb9b0d136c4f492b73980b1a6d/12f09/app-client-settings.png 148w,
/static/1381bbcb9b0d136c4f492b73980b1a6d/e4a3f/app-client-settings.png 295w,
/static/1381bbcb9b0d136c4f492b73980b1a6d/fcda8/app-client-settings.png 590w,
/static/1381bbcb9b0d136c4f492b73980b1a6d/efc66/app-client-settings.png 885w,
/static/1381bbcb9b0d136c4f492b73980b1a6d/c83ae/app-client-settings.png 1180w,
/static/1381bbcb9b0d136c4f492b73980b1a6d/f4b34/app-client-settings.png 1457w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>In these settings you just need to :</p>
<ul>
<li>Check the <strong>Cognito User Pool</strong></li>
<li>Provide the <strong>Sign-in/Sign-out URLs</strong> (we don’t have our Cloudfront distribution ready for now, so you can put a temporary URL)</li>
<li>Allow the <strong>Authorization Code Grant</strong> OAuth Flow.</li>
<li>Allow a minimum of 1 scope (email for example).</li>
</ul>
<p>We will update the Sign-in/Sign-out later. Now we can claim a Domain Name for our User Pool. Click on <strong>Domain Name</strong> and choose a domain which is available like below :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/c49c4f80f9089bff9a58895f05f34908/da994/userpool-domain.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 50.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABjklEQVQoz5WRS3LbMBBEefdcw1fxBbLy2pZJURAlEvzjRwIk2JmBbC+SeGFUveqpKQA9aGRKa8xKYdYKipjVDOMsRFXh9XTCe3HG+VKiOBcoSqrLErJrYZ2DNiZhrE1wL8uvd7yeBU6XCidxS/WbuOP91iXeqg5l00PIAVfZo2pZB4im+4L7TD0oZJfBQKoF9ezQEKz1ZHGfDKlBNRrkrUIuFQTt5f5tZLVf3NJei6LVyOyyQDvCuoRbPZawYfHhAdVrCInF+wTv+YePfmYoQyEE6rpGKyU05bmQCbOyUi588bod8DuDb1eMkS6kUOumQT8MKdjA05CT90x4KE9J9TQrjNNMOoM/E8eBZYuQOqBWHmbdkG3bBmZdV+z73/bHAzp4kPvnXjZlPagfI01NlzJh25FpcsrzIiHbFuOs0U0K/aTRG4/RBlh6pyN3jsFRBO5TP7D0MlZPRpn1W/rlVq0wi0/O/EQm7DGx0xQJesH/oPETMdKEfIAD5yzigR8tQ5OLyePpt8Sv5yteKo0/ddwCGdKSE8UAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="userpool domain"
        title="userpool domain"
        src="/static/c49c4f80f9089bff9a58895f05f34908/fcda8/userpool-domain.png"
        srcset="/static/c49c4f80f9089bff9a58895f05f34908/12f09/userpool-domain.png 148w,
/static/c49c4f80f9089bff9a58895f05f34908/e4a3f/userpool-domain.png 295w,
/static/c49c4f80f9089bff9a58895f05f34908/fcda8/userpool-domain.png 590w,
/static/c49c4f80f9089bff9a58895f05f34908/efc66/userpool-domain.png 885w,
/static/c49c4f80f9089bff9a58895f05f34908/c83ae/userpool-domain.png 1180w,
/static/c49c4f80f9089bff9a58895f05f34908/da994/userpool-domain.png 1487w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>You can now create your domain, and the next step is to test our User Pool.</p>
<p>To access to the Log-in page, we should pick up the <strong>App Client ID</strong> first. Go to the <strong>App Clients</strong> menu on the left bar, and you should be able to see your App Client name with the App Client ID like below :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/7083dd367406cf217c95d10c77ec56c9/99375/app-client-id.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 34.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABJ0AAASdAHeZh94AAAA1ElEQVQoz6WRD2+EIAzF+f4fclPvzw71FBBwIPj2wNxyS5Ys25r80ldo2lKEsRZ6WSpFz1rjpWnQdB1e25YcvjufK6fLpVK0MgZuXWG9/0SUAoVJKYzThPs8Qw4DbrLHm5T0pD90P461sWL+o5h/osQixFgTVgbF8r5jx/e2P+5J8SlnpJQqmTrEDcI5h1PX4s7uhl1DCIhs8he2rRR8j5DKoVeWU/p6+B+EDxFm3WBDOp7M0X8Ld1AXknOCUNbjxukk0dZxsf7Lr/2EI722uM4LBvoP8tEenN5dpJkAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="app client id"
        title="app client id"
        src="/static/7083dd367406cf217c95d10c77ec56c9/fcda8/app-client-id.png"
        srcset="/static/7083dd367406cf217c95d10c77ec56c9/12f09/app-client-id.png 148w,
/static/7083dd367406cf217c95d10c77ec56c9/e4a3f/app-client-id.png 295w,
/static/7083dd367406cf217c95d10c77ec56c9/fcda8/app-client-id.png 590w,
/static/7083dd367406cf217c95d10c77ec56c9/efc66/app-client-id.png 885w,
/static/7083dd367406cf217c95d10c77ec56c9/c83ae/app-client-id.png 1180w,
/static/7083dd367406cf217c95d10c77ec56c9/99375/app-client-id.png 1525w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Ok so, to the URL to provide to Log-in through Amazon Cognito will be :</p>
<p><code class="language-text">https://&lt;&lt; your domain name &gt;&gt;.auth.&lt;&lt; your AWS region &gt;&gt;.amazoncognito.com/login?response_type=code&amp;client_id=&lt;&lt; your app client ID&gt;&gt;&amp;redirect_uri=&lt;&lt; your redirect URI&gt;&gt;</code></p>
<p>Please replace the :</p>
<ul>
<li>The domain name (your domain previously created)</li>
<li>Client id (provide your app client ID)</li>
<li>Redirect URI (should be <a href="https://www.google.com/authenticate">https://www.google.com/authenticate</a>)</li>
</ul>
<p>For me it will look like :</p>
<p><strong><a href="https://cook-recipes-app.auth.eu-west-2.amazoncognito.com/login?response_type=code&#x26;client_id=13ft34s2dt7nn0ef0k4p512hgp&#x26;redirect_uri=https://www.google.com/authenticate">https://cook-recipes-app.auth.eu-west-2.amazoncognito.com/login?response_type=code&#x26;client_id=13ft34s2dt7nn0ef0k4p512hgp&#x26;redirect_uri=https://www.google.com/authenticate</a></strong></p>
<p>You should be able to see your Log-in page :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 497px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/0a3418a5842ab2d12f5b72258a0bf828/15d25/login.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 101.35135135135135%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABJ0AAASdAHeZh94AAAC1ElEQVQ4y51US2sTURjN3xGsuhD0FyiI4AvRvRv3YoUULXRhk9gmQZcidFGw7dIXtopWa0OgmOadUiTEJs08MjOZZGbymEl6vN+dZEhbocaBM999fPfc8z24vnA4jMXFRSwvL2Npaem/sLKygoWFBRCXLxAIIB6PY2dnB7lcbmxks1ns7u5ibW0NwWDQJYzFYsjn88hkMmMjnU5zMaurqyAuTlitVkGf4zjo9XqH0e+jP8Do+nDNtm1+lsg5IckUhCokSYau66jX62wsMauzeR2KoqBWq0EhDMaapkIURciyBFXVOCGpnJ2dJYVBSGxTVVVO5pJqzDbQbDa9S/Thnq5zS/6apqHRaHLCQqHgEpJCCpkcyAqCgIMDjP15hBS3LMs8f6TIMAxYlsXzRGsnYZhDIvSKQjnrtNtcpcrCME3TS/pJoIsPEVLIlUqZJ7lcrrCQRe7wr4Sk8ljItZrMbnJYgnUecpupPXTwaCuNYJTQVch+oijBanch1VhbKKxyTRMd20G7a6PVsWE7dJipIYIjsI8RBlljCxIalg1Rs9AwO9CabUiayeYm1EZrvCpzhaypZcPGnmKgoloe9jXXFiUDpZrprY2izM5orT7yQ4WR+WeIZ4u4+OQTJh6+xblH73GW4x1Os/mFxx9x9/kGLj/9jPP+D5iYfIczAx/yPfXgDS4F1pHM5BBi0frCcyH8LJRw50UMV0NfcW1uHdfnv+FW9AduhDf4+uTrFO6/2sLt6AZuhr9zkB/hSuAL7r3cQooRUvq8Puz2DmC0OrwImt5EqbyPfVHm+PW7ilJFwJ6goCQ2IKgGy7nrazDbZzmk18prbGqVo1+n3WItYaPHYHc7cOwuX2e1g/OXohSLRbcooVAIm5ub/F1LbG9jmyGZTA7eOhd8zJBKpZBJp5BmlnzIN5FI8H16D4nLF4lEMD09Db/fj6mpKW7HwfDMzMwMotEo/gALxGkmd4joRQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="cognito login page"
        title="cognito login page"
        src="/static/0a3418a5842ab2d12f5b72258a0bf828/15d25/login.png"
        srcset="/static/0a3418a5842ab2d12f5b72258a0bf828/12f09/login.png 148w,
/static/0a3418a5842ab2d12f5b72258a0bf828/e4a3f/login.png 295w,
/static/0a3418a5842ab2d12f5b72258a0bf828/15d25/login.png 497w"
        sizes="(max-width: 497px) 100vw, 497px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Now we will sign up to obtain an account. Let’s provide a username, a valid email address, and a password.</p>
<p>You should receive a verification code in your mail inbox :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/7e4769cb46f0001f00ccbcfc2a298486/40040/verifcode_2.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 41.891891891891895%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAABEElEQVQoz41Si4qDQAz0/7+vB1ZF0QN71Vrfj11d5zJrFSwH18BoNiazk0RnXVcQy7JgHEfM8wylFLquwzRNR2wUn/HVTBgk1vU9+heGYYAxxvI4fNBYFEYh0tsPwjCE73vwPE9iEdL0JucAyXciiXc5p4gkJ45jm5skCbTWlsfBB7Zfav1/8hwy13VtZftBgMvlC657hef7uIpC13URSJzfmqY5Ct+xm8PZcV5suW05N5nTuhUZc07e/A3v/o5Ty03bWhVZllnFNC4mz3M8yxKLXJrXGvdS4yHvtFB4NPpMuCvglth6VVWWkMTcIFUXRXG0q2cDpQ3mxWDSm/8nIVtvRSFJSEwCgjGCv88nS/sFbc9ta/fwo40AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="verif code"
        title="verif code"
        src="/static/7e4769cb46f0001f00ccbcfc2a298486/fcda8/verifcode_2.png"
        srcset="/static/7e4769cb46f0001f00ccbcfc2a298486/12f09/verifcode_2.png 148w,
/static/7e4769cb46f0001f00ccbcfc2a298486/e4a3f/verifcode_2.png 295w,
/static/7e4769cb46f0001f00ccbcfc2a298486/fcda8/verifcode_2.png 590w,
/static/7e4769cb46f0001f00ccbcfc2a298486/40040/verifcode_2.png 616w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Copy/paste this code and create your account :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 498px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/2b37e0bff2678c7f56f3f79103f9f5dd/79e1b/verifcode_1.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 84.45945945945947%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABJ0AAASdAHeZh94AAACrUlEQVQ4y6WTW08TURDH+xmMiq9+Ap9N1PjmF/H26KM8CMQE6B1NylfQhEviJRFLscgDvkHvheCWdluWbaHdtttu975/55yWgjHGICf5Zc707Pw7Z2aOb2FhAbFYDIuLi1eCaTAtXzgcxtbWFvL5PNLp9H9RKBSQTCYRCATgCwaD2NzcRC6XQyqVurQYi2HJJBIJzM/PwxcKhbC3t4dut4vT01M0m81LwWJUVUU2mz0XbDQauOqqVqtDQVZDUaygSf8kHcuo1xuQ6zJaSguyLNO+jhN+JpFf5zepVms8iWarxc/ZKpfLQ8FIJMKdGn0kilWIlQpKQomLiaIIQRAgHR1BkkbQvkbZmKYBx7FhGgYXrFDc+MqSJPEfPc/j1nFcbl3XxcCwoek2epqB/sBEt6dz33IA0wYs2xtlOBIMU4bsyuy6QukQh5StdHzMsy1XZZwofbQ6fZAuBqYH3fLIutAMh9tO34Z7MUNWQ+moBtfUMFAVaJ0mrIEKS+uiT/XSdRO2af27KZTU3BwJRiNhCJUatoUONvJ1JIsn+FZocDbyDSSyMtaJtbTE+UrEM+espWr4ISjY/1mC30+CsbdRfN/Zx+0Xn3H9yTJuPlvBjafLmCB7dyqOR/4kHszEcX9mHQ9fJ3CP7MTzVfpuFbfIXnu8hDuTcWzvFhEJ0Ut5E40gs3+I2Y9FTL7fxfRKbsz8pyJn9kMefrYnO0dML2cwRbxaSuPlux1EvhwgUzxAMOAfdrlOI3K2WO10tQ1b70HrtmFqKhyjT/Vts/5T1y3ohG07v9WQjRuvIROUR4KO60Fpt4kOOl2VBlfhltFS2jQiDlo9A43OAEqPmuV4POaPOWTPhi3DYMPqjGFzeNG3LIsPs0s4ts19YzTY7AGMX0o0Gh3D/L8xPD/nYtxZ7C/G9Yi4x4PozgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="verif code"
        title="verif code"
        src="/static/2b37e0bff2678c7f56f3f79103f9f5dd/79e1b/verifcode_1.png"
        srcset="/static/2b37e0bff2678c7f56f3f79103f9f5dd/12f09/verifcode_1.png 148w,
/static/2b37e0bff2678c7f56f3f79103f9f5dd/e4a3f/verifcode_1.png 295w,
/static/2b37e0bff2678c7f56f3f79103f9f5dd/79e1b/verifcode_1.png 498w"
        sizes="(max-width: 498px) 100vw, 498px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Once it is done, you will be redirected to the <strong>Callback URL</strong> you provided when we configured our App Client Settings. Normally, you have been redirected to the 404 google page, but the most interesting part is the URL :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/6e166c3151fce0519804b60b2977e1a8/a016c/authcodegoogle.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 6.081081081081082%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABJ0AAASdAHeZh94AAAATklEQVQI1w2JOw6AIBTAvIEhOrr7gYcY0CBKoon3v1J9Q4e2TakPKV/U9yPumZgy5dZ2nIjfcBKwyuJEvcevhtka7R3WKWLwwehrGaeBH+72Hoqct8j7AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="google redirect auth code"
        title="google redirect auth code"
        src="/static/6e166c3151fce0519804b60b2977e1a8/fcda8/authcodegoogle.png"
        srcset="/static/6e166c3151fce0519804b60b2977e1a8/12f09/authcodegoogle.png 148w,
/static/6e166c3151fce0519804b60b2977e1a8/e4a3f/authcodegoogle.png 295w,
/static/6e166c3151fce0519804b60b2977e1a8/fcda8/authcodegoogle.png 590w,
/static/6e166c3151fce0519804b60b2977e1a8/a016c/authcodegoogle.png 762w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>As you can see, we get an <strong>Authorization Code</strong>.</p>
<p>This code can be exchanged with an access token. But to get an access token, we need to implement a new API Gateway route to query our Cognito User Pool.</p>
<p>Before creating our route, we will create a new Lambda Function that will handle this token exchange. Let’s navigate to <code class="language-text">Services &gt; Compute &gt; Lambda</code> again.</p>
<p>Once you are here, do the same thing we did for the creation of our GetRecipes lambda :</p>
<ul>
<li>Create a lambda function</li>
<li>Leave “Author from scratch” default option selected</li>
<li>Provide a name (CognitoTokenExchange)</li>
<li>For the execution role, leave the first option selected (Create a new role with basic Lambda permissions)</li>
</ul>
<p>Once your lambda is created, I provided you a ZIP file that contains our Lambda Function but also the dependencies needed to make an HTTP request. <a href="/15e423a003ff7320462f788fb274f397/cook-recipe-authenticate.zip">Click here</a> to download the zip file.</p>
<p>Then, click on the <strong>Edit code inline</strong> like below :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/56c35d3810aa0146e08fd5d3ce069ba5/016a8/update_zip_lambda.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 34.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABJ0AAASdAHeZh94AAABE0lEQVQoz31R2W7EIAzk//+vqnY3qVRpk2a34QhnyDW1SXloVRVp5AEbexjErWnwernicr2haVo07RuU1rDOYbK2gLmZJkilKGfwOY7QhvZSYaIc50OMVOsg+IKUEi5E7MeBfd+wLAtyzgW/ecVfe4bg7jx1WVdqdmDdNoo7eHGB977wg4YdZeCZ46gnizjPmAkr3ecl7s8RL+07BuOg0wIZMpTzpYiH8bMCqY/xRAgBKaXCtTEnSJCl5/KZkErjY3gSHhjZG5ra9QP6riPfuNDCUWMGXzqjLWD1FfVcMGG5xQNSZcjsjlTfh75w5x3SnIri6lPOJ+ez+Tv+8LB6wOApkRoYb+jXPHF6ZgrF+FrzH74AHEgcM3X6A8MAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="upload lambda zip code"
        title="upload lambda zip code"
        src="/static/56c35d3810aa0146e08fd5d3ce069ba5/fcda8/update_zip_lambda.png"
        srcset="/static/56c35d3810aa0146e08fd5d3ce069ba5/12f09/update_zip_lambda.png 148w,
/static/56c35d3810aa0146e08fd5d3ce069ba5/e4a3f/update_zip_lambda.png 295w,
/static/56c35d3810aa0146e08fd5d3ce069ba5/fcda8/update_zip_lambda.png 590w,
/static/56c35d3810aa0146e08fd5d3ce069ba5/efc66/update_zip_lambda.png 885w,
/static/56c35d3810aa0146e08fd5d3ce069ba5/c83ae/update_zip_lambda.png 1180w,
/static/56c35d3810aa0146e08fd5d3ce069ba5/016a8/update_zip_lambda.png 1576w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>And upload the ZIP file previously downloaded and save your lambda.</p>
<p>Now you should update a little bit the lambda by replacing this portion of lambda :</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">import</span> json
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> urllib3

token_url <span class="token operator">=</span> <span class="token string">"https://&lt;&lt; your domain name >>.auth.&lt;&lt; your AWS region >>.amazoncognito.com/oauth2/token"</span>
callback_uri <span class="token operator">=</span> <span class="token string">"https://www.google.com/authenticate"</span>
client_id <span class="token operator">=</span> <span class="token string">'&lt;&lt; your app client id >>'</span>
client_secret <span class="token operator">=</span> <span class="token string">'&lt;&lt; your app client secret >>'</span>

<span class="token keyword">def</span> <span class="token function">lambda_handler</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">:</span>
    authorization_code <span class="token operator">=</span> event<span class="token punctuation">[</span><span class="token string">'pathParameters'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'code'</span><span class="token punctuation">]</span>
    data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'grant_type'</span><span class="token punctuation">:</span> <span class="token string">'authorization_code'</span><span class="token punctuation">,</span> <span class="token string">'code'</span><span class="token punctuation">:</span> authorization_code<span class="token punctuation">,</span> <span class="token string">'redirect_uri'</span><span class="token punctuation">:</span> callback_uri<span class="token punctuation">}</span>
    access_token_response <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>token_url<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">,</span> verify<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> allow_redirects<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> auth<span class="token operator">=</span><span class="token punctuation">(</span>client_id<span class="token punctuation">,</span> client_secret<span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token keyword">return</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>access_token_response<span class="token punctuation">.</span>text<span class="token punctuation">)</span></code></pre></div>
<p>with your <strong>Domain Name</strong> (like we did above), your <strong>App Client ID</strong>, and your <strong>App Client Secret</strong>. You can find this following information in the Amazon Cognito service, in the <code class="language-text">General settings &gt; App clients</code> menu in your <strong>CookRecipePool</strong> :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/5498e7859b08c4f6a8822c5476344c5a/d7ba6/appclients.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 40.54054054054054%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAABLUlEQVQoz4WS6W6DQAyEef+Ha3/TpjlEICzXHuwCy5GpbYkkqqo20idbXmkYj5P0IeCSZSirCs57hHEUWq1xU0rmZV1TXz16RXCvZK6ePdWEBa9Fgc4Y2L6HHwZhilEYpwmRaowz4vw/Cbs6fB2Qfn7geDo9RJd1hae3um6k8u9+v2PdNmx/QA4HWqOFdh6NcTB9gKeVZ/panuc4Xy4wtL4mWJjn7JjrbyTOtjimb+jUGZO7YXClOJyXBRXlk3G+ZQlDkXiKZ6H5zi7+ShK8xil9R1seMdgCwT4FawqaBSsK2xiLruukZ/iNXU+U8SuJtg7nLJd1wzTTulEEOeCmaaBEQMn6ii4dyCXjfcBI0bw6ZkjQIrte5dKt7uQvswuyI85tZ6A3PszOxvw4yjeHM2YzXZAeBQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="app clients"
        title="app clients"
        src="/static/5498e7859b08c4f6a8822c5476344c5a/fcda8/appclients.png"
        srcset="/static/5498e7859b08c4f6a8822c5476344c5a/12f09/appclients.png 148w,
/static/5498e7859b08c4f6a8822c5476344c5a/e4a3f/appclients.png 295w,
/static/5498e7859b08c4f6a8822c5476344c5a/fcda8/appclients.png 590w,
/static/5498e7859b08c4f6a8822c5476344c5a/efc66/appclients.png 885w,
/static/5498e7859b08c4f6a8822c5476344c5a/d7ba6/appclients.png 1107w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Once you have updated the Lambda function, you can save it. So now we will test our Lambda Function. Go back to your Log-in URL :</p>
<p><code class="language-text">https://&lt;&lt; your domain name &gt;&gt;.auth.&lt;&lt; your AWS region &gt;&gt;.amazoncognito.com/login?response_type=code&amp;client_id=&lt;&lt; your app client ID&gt;&gt;&amp;redirect_uri=&lt;&lt; your redirect URI&gt;&gt;</code></p>
<p>Now you have 2 possibilities:</p>
<ul>
<li>Sign in as <strong>your username</strong></li>
<li>Re-login with the credentials you provided during the subscription.</li>
</ul>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 517px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/a954d69ec781407515c4e510ac96d4b0/fa2f5/signin_as.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.05405405405405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABvklEQVQoz6WTTWsTURSG8w/cK4rd+wtciktx4z9w5+dWXAliJskk08SFu0AWWWhrzEymtkI0NUHa0tiNzmQccJLUxAREBM3HNB+Lx3tnal1IC60XXt5zDu95OZx7bySTyZBOp0mlUieCpmkHLL0iMslms1SrVSqVyokge03TDIwjqqqSy+VwXRfLsrBt+1iQPbK3VquRSCRCw3w+T7f7Fa/ZpNlqHwtes0Wn06Ver4eG8XgcXdf539Pv9ULDWCzOqlli3fnOw8IHkisNVLNBomSTWfvE4qqD9tIJ6jKXsWra+2gQMyyevPb46HpoSZVIVIlRXlvh/pLFqetLnL9jcO62zpmbRS4+KHMt/Y7LyjqXHr3hqlrlSvItC3cNzt7SA93pGy+4cO8VtR2Hx4upcEKzZOD0hzzfamPudDDed0S8y7LIJcv6040WzzbaLG+GtWL9CyWhLW7vUra/4X5ukZQTHrbDwXjK0J/hT+ZMpnN+DPb4OZqyJ/Jfgv/ZYb/391IKhQKzuRAOhgxHI4Ex43EI3/cF+wEH8T6PhEZqB6JnMp3heV5oKH+JfDqKohCNRgP+Ex8N5UArIQeTv+U3ZH/AbwZedGwAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="signin as"
        title="signin as"
        src="/static/a954d69ec781407515c4e510ac96d4b0/fa2f5/signin_as.png"
        srcset="/static/a954d69ec781407515c4e510ac96d4b0/12f09/signin_as.png 148w,
/static/a954d69ec781407515c4e510ac96d4b0/e4a3f/signin_as.png 295w,
/static/a954d69ec781407515c4e510ac96d4b0/fa2f5/signin_as.png 517w"
        sizes="(max-width: 517px) 100vw, 517px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Please log-in with your credentials, and pick up the <strong>authorization code</strong> from the redirected URL :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/f8738ffa60569df8a2f1d09170fef37f/cc488/redirected_code.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 52.02702702702703%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABSklEQVQoz62Qy07CUBCG+wJGY9yZGKOC3KwV0YUvZwggUAoF0Vdyy8K48bJyR2uDLS1G2n4eCijBS8R4ki//ZOacf+aMJGePyCk5Tg5ypBUFWT5mN6mwnd4lnVwmFVtiK75KLLEiWEOR18kebhBP7JFIZchkUiJOIu9n2NxJINUaTaqFEu1ylYqmoWmXFM9U8moDtVKmki9xWtDIF1UKJZVGrcV5W0etN6nrOq1WnZpWo32hU6yoSPzzkYIgIPD9CH8UC3w/GMfT/BxRfnJ3llFNCsOQ74APnT9RPuTTmx+/PDULhBjPPqFn470McPvOuP7ecObLvzEcCuncDxneXdG5feDx5npUFI3Cv0xItJ+B5/AqduQO/C8WsNCEY8Nu18A0Tawnk16vh+M42LZNv9+f4Ea6gGEXwzAwhOlILcsSu3TxPA9X4E14A3jFyNwqG9WpAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="redirected code"
        title="redirected code"
        src="/static/f8738ffa60569df8a2f1d09170fef37f/fcda8/redirected_code.png"
        srcset="/static/f8738ffa60569df8a2f1d09170fef37f/12f09/redirected_code.png 148w,
/static/f8738ffa60569df8a2f1d09170fef37f/e4a3f/redirected_code.png 295w,
/static/f8738ffa60569df8a2f1d09170fef37f/fcda8/redirected_code.png 590w,
/static/f8738ffa60569df8a2f1d09170fef37f/efc66/redirected_code.png 885w,
/static/f8738ffa60569df8a2f1d09170fef37f/cc488/redirected_code.png 928w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>For example, my authorization code is: <code class="language-text">53c7105e-09b3-4a93-9062-0cdc74d30bd2</code> (yours will be different).</p>
<p>Go back to your Lambda Function and add a <strong>Test Event</strong>. Click on Test button, and add this following JSON:</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"pathParameters"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token property">"code"</span><span class="token operator">:</span> <span class="token string">"&lt;&lt; put your authorization code here"</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>like below :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/69c6b81a6feeedd6011aa24ef1790843/dd104/testcode.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 24.324324324324326%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABJ0AAASdAHeZh94AAAAq0lEQVQY05WPyQ6DMBBD+f9PrKoeECrNAllIyUZwhzQHpPbC4cmOkrEz3YsxSClRSkHZ969eoc3knGGXBd2sFHwI2OliuxrWSBQWYsTiHDrGOYy1NfD38f6Xo/hM/eG2YTYUyIWA0garD9SSEKnpaIspwkdPPtAGTel8kHOqK55JKUNqCrzdHxiYRT9qPLnBKAyexDgpDGKq9Ew0LzFwWQdn88akiaZuDeQdPkV9hVvQ1pDSAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="test event authorization code"
        title="test event authorization code"
        src="/static/69c6b81a6feeedd6011aa24ef1790843/fcda8/testcode.png"
        srcset="/static/69c6b81a6feeedd6011aa24ef1790843/12f09/testcode.png 148w,
/static/69c6b81a6feeedd6011aa24ef1790843/e4a3f/testcode.png 295w,
/static/69c6b81a6feeedd6011aa24ef1790843/fcda8/testcode.png 590w,
/static/69c6b81a6feeedd6011aa24ef1790843/efc66/testcode.png 885w,
/static/69c6b81a6feeedd6011aa24ef1790843/dd104/testcode.png 1064w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Save your Test Event, and hit the Test button again. Congrats! You should have a response with all your tokens :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/96a9e2a46e8a4d67ebe60a50e150af7a/00b3d/gettoken.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 42.567567567567565%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABc0lEQVQozz2R15acMBBE+f8vtL3rwIByFmFmn8qlhtmHezqoEK3qSbsE7SKs89DaIqaMvu3offumtY5KYszQxsJYB2s9jHFw/M65wNxKnH7++YHPfx/4PX/i198PuOzRjoqyZ6HuBbknhBqExDwySq945C2hn03qehRMi5+h4gpXDUwx8FtAPRPK4FmuSOpNexX0r0ruyPrdy2fElCqfbDRijnxulBgSpxl5raw5SeRkjOOs9YZt7+g327EJ+7EjNj7ZR495fmBdNVE3q8TRX5YVSmmimC+3VkENtKHvBgv1jp4OK6ZcM0WLLMTT1CGw9jL7bXoIgR84ORvmp0gbSpVltdqYF7yeL2xnx2QC/+4UcktCLHwuF+PJiFKTVKMQB6x9cnL+1o5e6pxwcTMexFcrOC4m7QHbV6PhlZGTcDmrf8BmjdA4NXX1mS+NLOjSjd6kwiqiciQh75HbzHLJYFw6+g87I3Z/a7jts3xrRPe8LvwPEmSmLO7pWEMAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="test event success"
        title="test event success"
        src="/static/96a9e2a46e8a4d67ebe60a50e150af7a/fcda8/gettoken.png"
        srcset="/static/96a9e2a46e8a4d67ebe60a50e150af7a/12f09/gettoken.png 148w,
/static/96a9e2a46e8a4d67ebe60a50e150af7a/e4a3f/gettoken.png 295w,
/static/96a9e2a46e8a4d67ebe60a50e150af7a/fcda8/gettoken.png 590w,
/static/96a9e2a46e8a4d67ebe60a50e150af7a/efc66/gettoken.png 885w,
/static/96a9e2a46e8a4d67ebe60a50e150af7a/c83ae/gettoken.png 1180w,
/static/96a9e2a46e8a4d67ebe60a50e150af7a/00b3d/gettoken.png 1745w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>The next step is to configure our route to invoke our lambda. Let’s navigate to <code class="language-text">Services &gt; Networking &amp; Content Delivery &gt; API Gateway</code>.</p>
<p>Select our API, <strong>cook-recipes-api</strong>, and add a new route :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/e60da3a11e0942b695ef69083bf623d1/df438/tokenroute.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 22.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABJ0AAASdAHeZh94AAAAjUlEQVQY042PWQrDMAxEff8z9RD96AEKcYr9k8WrvJSprTiQ/kXwGGvQyEhMUkLOH0xyxm4MrHMw1rLeos8Oek4sywqlFLTWSCmhlMKknJnctfl5vPPFS39eAsUA4UNAjARqA5Fo/OZAdPTdZ+jC8PrCWr84qzbEbo7znPes67Yxvb9Fy2y2Zd9PmNcDP2caNRyWZX6oAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="token route"
        title="token route"
        src="/static/e60da3a11e0942b695ef69083bf623d1/fcda8/tokenroute.png"
        srcset="/static/e60da3a11e0942b695ef69083bf623d1/12f09/tokenroute.png 148w,
/static/e60da3a11e0942b695ef69083bf623d1/e4a3f/tokenroute.png 295w,
/static/e60da3a11e0942b695ef69083bf623d1/fcda8/tokenroute.png 590w,
/static/e60da3a11e0942b695ef69083bf623d1/efc66/tokenroute.png 885w,
/static/e60da3a11e0942b695ef69083bf623d1/c83ae/tokenroute.png 1180w,
/static/e60da3a11e0942b695ef69083bf623d1/df438/tokenroute.png 1556w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Once your route is created and attach our lambda function by clicking <strong>Attach integration</strong> :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/0298796a2019fa0dcb0292d468260663/5e4a4/attachintegration.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 34.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABJ0AAASdAHeZh94AAAA9UlEQVQoz4WR226EMAxE8/9f2S1tYSGFkDuXMLWdRaK8rKWRUZQZnxj12TRovr7hQxA572GdE/G3j/Vstvat2KParsPH4wHuP22HZ99jnCa5oLUGDxwGjRCjKF76XexTzhERmZnCvahiSmKa51lCOTznjLLvVaVI3y/atg2JfCqEKE89jgMHUDtppQscboz5R+FfK2EPD2EtyyIeLsWpMWXcq5S97pPpXaWvgUGGcD/pmPgEUcZHtHqCTSvSdiCuBZG6XzYJMfTsRBQ8mGlOShaT3Us5CrJ5F8VLoMur0E2Twe841h81Wxpg0Q8DNJ3xrjOFXvUHpfod59HO7zwAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="attach integration"
        title="attach integration"
        src="/static/0298796a2019fa0dcb0292d468260663/fcda8/attachintegration.png"
        srcset="/static/0298796a2019fa0dcb0292d468260663/12f09/attachintegration.png 148w,
/static/0298796a2019fa0dcb0292d468260663/e4a3f/attachintegration.png 295w,
/static/0298796a2019fa0dcb0292d468260663/fcda8/attachintegration.png 590w,
/static/0298796a2019fa0dcb0292d468260663/efc66/attachintegration.png 885w,
/static/0298796a2019fa0dcb0292d468260663/c83ae/attachintegration.png 1180w,
/static/0298796a2019fa0dcb0292d468260663/5e4a4/attachintegration.png 1403w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Click on <strong>Create and Attach integration</strong> and find your Lambda function (RecipeCookAuthenticate) to attach to your route :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/3b16b85e0af371d2f9c7b2d433b82bdd/ae21e/createintegration.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 47.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABK0lEQVQoz4WS6W6DMBCE/f5P2R9NGsLlGx/AdNaEKJUSFeljrfV6j7GVdQ7TNGEYRsxaw1qLlBLWdUWt9SOllGYl7hUVYoQgiXPOqHRmBv/HsiwobwqpeZ5xuVzQdR0iE6e0MDi2Aw12e67jC83/Zk/pmPA9eVxHgykW6FRhyw5Xd6Rc4Nj5Md6Kfd8b67bBe9+mOrvc6BOUCRG9DeiNx+ACRhehY4YhUtH5AB9CkyVREkE6E59j0hAOyUR3QWlexM/1B7fbDYEBtZamZSFim2aPROchIZ/7D54JpZLWhiOEv7f3QMZ4fhyXv8O+g3tKdOj74eiqHAkH4/B1H9DRTtRYpwKTK3Vd4cpnLFGik7w96XRrVQBHXa7dHaN0vvAmWSiRLE/qA4UsLPgLE0K9WxVyQs4AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="create integration"
        title="create integration"
        src="/static/3b16b85e0af371d2f9c7b2d433b82bdd/fcda8/createintegration.png"
        srcset="/static/3b16b85e0af371d2f9c7b2d433b82bdd/12f09/createintegration.png 148w,
/static/3b16b85e0af371d2f9c7b2d433b82bdd/e4a3f/createintegration.png 295w,
/static/3b16b85e0af371d2f9c7b2d433b82bdd/fcda8/createintegration.png 590w,
/static/3b16b85e0af371d2f9c7b2d433b82bdd/efc66/createintegration.png 885w,
/static/3b16b85e0af371d2f9c7b2d433b82bdd/c83ae/createintegration.png 1180w,
/static/3b16b85e0af371d2f9c7b2d433b82bdd/ae21e/createintegration.png 1537w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>We will test now if our API Gateway integration works. Open a new browser tab with your Cognito log-in page :</p>
<p><code class="language-text">https://&lt;&lt; your domain name &gt;&gt;.auth.&lt;&lt; your AWS region &gt;&gt;.amazoncognito.com/login?response_type=code&amp;client_id=&lt;&lt; your app client ID&gt;&gt;&amp;redirect_uri=&lt;&lt; your redirect URI&gt;&gt;</code></p>
<p>And sign-in one more time. Pick-up the code, but now open a new browser tab with your API Gateway URL.</p>
<p>The URL should look like:
<code class="language-text">&lt;&lt; your api gateway base url &gt;&gt;/token/&lt;&lt; your authorization code &gt;&gt;</code></p>
<p>Finally, our API endpoint to retrieve our access token works successfully:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/bb0c80f806a1bf5c8cf8ab46d2af80f5/8963a/apitoken.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 17.567567567567565%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABJ0AAASdAHeZh94AAAAsklEQVQY01XLyw6CMBAFUP7/a9SYaFz7BRgTI4g7QxwLpS2PPvBaaElwcXLvtDMJMYZaKpyfAqdM4HirsU3f2F1oto+5SQmH6wfUKFRCgXnEBV7EwIVExTlKIiRdKaGpA/gANDqQBlAmZGtDnwgDxwbYSsNxz+fIzdxH37+1QWILCZNLDLlAf1806Kc5i3Ps0472zMPfFP90Fv4S2/QYe4exs5GL7Cpt3PHa9Y4L7ws//wAflDCS/tWw9AAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="api get token"
        title="api get token"
        src="/static/bb0c80f806a1bf5c8cf8ab46d2af80f5/fcda8/apitoken.png"
        srcset="/static/bb0c80f806a1bf5c8cf8ab46d2af80f5/12f09/apitoken.png 148w,
/static/bb0c80f806a1bf5c8cf8ab46d2af80f5/e4a3f/apitoken.png 295w,
/static/bb0c80f806a1bf5c8cf8ab46d2af80f5/fcda8/apitoken.png 590w,
/static/bb0c80f806a1bf5c8cf8ab46d2af80f5/efc66/apitoken.png 885w,
/static/bb0c80f806a1bf5c8cf8ab46d2af80f5/c83ae/apitoken.png 1180w,
/static/bb0c80f806a1bf5c8cf8ab46d2af80f5/8963a/apitoken.png 1918w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>The next step will be to configure our Client-Side App.</p>
<h3>Fifth step: Configure the ReactJS app with S3/Cloudfront</h3>
<p>I just created a sample ReactJS application which is available in my <a href="https://github.com/JStw">Github</a>. To get the app, you can git clone my project :</p>
<div class="gatsby-highlight" data-language="batch"><pre class="language-batch"><code class="language-batch"><span class="token command"><span class="token keyword">git</span> clone git@github.com:JStw/recipe-app.git</span>

<span class="token command"><span class="token keyword">or</span></span>

<span class="token command"><span class="token keyword">git</span> clone https://github.com/JStw/recipe-app.git</span></code></pre></div>
<p>One the application has been cloned, go to the <strong>recipe-app</strong> folder and run a <code class="language-text">npm install</code>. When your <strong>node_modules</strong> will be installed, you can open the <code class="language-text">App.js</code> file and edit this following lines :</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">API_BASE_URL</span> <span class="token operator">=</span> <span class="token string">'&lt;&lt; put your api base url here >>'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">COGNITO_BASE_URL</span> <span class="token operator">=</span> <span class="token string">'&lt;&lt; put the cognito base url here >>'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">APP_REDIRECT_URI</span> <span class="token operator">=</span> <span class="token string">'&lt;&lt; put your cloudfront url here >>/authenticate'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">APP_CLIENT_ID</span> <span class="token operator">=</span> <span class="token string">'&lt;&lt; put your amazon app client id here >>'</span><span class="token punctuation">;</span></code></pre></div>
<ul>
<li><strong>API<em>BASE</em>URL</strong> is your API Gateway Invoke URL.</li>
<li><strong>COGNITO<em>BASE</em>URL</strong> is your Amazon Cognito domain name (available in your User Pool > Domain Name)</li>
<li><strong>APP<em>REDIRECT</em>URI</strong> is the URL we configured in our User Pool (The Callback URL)</li>
<li><strong>APP<em>CLIENT</em>ID</strong> is the identifier also present in your User Pool > App Client Settings.</li>
</ul>
<p>For example, for me the updates will be :</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">API_BASE_URL</span> <span class="token operator">=</span> <span class="token string">'  https://eq0umxfk86.execute-api.eu-west-2.amazonaws.com'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">COGNITO_BASE_URL</span> <span class="token operator">=</span> <span class="token string">'https://cook-recipes-app.auth.eu-west-2.amazoncognito.com'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">APP_REDIRECT_URI</span> <span class="token operator">=</span> <span class="token string">'https://www.google.com/authenticate'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">APP_CLIENT_ID</span> <span class="token operator">=</span> <span class="token string">'13ft34s2dt7nn0ef0k4p512hgp'</span><span class="token punctuation">;</span></code></pre></div>
<p>Once these 4 variables have been updated, save the <code class="language-text">App.js</code> file, and run an <code class="language-text">npm build</code>. When this command has finished, you should see a <code class="language-text">build</code> folder.</p>
<p>Now we will create an S3 bucket to host our application. Let’s navigate to <code class="language-text">Services &gt; Storage &gt; S3</code>.</p>
<p>Once you are here, create a bucket (bucket name should be unique across the world), so for me, I’ll choose <code class="language-text">cook-recipe-app</code> but you can provide another name.</p>
<p>Leave the default configuration as is, and hit the <code class="language-text">Create</code> button. Then, you have to upload all our <code class="language-text">build</code> folder content in your S3 bucket. Do not forget to upload also the <code class="language-text">static</code> folder with the <strong>js</strong> and <strong>css</strong> folder.</p>
<p>Your bucket should look like below :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d0c0a8d2e7da0e6ac7e0f502c86e7a4f/3f919/s3-1.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 42.567567567567565%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABR0lEQVQoz4WQX0vDMBTF8/2/hgz37vag20CfHHN7UcsmiIiIo6xb2zRJ0zbt8d5sLVVRAz/un3BPTq54/9hicR9g8bDGKthgGTxh+djGte+vX16h8xzKmH8RpVG4vr3D+egKg9EEg/GU8gmGlzcYjic4G88wm6+QW+tFGfMD2+Ui2EpsohyhdvjrNE2Dpq6PtDlHwjnnqaknps8xLjZ7zN8SWHKRGossL1CUJWxLcawrV6GqKpRERQIcub8/HBAnia+F1ZLerwBX+m/ZwvrYR2YZpFJ+mOuMco5KaySp7NbgBfeHmAYUFc7br0/f6FOQQ8NL18r/oiThts90KyFEFEXIyEG/+R0pJXa7HcIw9Lkih9znyPUXwYT+npNd76636D58z4Npmnqn7JL7HPmOTzsr4jjuXvwNTbtiMX6cBc3JAItx3Rf8BP1os+IXdeIqAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="s3 - 1"
        title="s3 - 1"
        src="/static/d0c0a8d2e7da0e6ac7e0f502c86e7a4f/fcda8/s3-1.png"
        srcset="/static/d0c0a8d2e7da0e6ac7e0f502c86e7a4f/12f09/s3-1.png 148w,
/static/d0c0a8d2e7da0e6ac7e0f502c86e7a4f/e4a3f/s3-1.png 295w,
/static/d0c0a8d2e7da0e6ac7e0f502c86e7a4f/fcda8/s3-1.png 590w,
/static/d0c0a8d2e7da0e6ac7e0f502c86e7a4f/efc66/s3-1.png 885w,
/static/d0c0a8d2e7da0e6ac7e0f502c86e7a4f/c83ae/s3-1.png 1180w,
/static/d0c0a8d2e7da0e6ac7e0f502c86e7a4f/3f919/s3-1.png 1771w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span>
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d4fcbbe8d84cb46e2cdb7c068ba65b34/e7aec/s3-2.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 10.81081081081081%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABJ0AAASdAHeZh94AAAAVElEQVQI10VLCQ7AIAjz/79VxCGijJIdTZqmVxERb6354OHM/BG5n+OAmeWm1pqKTlWjPk5EqQC0yJx+xQAn2/tn+LWWr1CcsXk5w2t0oDwZ9Z7bG3VbnI4JwFweAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="s3 - 2"
        title="s3 - 2"
        src="/static/d4fcbbe8d84cb46e2cdb7c068ba65b34/fcda8/s3-2.png"
        srcset="/static/d4fcbbe8d84cb46e2cdb7c068ba65b34/12f09/s3-2.png 148w,
/static/d4fcbbe8d84cb46e2cdb7c068ba65b34/e4a3f/s3-2.png 295w,
/static/d4fcbbe8d84cb46e2cdb7c068ba65b34/fcda8/s3-2.png 590w,
/static/d4fcbbe8d84cb46e2cdb7c068ba65b34/efc66/s3-2.png 885w,
/static/d4fcbbe8d84cb46e2cdb7c068ba65b34/c83ae/s3-2.png 1180w,
/static/d4fcbbe8d84cb46e2cdb7c068ba65b34/e7aec/s3-2.png 1726w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Once your files have been added, we will configure S3 to host a Web Application. For that, go to the root folder of your S3 Bucket, click on the <strong>Properties</strong> tab, and then <strong>Static website hosting</strong>.</p>
<ul>
<li>Click on <strong>Use this bucket to host a website</strong>.</li>
<li>Specify <strong>index.html</strong> for the Index document.</li>
<li>Specify also <strong>index.html</strong> for the error document.</li>
</ul>
<p>and then hit <strong>Save</strong>.</p>
<p>Before accessing our S3 URL, we have to grant public read access for everyone. For that, click on your bucket <strong>Permissions</strong>, and then select the first tab, <strong>Block public access</strong>.</p>
<p>Turn off the <strong>Block public access</strong> (the first option checked) and all the other options will uncheck.</p>
<p>Once it is done, hit <strong>Save</strong> and confirm the action by tapping <strong>confirm</strong>.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/3769c64c5e5a7e4c22e6a0a071f80e40/8d7b0/block-access.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 36.486486486486484%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABJ0AAASdAHeZh94AAAA0ElEQVQoz3WRgQ6DIAxE+f8/229syYyighEUVHLjOjEuTpNnSyjXcqi6riE0DaqqgtYafW/QdV2OvcSSl3XbtsKRsyaf8d5Bee9hjIG1FvM8Y5rI9ANruBdj/MuyLHjZgMfTQoUQpDO7UHQYhgs2Q8Ft225xYcHbeqiY1cdxFDEedM7JmlOx2UwOsXQRWtdVSGlDWuN3wo4T7r7oTJP9ZE4rCmzCq53FUko4f9xX/PFaxUdiSF7LQ+yCzBnp2Z0gJxVBUsw9x7PpJVLkzkfWfABGEB2fBhE5gAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="block access"
        title="block access"
        src="/static/3769c64c5e5a7e4c22e6a0a071f80e40/fcda8/block-access.png"
        srcset="/static/3769c64c5e5a7e4c22e6a0a071f80e40/12f09/block-access.png 148w,
/static/3769c64c5e5a7e4c22e6a0a071f80e40/e4a3f/block-access.png 295w,
/static/3769c64c5e5a7e4c22e6a0a071f80e40/fcda8/block-access.png 590w,
/static/3769c64c5e5a7e4c22e6a0a071f80e40/efc66/block-access.png 885w,
/static/3769c64c5e5a7e4c22e6a0a071f80e40/c83ae/block-access.png 1180w,
/static/3769c64c5e5a7e4c22e6a0a071f80e40/8d7b0/block-access.png 1723w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Finally, we have to add a <strong>Bucket Policy</strong> to make our bucket content publicly available.</p>
<p>Click on <strong>Bucket Policy</strong> and add this JSON policy :</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
    <span class="token property">"Version"</span><span class="token operator">:</span> <span class="token string">"2012-10-17"</span><span class="token punctuation">,</span>
    <span class="token property">"Statement"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">"Sid"</span><span class="token operator">:</span> <span class="token string">"PublicReadGetObject"</span><span class="token punctuation">,</span>
            <span class="token property">"Effect"</span><span class="token operator">:</span> <span class="token string">"Allow"</span><span class="token punctuation">,</span>
            <span class="token property">"Principal"</span><span class="token operator">:</span> <span class="token string">"*"</span><span class="token punctuation">,</span>
            <span class="token property">"Action"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"s3:GetObject"</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">"Resource"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"arn:aws:s3:::&lt;&lt; put your bucket name here >>/*"</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre></div>
<p>like below :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/0fe7b9d15c3861d4c47a87e16f0103a5/9937c/bucketpolicy.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 41.891891891891895%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAABCElEQVQoz5WRTUvEMBCG88O9iDcvXvQiIl78GaIgKH4t6Fm7pV3XJmmb73TX7vY1qVoW9NANPMxkeHknmSHOSJjqA+w9A8unoHkCOpuCzVLwsgQLFJyjYAw0xHinJe9zysvvWPJBR5xvoKyD0Aa1Mn0e0dZDhZrSGr5pRkPyeYF5wSCVRiUkhFSoA9GsFgommMfTdd0oyP7JOW4mL5BSgFcVhFJ9p2a5HPCLxWjIzsExLm4fYJ3Fa5IgSdPAFAWlkOG7ypitILuHp7i8e0LbfiLNMrxFs7CATZG2duC/2iZk7+gM14/PWK9XP5v8nadAWdew3sOFEYylf+HV/QTtqoVx7o8gGm7DF4zzXjFd8G30AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="bucket policy"
        title="bucket policy"
        src="/static/0fe7b9d15c3861d4c47a87e16f0103a5/fcda8/bucketpolicy.png"
        srcset="/static/0fe7b9d15c3861d4c47a87e16f0103a5/12f09/bucketpolicy.png 148w,
/static/0fe7b9d15c3861d4c47a87e16f0103a5/e4a3f/bucketpolicy.png 295w,
/static/0fe7b9d15c3861d4c47a87e16f0103a5/fcda8/bucketpolicy.png 590w,
/static/0fe7b9d15c3861d4c47a87e16f0103a5/efc66/bucketpolicy.png 885w,
/static/0fe7b9d15c3861d4c47a87e16f0103a5/9937c/bucketpolicy.png 1156w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Your static website is now configured, so we can test our S3 bucket URL. Your URL should be like :</p>
<p><code class="language-text">https://&lt;&lt; your bucket name &gt;&gt;.s3.&lt;&lt; your region &gt;&gt;.amazonaws.com</code></p>
<p>For example, for me it will be:</p>
<p><code class="language-text">https://cook-recipe-app.s3.eu-west-2.amazonaws.com/index.html</code></p>
<p>Ok let’s test :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/da59a89d149845bbbb712e7f539bb167/5bd27/appdisplay.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 13.513513513513512%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABJ0AAASdAHeZh94AAAAaklEQVQI16XMOQqAMBQE0BxTBRVcQC0sPJlLNO7LtUzC6FewEwuLx/yB4TPR9uiHCbxpkZccRdWc+HVXtYDoBkzz+mqkXLZrRz9YnGYgYZLCdHxYbvCgTgzb+0Q7x4/A9l1CypvW+helFA7EgbkGatEk9AAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="s3 app displaying"
        title="s3 app displaying"
        src="/static/da59a89d149845bbbb712e7f539bb167/fcda8/appdisplay.png"
        srcset="/static/da59a89d149845bbbb712e7f539bb167/12f09/appdisplay.png 148w,
/static/da59a89d149845bbbb712e7f539bb167/e4a3f/appdisplay.png 295w,
/static/da59a89d149845bbbb712e7f539bb167/fcda8/appdisplay.png 590w,
/static/da59a89d149845bbbb712e7f539bb167/efc66/appdisplay.png 885w,
/static/da59a89d149845bbbb712e7f539bb167/c83ae/appdisplay.png 1180w,
/static/da59a89d149845bbbb712e7f539bb167/5bd27/appdisplay.png 1432w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Congrats! Our S3 application works ;-) According to the S3 documentation :</p>
<blockquote>
<p>Your website is available at the Amazon S3 website endpoint. However, you might have a domain, such as example.com, that you want to use to serve the content from the website you created. You might also want to use Amazon S3 root domain support to serve requests for both <a href="http://www.example.com">http://www.example.com</a> and <a href="http://example.com">http://example.com</a>. This requires additional steps. For example, see Configuring a static website using a custom domain registered with Route 53.</p>
</blockquote>
<p>For more information, you can <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/HostingWebsiteOnS3Setup.html">read the official documentation</a>.</p>
<p>If you click on the <strong>Serverless API</strong> header menu, you will be redirected to the Home page, and you should see a link <strong>Please log-in to see recipes list</strong>.</p>
<p>If you click on this link, you normally will be redirected to the Amazon Cognito Log-in page.</p>
<p>Let’s tackle the final step, the creation of our Cloudfront distribution.</p>
<h3>Final step: Create the Cloudfront distribution</h3>
<p>We are close to the end guys! Let’s navigate to <code class="language-text">Services &gt; Networking &amp; Content Delivery &gt; Cloudfront</code>.</p>
<p>The first step is to <strong>Create Distribution</strong>. We will choose the first option (Web delivery method).</p>
<p>Now, we have to configure our Cloudfront distribution. We will just update a few of them :</p>
<ul>
<li>
<p>Origin Settings :</p>
<ul>
<li>Origin Domain Name should be your Amazon S3 Bucket previously created.</li>
<li>Leave the rest as is.</li>
</ul>
</li>
<li>
<p>Default Cache Behavior Settings :</p>
<ul>
<li>Redirect HTTP to HTTPS</li>
<li>Allowed methods: GET, HEAD, OPTIONS</li>
</ul>
</li>
</ul>
<p>For all the other configuration, leave as is. Just update the <strong>Default Root Object</strong> by putting <strong>index.html</strong>, and finally, you can create your distribution.</p>
<p>Once it is done, it will take some time to create and deploy your distribution. Meanwhile, click on your distribution in the list, and <strong>*Distribution Settings</strong>.</p>
<p>Go to the <strong>Errors Pages</strong> tab and we will create some custom error response :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/ed66b4347877f2e6c1cad4882fa71c7a/914c7/customer-error.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABg0lEQVQoz42SW0vDQBCF81f0RUEQpCAIVqmKlfrgS8V/W7F3KT6JCCIJLbVpkzT3JmnS5Liz6ZZaL7hwspNlcuab2Uhb+0WcX1dxcnmDncIZSpU7HBxXsH9U5nGxXMXp1S12CyXsHV5gm+X/Janbe0Ktdo92u4OHRgudxx5a7S4arS7f68026o0mnl9eISsDvL3LTMqvkoJgBsuy4LouHMdmcuB7eWxZJlwWR1GI/y6JzNTxGLquYcx2WZHR7w8wGo2gyDI0TUeWZUiSBHEcL5UgTfOzaD5ncbqSRK70Ab0QHZmanNhjRXSoqspMNd4BiQB83+c0YRDAMKYQHpyQHjOWQInU4mQygczIdMNAGIa80GKx4DRCdEaLaL2l+RdD+mA6ncK2bW5MlERBRCJxfYmzmLVLnXwzzLKUDT7iBsKI6Kjl+caMSCtDRuhvEoogSWIMhx98ZnQhjuvwiyLi9ZbJhHY+Q1bUNM2fDYkkn6OV/zqsMl2GGIUQGXiet2pZxMLnE4bw07tf27e/AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="custom error"
        title="custom error"
        src="/static/ed66b4347877f2e6c1cad4882fa71c7a/fcda8/customer-error.png"
        srcset="/static/ed66b4347877f2e6c1cad4882fa71c7a/12f09/customer-error.png 148w,
/static/ed66b4347877f2e6c1cad4882fa71c7a/e4a3f/customer-error.png 295w,
/static/ed66b4347877f2e6c1cad4882fa71c7a/fcda8/customer-error.png 590w,
/static/ed66b4347877f2e6c1cad4882fa71c7a/efc66/customer-error.png 885w,
/static/ed66b4347877f2e6c1cad4882fa71c7a/914c7/customer-error.png 978w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Let’s create this custom error, and go back to your Cloudfront distributions list. It should be still in progress, but it’s ok because we have a few more configuration to do.</p>
<p>As you can see, we have a CloudFront domain name available :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/1406e05b1e420662cb72bd525d6a12e1/a5a94/cdname.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 8.783783783783782%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABJ0AAASdAHeZh94AAAAfElEQVQI1x2NyQ6DIABE/f//I5EStGxqWWoVTby9iod3mMksnZQSpRSD1oyD5j2OGGOYpolaK9u24ZzDe4+1lhAC+s42r2lnHeqlEELQ95IupcR5nvg5Y0Iil5VlmW8+lFyewX3fua6LUspDOzqOgxgj6ZtZ648U727O/AFw5ZRJgVYGIQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="cloudfront distr name"
        title="cloudfront distr name"
        src="/static/1406e05b1e420662cb72bd525d6a12e1/fcda8/cdname.png"
        srcset="/static/1406e05b1e420662cb72bd525d6a12e1/12f09/cdname.png 148w,
/static/1406e05b1e420662cb72bd525d6a12e1/e4a3f/cdname.png 295w,
/static/1406e05b1e420662cb72bd525d6a12e1/fcda8/cdname.png 590w,
/static/1406e05b1e420662cb72bd525d6a12e1/efc66/cdname.png 885w,
/static/1406e05b1e420662cb72bd525d6a12e1/c83ae/cdname.png 1180w,
/static/1406e05b1e420662cb72bd525d6a12e1/a5a94/cdname.png 1657w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>For example, for me, it’s: <code class="language-text">d39y0kvui8eeum.cloudfront.net</code>.</p>
<p>If you remember we put some “fake URL” in our RecipeUserPool in Amazon Cognito. So now, we will update our Cognito settings with our Cloudfront Domain Name.</p>
<p>Click on the <code class="language-text">Services</code> dropdown, and search <strong>Cognito</strong>. Once is done, go to your <strong>App Clients Settings</strong>.</p>
<p>Finally, update both Sign-in and Sign-out links like below :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/1727b8404d4cd3d7946041a954eebbb4/078fe/signin-signout.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 52.02702702702703%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABKklEQVQoz51SCW6DMBDk/28kJQqHTTjCZQzlmO6YgmiUSG1XGq3P9YxnvWVZsK7rSzDOY2t7pGmKsixRlAWatnXjum5QFAW6roO3H34Vz3uDtbher7hcLvB9H1EU4SMIEMhaGIZo5QGPh8IohNYacRxDKQWVJEjvd1fE2FEY1LDDcBSmqnmeMU3TgT28z2lGXj5QCuVC6BvTHxfIcJI8juMx5947Neu6wOPhu7Cpqsr9A9lwXEn+T3hWJCciMc9zlyl5z5TZGYO+7w+Y7znzD8ia7c1WkB9KaHFwkCJc4yUW40d3p4t0cs9nuIdMt0mO4wS3W4gojpBlmWNLU5hpVtM0mxlv2msH9x1DMlNauZ56do/zv8AxVEq7niLYuDRJ69Sxe4hBu+u/wRfzZwdS0Pjj/wAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="update sign in sign ou"
        title="update sign in sign ou"
        src="/static/1727b8404d4cd3d7946041a954eebbb4/fcda8/signin-signout.png"
        srcset="/static/1727b8404d4cd3d7946041a954eebbb4/12f09/signin-signout.png 148w,
/static/1727b8404d4cd3d7946041a954eebbb4/e4a3f/signin-signout.png 295w,
/static/1727b8404d4cd3d7946041a954eebbb4/fcda8/signin-signout.png 590w,
/static/1727b8404d4cd3d7946041a954eebbb4/efc66/signin-signout.png 885w,
/static/1727b8404d4cd3d7946041a954eebbb4/078fe/signin-signout.png 934w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p><em>(Do not forget to provide your Cloudfront distribution name and not mine)</em>.</p>
<p>Save your changes, and now go to <code class="language-text">Services &gt; Networking &amp; Content Delivery &gt; API Gateway</code>.</p>
<p>Find your API and open the <strong>CORS</strong> menu in the left tab. Configure CORS like below :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/46f1d9ab36cf14c7d958fe1fba7415e6/ae21e/corsconfig.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51.35135135135135%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABD0lEQVQoz6VSW3KEMAzL/c/Ru/Qc/WBm2R8CzjuAaqVQ6MJ+1YOGJFZs2Y4ZrEXXdej7J1JKyDn/CyZqEAZKuknb+vfsjNOl4zwj5NrAfa0VhgQuSimY5xnN1lW/AzT6qnLOvPWGZ3yMsOIwTILReeSqF+cFy3IghADxvvGs8oLeOfsJinLKMRIT+tHhueFhBT6Xi4IpZvTWIdXlVt0OEzWb9w4izBwu5RJUQJ5zDpP8KLzjZG1HU8jsrUcKOuaXcujb/fXE+1OynjGpCTqpuA1mb+ydMWDZhkLuOzNsOCMTRYn1RQlBxcNgtWS/PZ1yUbiwbAZkT0R7I1t/3oH94xSJnS/Cv7QXMjy+MH5+4Bvx0Q80Q7GTdAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="cors settings"
        title="cors settings"
        src="/static/46f1d9ab36cf14c7d958fe1fba7415e6/fcda8/corsconfig.png"
        srcset="/static/46f1d9ab36cf14c7d958fe1fba7415e6/12f09/corsconfig.png 148w,
/static/46f1d9ab36cf14c7d958fe1fba7415e6/e4a3f/corsconfig.png 295w,
/static/46f1d9ab36cf14c7d958fe1fba7415e6/fcda8/corsconfig.png 590w,
/static/46f1d9ab36cf14c7d958fe1fba7415e6/efc66/corsconfig.png 885w,
/static/46f1d9ab36cf14c7d958fe1fba7415e6/c83ae/corsconfig.png 1180w,
/static/46f1d9ab36cf14c7d958fe1fba7415e6/ae21e/corsconfig.png 1537w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>You just need to allow your Cloudfront Domain Name in your API Origins, but also the <strong>Authorization</strong> header.</p>
<p>Once it’s done, save your changes. </p>
<p>If you remember, we wanted to protect our API /recipes endpoint because now, everyone can access it.</p>
<p>Stay on the API Gateway service, but this time open the <strong>Authorization</strong> menu.</p>
<p>Find your GET <code class="language-text">/recipes</code> endpoint, and click on <strong>Create and Attach Authorizer</strong>.</p>
<p>Configure your <strong>Authorizer</strong> like below :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/39d4120468fe317d2fb1067fb4cf90e6/37523/authsettings.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 98.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABJ0AAASdAHeZh94AAACdUlEQVQ4y5WUiXKjMAyG/f4PuJ1t2jRtwxEwEIPBB8e/kghtupvsdpn5RkjYQpetrLVI0gxZlkNrjbIscUxSNM0ZMUb4EBD+A2Vth91uh8fHRxwOB7zs93j48YAkSTBPEyItGmMg56tciVfyK2rwFAWAQPhlhd/dDHR+QheYGV2cV0m0F1tL340fv6BaF5EZh+e0xEumsc8bPOsBT9phpz0O1YDXosFTqvFM31/yitbU2GcVdE9OInAOnyhLDhs/o7QBRedRkCz7CQUtPhElwfbcDCi7IOvYke4jajfJ3muU8x7ZqcDgAyZKd5xmYZqXT8j+wYwP+3gD5clhVddozgbccdO2wkQNWZYF8zxjITYpLFfyN1SgznTkSFc1jU0lo3MqKGLnxOF0cfZdFM+Otb1Ex4454kAjsUV4C9443UE5iuT9mOBEdUxpuIfBYRzHdaiprs55keu7E50d3nskwrbt5GRwHbmeuqpWSfTDID/ZYJ1/eC9KxZEYY6huJR07jaJcJesF1VM2X9Lc4HKMxHQDSZmjqSgq3nzr4bpdv1/rf6TMtak5XeJsWrRdJ/DosG6oHF1nyWblXXS76e3HWmN4vVlryOOS5SdpDt88SZqSnouNb54jXRTp5UZiOzeQ176+vVEwjaTKpYuUocxh3/dS7K17f0tp+UfacvT4bzlFw465pgM5t/QuXe2HL53mORXdrbqsd2v3GenydnZDHCXsOE4yd8HzPTgK6yzy0EdwENts8gUsiM1Dncn41rTYpQX2RSX8TKhWdoCjzTxGBY0R1/o7jzLk8NT2OOoGSXVG2hi865quLUonrDPK3eMo7h3Fa34B+08RHckS10wAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="authorizer settings"
        title="authorizer settings"
        src="/static/39d4120468fe317d2fb1067fb4cf90e6/fcda8/authsettings.png"
        srcset="/static/39d4120468fe317d2fb1067fb4cf90e6/12f09/authsettings.png 148w,
/static/39d4120468fe317d2fb1067fb4cf90e6/e4a3f/authsettings.png 295w,
/static/39d4120468fe317d2fb1067fb4cf90e6/fcda8/authsettings.png 590w,
/static/39d4120468fe317d2fb1067fb4cf90e6/37523/authsettings.png 720w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Be careful, your <strong>Issuer URL</strong> will be different. If you remember one of the first Cognito schemas, we need to integrate our user pool with an identity pool.</p>
<p>For that, we will use the Cognito IDP URL. Your Issuer URL should be like :
<code class="language-text">https://cognito-idp.&lt;region&gt;.amazonaws.com/&lt;YOUR_USER_POOL_ID&gt;</code></p>
<p>You can find your <strong>user pool id</strong> in the Cognito service, in the general settings :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/ca37dc8519f824c7cb9a9854d013837d/aa08e/userpoolid.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 14.18918918918919%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABJ0AAASdAHeZh94AAAAmklEQVQI142N2wrCMBBE8/f64nf4KxbaesMWH6y3oiWtCba5iTTjporgmwuHYWdmWRbPV4jiFMmCNCFdrnHlHMY5KGP+4EE8iXefnbczFFmEcpfiXuWQlw3aVlBooamgrf3l44WHxgVtaC9hrBh8dqsKnPYZykMOwY9witORGsLe9/AAvPdfwiitwesaXTeFlCMIMYaQE+rXeAHw3OI+dFbEDAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="user pool id"
        title="user pool id"
        src="/static/ca37dc8519f824c7cb9a9854d013837d/fcda8/userpoolid.png"
        srcset="/static/ca37dc8519f824c7cb9a9854d013837d/12f09/userpoolid.png 148w,
/static/ca37dc8519f824c7cb9a9854d013837d/e4a3f/userpoolid.png 295w,
/static/ca37dc8519f824c7cb9a9854d013837d/fcda8/userpoolid.png 590w,
/static/ca37dc8519f824c7cb9a9854d013837d/efc66/userpoolid.png 885w,
/static/ca37dc8519f824c7cb9a9854d013837d/aa08e/userpoolid.png 967w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>The last Authorizer settings is the <strong>Audience one</strong>. You just need to provide your <strong>App Client ID</strong>. Once it’s done, hit <strong>Create and Attach</strong>.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/72391e01e9f26c1d86925fb1b698e94b/a8c87/authjwt.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 47.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABIElEQVQoz41Ra3OEIAzk///CfujcXKfWF4gKinqC2ySnrXN9ZmYluMuSBJXnb8iuF2QvF3S2gW1baGPQdh2c9+id+xNnnWqMhs5foYsMdZnDWIuaDG37aXg+wPlvF6nGtsjyElWtkZcVnPOIMaKjCouiQFVVhJr4WvaODjEfQoAx9468H2DJZxxHKP4wmUgU4yridV0xDAM8gblt2wR8CXNHjMRN8yw58xyqcQFXrfFUPyOQ1i8J/paofE8VGHR9L+YzHVyW5cvKOMx4VWOYYNoegYhI/9e0CQaq3NOs2IzzlNJHpWeDRyhuk/m7Ztub2aRdblEMBaPM6MB3ZmJ4nsk5eD5s6PbX49b+E2om4bo/hIDyG63TNAmOipZH3Q94Byhwuma0Ni9JAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="auth jwt"
        title="auth jwt"
        src="/static/72391e01e9f26c1d86925fb1b698e94b/fcda8/authjwt.png"
        srcset="/static/72391e01e9f26c1d86925fb1b698e94b/12f09/authjwt.png 148w,
/static/72391e01e9f26c1d86925fb1b698e94b/e4a3f/authjwt.png 295w,
/static/72391e01e9f26c1d86925fb1b698e94b/fcda8/authjwt.png 590w,
/static/72391e01e9f26c1d86925fb1b698e94b/efc66/authjwt.png 885w,
/static/72391e01e9f26c1d86925fb1b698e94b/c83ae/authjwt.png 1180w,
/static/72391e01e9f26c1d86925fb1b698e94b/a8c87/authjwt.png 1538w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>As you can see, your <code class="language-text">/recipes</code> endpoint is now protected with a JWT Authorizer. It means that if we re-open a browser tab, and try to get our cook recipe list one more time :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/b8f1802a8e409c8bf14b103e0f12de22/078fe/unauthorized.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 10.81081081081081%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABJ0AAASdAHeZh94AAAAYUlEQVQI13WO2w7AIAhD/f8/1blFwSXgrRPe90AaTktDKKWgtRcpXaiV0PuAancWYzysgohczSdiEDOYG3LO5y7hvh/3VBXBwlbKJ2Rqu4hi740xxu/MOb1ARM4T3dlaCx+f1Zqqcb1g6AAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="unauthorized"
        title="unauthorized"
        src="/static/b8f1802a8e409c8bf14b103e0f12de22/fcda8/unauthorized.png"
        srcset="/static/b8f1802a8e409c8bf14b103e0f12de22/12f09/unauthorized.png 148w,
/static/b8f1802a8e409c8bf14b103e0f12de22/e4a3f/unauthorized.png 295w,
/static/b8f1802a8e409c8bf14b103e0f12de22/fcda8/unauthorized.png 590w,
/static/b8f1802a8e409c8bf14b103e0f12de22/efc66/unauthorized.png 885w,
/static/b8f1802a8e409c8bf14b103e0f12de22/078fe/unauthorized.png 934w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>This time we should be identified to access our recipe list.</p>
<p>Ok so now I think our Cloudfront distribution should be available, so go back to your distribution list.</p>
<p>Copy/paste your Cloudfront Domain Name and open it in your browser :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/2c036aed1f05b6fc9fac8d5a7d1eb43b/97655/cdn.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 36.486486486486484%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABJ0AAASdAHeZh94AAABL0lEQVQoz32Q60oCURSF55260Q0p6UdEGRVS9AT9kMhrXhJ6xdJGx4FEHAdnxsgbBs6crzNjTmXhhu+sfdhrHxZH0bRXmk0DVdWpVhu0211aLZNer49f4/EYdzrFdV0GgwEfkwmO0+P5qUalUkPXm5imjWFYdDoWSjpfIlt4IJUrkswWZF8OKJQfA73L5Enfl4L5bSrHTSJJIpmR3vzXrEiuWA5R1rb3mLO+sx/oymaE6GGM2MUVR6dxjs8vOYtfcyJ1M3LAxm408M79q1vfbyhdy2aGFWI7Do2G/IIXlYauo8leVWvU6xp1TX6LYWDZP3fsEIUl5XkiUP8UQuBJXM9btoLiScMiCI+3kcDsC5yhwB7O1HyXOoKpK6Tl757PPwmlWYS5mF1+46edp17kE5yB1LU8d6OkAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="cdn works"
        title="cdn works"
        src="/static/2c036aed1f05b6fc9fac8d5a7d1eb43b/fcda8/cdn.png"
        srcset="/static/2c036aed1f05b6fc9fac8d5a7d1eb43b/12f09/cdn.png 148w,
/static/2c036aed1f05b6fc9fac8d5a7d1eb43b/e4a3f/cdn.png 295w,
/static/2c036aed1f05b6fc9fac8d5a7d1eb43b/fcda8/cdn.png 590w,
/static/2c036aed1f05b6fc9fac8d5a7d1eb43b/97655/cdn.png 819w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>If you try to click on the <strong>List Recipes</strong> navbar link, you should have a message: “You are not supposed to be here”.</p>
<p>Ok so, let’s sign-in by clicking <strong>Please log-in to see recipes list</strong>.</p>
<p>Hey! Why do we have this error ?!</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/93db98753c7ab0e23eebe454db6f6e6a/c23ad/errorcognito.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 26.351351351351354%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABJ0AAASdAHeZh94AAAAyUlEQVQY022QTQqDQAyFPb6/+Au6duUFFLyAgug4o4KHEEUU16/N0Npqu/hIJnkvZKIIIcAahq7rIAQhZM65QFVVKMsSdV2DMYamaST0btsW3UvPOUff9xjHEYphGLhjmiZUVUUcx8jzHGmaIssyCeVUS5IEmqY9tR+frutQHMfBHc/zpJi2O44Dy7KczPOMfd8xDAMsy4LruhLyUfwZaNu2bNCGRVFg2zZM03RhXVd5FvrJ3f934Dv6vo8oihCG4QWqBUFwar95ANteLjSBpbCeAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="error cognito"
        title="error cognito"
        src="/static/93db98753c7ab0e23eebe454db6f6e6a/fcda8/errorcognito.png"
        srcset="/static/93db98753c7ab0e23eebe454db6f6e6a/12f09/errorcognito.png 148w,
/static/93db98753c7ab0e23eebe454db6f6e6a/e4a3f/errorcognito.png 295w,
/static/93db98753c7ab0e23eebe454db6f6e6a/fcda8/errorcognito.png 590w,
/static/93db98753c7ab0e23eebe454db6f6e6a/efc66/errorcognito.png 885w,
/static/93db98753c7ab0e23eebe454db6f6e6a/c83ae/errorcognito.png 1180w,
/static/93db98753c7ab0e23eebe454db6f6e6a/c23ad/errorcognito.png 1193w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>If you remember in our ReactJS application, we updated this variables :</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">API_BASE_URL</span> <span class="token operator">=</span> <span class="token string">'https://eq0umxfk86.execute-api.eu-west-2.amazonaws.com'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">COGNITO_BASE_URL</span> <span class="token operator">=</span> <span class="token string">'https://cook-recipes-app.auth.eu-west-2.amazoncognito.com'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">APP_REDIRECT_URI</span> <span class="token operator">=</span> <span class="token string">'https://www.google.com/authenticate'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">APP_CLIENT_ID</span> <span class="token operator">=</span> <span class="token string">'13ft34s2dt7nn0ef0k4p512hgp'</span><span class="token punctuation">;</span></code></pre></div>
<p>The problem is our <strong>APP<em>REDIRECT</em>URI</strong> has changed because we put the Cloudfront URL.</p>
<p>So we have to update the <strong>APP<em>REDIRECT</em>URI</strong> by putting our Cloudfront URL like below :</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">APP_REDIRECT_URI</span> <span class="token operator">=</span> <span class="token string">'https://d3lzprsa47l9ig.cloudfront.net/authenticate'</span><span class="token punctuation">;</span></code></pre></div>
<p>Yes, we need to rebuild once more time ^.^</p>
<p>Run an <code class="language-text">npm build</code>. And re-upload your <code class="language-text">build</code> folder content to our S3 bucket. I suggest to delete the entire content and re-upload all the fresh content built.</p>
<p>Before returning to our Cloudfront App, we updated our ClientSide App with our new Cloudfront Callback URL, but we should also update our Lambda which is exchanging our authorization code with an access token.</p>
<p>Open <code class="language-text">Services &gt; Compute &gt; Lambda</code>, and open your <strong>RecipeCookAuthenticate</strong> lambda function.</p>
<p>Change this line and replace the google URL by your CloudFront URL :</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">callback_uri <span class="token operator">=</span> <span class="token string">"https://d3lzprsa47l9ig.cloudfront.net/authenticate"</span></code></pre></div>
<p>Ok so now if we go back to our Cloudfront App, let’s re-try by clicking the sign-in app link and now we can Log-in properly :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 491px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d539198e7ea08938f87bec64df5cfb94/13566/authworks.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 101.35135135135135%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABJ0AAASdAHeZh94AAACsklEQVQ4y61TW28SQRjlwcR3E9vE3+Gbv8FfYHwzUf+CvpiUNlTaBIomPrRANaExXkrBii20tNXGh1bbYsVW5SaXhV12ueyCwMIeZwaWLm1NWuOXPXyzZ745e+abweR2u7Gzs4Pt7e1/wtbWFvb29jA3N4fx8XGYXC4X9vf3GWlEJBI5FcZ5mnd3dxGNRuHxeGCxWGCiyqIoIp/Po1AonBscx0GSJCwsLGBsbAwmn88HGq1WC1pHg9puo9PpQNO0HjrsXef0sY42qaexsrICs9ncFSyXy4jF4ygWRWQyGWSzGaRSKeYglUoikUgiTsBxOcYnk0nEYjHG8zzPBIPBIEZHR2GiVqk7QeCJYBGyouBfIhQKHQk2Gg32JaEoMLd0G32oKtQejLzOUTMDDufn5xlRqymQZRmlUhn1ev3Ufp0GKjogSHuoEKF0Ok16lEeJODyL0PFDGexhs0muTYFdH6VWI0UddtrtM0Dfcr+H+paVagWVSpn0sES20eq1WiOPdj6HPuKwWlcRz0nIChVwYhU5UUa2SNogVFGs1JnbZotAPYnfzZ5DXdDr9TJCVdtdR/SXXmLqgGz9rNF3GFj0Y/O7CKvvKx4tHWDq3QEcBjxeOsRU4BvsBLa3g6CcxfsFoaiAtdXeP2VteRH3nkdw4YYHV+6+xtDtlwSvMEzypVsvcO3BMq4/DOPq/QAuE26YzA31Mq2/eNODO67P+LC+ipERIhh448OnRAlPgoeYXY/BvfYTLoLZjTh7f/Y+Ac9mko2dqz/wdCPWr6OZrvsYKx051E/ZGLLEg8/9QkUsQOI5CFwaZYHc0YoCXpKh1Bsn1izrPfT7/fgfEQ6Huw7tdjucTiemp6f7mJmZ+QuO5oz1dL3D4cDk5CRMExMTTJnaNcLI6WOzuTum+Xit1WqFzWbDH7VWb0M5PQC1AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="login ok"
        title="login ok"
        src="/static/d539198e7ea08938f87bec64df5cfb94/13566/authworks.png"
        srcset="/static/d539198e7ea08938f87bec64df5cfb94/12f09/authworks.png 148w,
/static/d539198e7ea08938f87bec64df5cfb94/e4a3f/authworks.png 295w,
/static/d539198e7ea08938f87bec64df5cfb94/13566/authworks.png 491w"
        sizes="(max-width: 491px) 100vw, 491px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>So, enter your credentials and sign-in.</p>
<p>As you can see this time, we do not have been redirected to the Google fake page to get our authorization code, it has been redirected to our app :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/4d5039050f5887a82d28fd724f340adc/fe8a7/get_authcode.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 22.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABJ0AAASdAHeZh94AAAAl0lEQVQY053MywqCUBSFYd+xhC5kgYUI1SNVcjzmJRULei49OHGgf0chqAYRbfhYe7D2Ni5ZQRinRElGcbuT5lfkOUaGCZ4IOJwER09qPkKG+EGsRQit7w27jIaMkhxjPLV4Gk0WWLaD7WxZuzs27h5zvsKcLX9m8DFN01DXNV3X8c8Y/eGr/llVKZRSlGVJpbNt3zvfPACW0AMTJTs72QAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="get auth code from app"
        title="get auth code from app"
        src="/static/4d5039050f5887a82d28fd724f340adc/fcda8/get_authcode.png"
        srcset="/static/4d5039050f5887a82d28fd724f340adc/12f09/get_authcode.png 148w,
/static/4d5039050f5887a82d28fd724f340adc/e4a3f/get_authcode.png 295w,
/static/4d5039050f5887a82d28fd724f340adc/fcda8/get_authcode.png 590w,
/static/4d5039050f5887a82d28fd724f340adc/efc66/get_authcode.png 885w,
/static/4d5039050f5887a82d28fd724f340adc/c83ae/get_authcode.png 1180w,
/static/4d5039050f5887a82d28fd724f340adc/fe8a7/get_authcode.png 1223w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>And finally, you will be redirected to the home page, authenticated :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/437eb51fec4eb8cce93aaf810bb34f98/f2331/authok.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 14.864864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABJ0AAASdAHeZh94AAAAbElEQVQI153LYQqCMBxA8d2qhDLIUUkkhLcXsqbuv46wzdpzdILqwe/jU7puOJyvnC4tm/2R1bai2OmfrEv9ecuqRj2MYRhGTHbr73S9ZZwcVgRrvzNlIg5xT1RKiRgj3ntCCMyvRHhDzP5pARhKu+9T0531AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="auth ok"
        title="auth ok"
        src="/static/437eb51fec4eb8cce93aaf810bb34f98/fcda8/authok.png"
        srcset="/static/437eb51fec4eb8cce93aaf810bb34f98/12f09/authok.png 148w,
/static/437eb51fec4eb8cce93aaf810bb34f98/e4a3f/authok.png 295w,
/static/437eb51fec4eb8cce93aaf810bb34f98/fcda8/authok.png 590w,
/static/437eb51fec4eb8cce93aaf810bb34f98/efc66/authok.png 885w,
/static/437eb51fec4eb8cce93aaf810bb34f98/c83ae/authok.png 1180w,
/static/437eb51fec4eb8cce93aaf810bb34f98/f2331/authok.png 1427w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Click on the <strong>List Recipes</strong> now, and you should see your data :</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/dec3e40414359eca12cf0352dcac5e24/5faa8/recipes.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 27.027027027027025%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABJ0AAASdAHeZh94AAAAjUlEQVQY052OSwvCMBCE86dVajGllRY8+C/bQpqHwR5CnqMJevDWOjB8C7s7u6RurqDdgOF2B217nOoG1aUtPFQUx/M2064ve8Rai5QSvHcIIXxqj39FpnkGYwukUuBCQGtd+FzXEp6P7DEZx+kdyKDUAwvnEFKWRlYO/HKrSQ7IXznnYIwpjDH+DO3RC7cga64sZU5iAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="data"
        title="data"
        src="/static/dec3e40414359eca12cf0352dcac5e24/fcda8/recipes.png"
        srcset="/static/dec3e40414359eca12cf0352dcac5e24/12f09/recipes.png 148w,
/static/dec3e40414359eca12cf0352dcac5e24/e4a3f/recipes.png 295w,
/static/dec3e40414359eca12cf0352dcac5e24/fcda8/recipes.png 590w,
/static/dec3e40414359eca12cf0352dcac5e24/efc66/recipes.png 885w,
/static/dec3e40414359eca12cf0352dcac5e24/c83ae/recipes.png 1180w,
/static/dec3e40414359eca12cf0352dcac5e24/5faa8/recipes.png 1444w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Good job! We are done now ;-)</p>
<p>Let’s summarize what you achieve during this tutorial :</p>
<ul>
<li>You created a DynamoDB table.</li>
<li>You created a Lambda function to retrieve DB items.</li>
<li>You created an API with API Gateway to invoke the lambda to get the items from the database.</li>
<li>You configured Amazon Cognito with the Authorization Code OAuth flow.</li>
<li>You created a second lambda to exchange the authorization code with the access token.</li>
<li>You added a new route to trigger this token exchange lambda.</li>
<li>You deployed a ReactJS application, hosted it in AWS S3, and configuring a Bucket Policy to publicly access it.</li>
<li>You created a Cloudfront application deserving the S3 bucket.</li>
<li>You created and attach an Authorizer to your API Gateway route.</li>
</ul>
<p>Well done! I think you can play a little bit with it, but you did a great job and played with many AWS services :)</p>
<p>I hope this tutorial was helpful for you if you liked it do not forget to share ;)</p>
<p>See you next time!</p></section><hr style="margin-bottom:1.75rem"/><footer><div style="display:flex;margin-bottom:4.375rem"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px;margin-right:0.875rem;margin-bottom:0;min-width:50px;border-radius:100%"><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAUDAQT/xAAWAQEBAQAAAAAAAAAAAAAAAAABAwL/2gAMAwEAAhADEAAAAbOGc8bac3P0Sg30Ul//xAAdEAACAgEFAAAAAAAAAAAAAAABAgADEgQRISMy/9oACAEBAAEFAsohJOQmo8ra1UWwbWcrV2Ctyi//xAAZEQACAwEAAAAAAAAAAAAAAAAAAQISITH/2gAIAQMBAT8BxIsifBn/xAAYEQEBAAMAAAAAAAAAAAAAAAAAAQISIf/aAAgBAgEBPwHta1gj/8QAHRAAAgEEAwAAAAAAAAAAAAAAAAECEBESITFBcf/aAAgBAQAGPwKqinyST6p5sxkYq2j/xAAbEAEAAwADAQAAAAAAAAAAAAABABEhMUFRYf/aAAgBAQABPyE+GOObPXmfSK2Gt3qOWqWN2xR0c8hNelGHtOW+5QCiTSf/2gAMAwEAAgADAAAAEFMnQv/EABgRAAMBAQAAAAAAAAAAAAAAAAABMRAh/9oACAEDAQE/EKnjIbrP/8QAGBEBAAMBAAAAAAAAAAAAAAAAAQAQITH/2gAIAQIBAT8QBcp6YMn/xAAdEAEAAgMAAwEAAAAAAAAAAAABABEhMVFBcdFh/9oACAEBAAE/EO4R0auq6/qWZ8oxcXqUUGr9zMs4gArX7EexS+GtRXTKiwiV9hLhpws9+x6gETVpds//2Q==" alt="Julien Sauvannet" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/static/5cedcb2b70ec9d23884c6868cc27b7c4/99438/profile-pic.jpg 1x,
/static/5cedcb2b70ec9d23884c6868cc27b7c4/aba1d/profile-pic.jpg 1.5x,
/static/5cedcb2b70ec9d23884c6868cc27b7c4/b315d/profile-pic.jpg 2x" /><img loading="lazy" width="50" height="50" srcset="/static/5cedcb2b70ec9d23884c6868cc27b7c4/99438/profile-pic.jpg 1x,
/static/5cedcb2b70ec9d23884c6868cc27b7c4/aba1d/profile-pic.jpg 1.5x,
/static/5cedcb2b70ec9d23884c6868cc27b7c4/b315d/profile-pic.jpg 2x" src="/static/5cedcb2b70ec9d23884c6868cc27b7c4/99438/profile-pic.jpg" alt="Julien Sauvannet" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><p>Written by <strong>Julien Sauvannet</strong> <!-- -->a passionate full-stack developer.<!-- --> <br/>Senior Software Developer at <a href="https://www.arhs-group.com/entities/spikeseed/">ARHS Spikeseed</a>.</p></div></footer></article><nav><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/serverless-api-with-lambda-part-3/">← <!-- -->Serverless App with AWS in ReactJS, using Lambda &amp; API Gateway - Final part</a></li><li><a rel="next" href="/deploy-sonarcube-on-aws/">Deploy SonarQube on AWS EC2 Instance<!-- --> →</a></li></ul></nav></main><footer>© <!-- -->2021<!-- -->, Built with<!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a><br/><small>Socials links: <a href="https://twitter.com/jstw">Twitter</a>, <a href="https://stackoverflow.com/users/8597732/jstw">StackOverflow</a>, <a href="https://www.linkedin.com/in/julien-sauvannet-8b5330b7/">Linkedin</a>.</small></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/serverless-app-with-secured-api/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-8caa4ff83ad3e29d26bf.js"],"app":["/app-2dffefe20b7fb78bb719.js"],"component---src-pages-404-js":["/component---src-pages-404-js-38ef914659b15a77ee14.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-8382eec9d940eb38af0a.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-27e998ead0c717efd319.js"]};/*]]>*/</script><script src="/polyfill-8caa4ff83ad3e29d26bf.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-27e998ead0c717efd319.js" async=""></script><script src="/fab8c9364b01cebfd3503fc18011994750f493ff-1346823104f8052e21ca.js" async=""></script><script src="/commons-ed1e68e4db0c1e73f35b.js" async=""></script><script src="/app-2dffefe20b7fb78bb719.js" async=""></script><script src="/styles-bc72ca78f9bad9fb1f45.js" async=""></script><script src="/framework-2bc3d871a86fe623e28c.js" async=""></script><script src="/webpack-runtime-fb08015a88932cb76760.js" async=""></script></body></html>