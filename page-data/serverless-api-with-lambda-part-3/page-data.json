{"componentChunkName":"component---src-templates-blog-post-js","path":"/serverless-api-with-lambda-part-3/","result":{"data":{"site":{"siteMetadata":{"title":"Jstw Blog"}},"markdownRemark":{"id":"794a40fc-621f-5827-9011-4d7834ae7f1f","excerpt":"Hey hello there! If you didn’t read the previous post, I suggest you to read it before continuing. If you did, perfect, let’s go ;) The last part is to…","html":"<p>Hey hello there! If you didn’t read the previous post, I suggest you to <a href=\"./../serverless-api-with-lambda-part-2\">read it</a> before continuing. If you did, perfect, let’s go ;)</p>\n<p>The last part is to integrate our Lambda Functions previously created, in a API. AWS provides a really great service for that, which is called <strong>API Gateway</strong>.</p>\n<p>Find this service, by opening <code class=\"language-text\">Services &gt; Networking &amp; Content Delivery &gt; API Gateway</code>.</p>\n<p>Let’s create an API by clicking the <code class=\"language-text\">Create API</code> button.</p>\n<p>We have the possibility to chose some types for our API, but in this case we want to create an HTTP API. Let’s choose the <code class=\"language-text\">HTTP API</code> (the first one).</p>\n<p>Provide a name <strong>blog-api</strong> for example, and let’s integrate all Lambdas by adding them one by one in the <code class=\"language-text\">Create and configure integrations</code> like below :</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3ade922f177a4cdbe7485a33910babb2/ee3fb/integration_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.05405405405405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABbElEQVQoz31Si46EIAz0/3/yRNfX+lgfCLiivU5F10s2RzKplDJOp0Rd19HjkVGW5RTHsXzHSlGSPsg5R25xIS6CJQC5JeTOvOVcZIyheZ4F0zRJ1FpLXNf1wvv9FpxEyCEit4Qz7KO+70mphFJWpJJUFEJdkqasWPGZoh+OZVVRUZRUlhXleSGxLEvprAix7weKZlYI0mEYWOGhTAfFojR0sG0b7Qysfd+P/RU/uQiXn3VNwzjSfwsX5FKI9+81tCyE1lp6vXr2xEuB+BS88d5/wMUXeA8i1GnjqO64w3EKCrmtlH2bOK5cCPKEvWyaVn7wh+gGkKG2HTR1Mw+EBSEXYVpsgbALgheXR1+AvPfHOcntY0FQhFHDeLRxkpye+fMn3yCkhx3oUuv50zKeg2EvQYJJt/zYkd9vau/wgRDvtuk1Ze1I02z4zB9DadqWjLHyQDH16vlk1JJf74O5wVonz8k6HqDfxAJw/QJYm1dej4ZYjwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Integration 1\"\n        title=\"Integration 1\"\n        src=\"/static/3ade922f177a4cdbe7485a33910babb2/fcda8/integration_1.png\"\n        srcset=\"/static/3ade922f177a4cdbe7485a33910babb2/12f09/integration_1.png 148w,\n/static/3ade922f177a4cdbe7485a33910babb2/e4a3f/integration_1.png 295w,\n/static/3ade922f177a4cdbe7485a33910babb2/fcda8/integration_1.png 590w,\n/static/3ade922f177a4cdbe7485a33910babb2/efc66/integration_1.png 885w,\n/static/3ade922f177a4cdbe7485a33910babb2/ee3fb/integration_1.png 1144w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/03266e80dde87402388cff82018de7d7/72372/integration_2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABR0lEQVQoz51Si46EIAzk/z9zL1ld36ACgtjrVDFkc7eXHEl9lHbamVZZ52gYRooxUkpJ3rB93z8aYv22kXWemrYjxzjwq3lZqKprdngJ0tpwQEtmnikdB+3sS5flbySGEGmaNHXGUqstBW4ihEBq4yqrtbRtQTpDVa01LVwIgKkATAUg4pCDfxz4gKXCRfFAMlt5fgLLhngxUGe6MZ5SKMvddV0vLSMAVZz3p6a/dCjGd9Y6MqujVz9K3q3h81nRsq4C0vOAHo8vEXoXeqd2+TsPToY5TjQuDOqiNAQZVGTUkl6m/onuHSuZ15NzAKqAii5z9UznT0COQacbT3acJvK+oFxVteiGKpgwNIUE72tTrg/AANRMK1WDkZWBT2EhcQGBz0V11PcDaWPu5NKyhmjAY3jcVaYrGuICAK+mFer/Oce1bqD8DerFXwwB/0YBAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Integration 2\"\n        title=\"Integration 2\"\n        src=\"/static/03266e80dde87402388cff82018de7d7/fcda8/integration_2.png\"\n        srcset=\"/static/03266e80dde87402388cff82018de7d7/12f09/integration_2.png 148w,\n/static/03266e80dde87402388cff82018de7d7/e4a3f/integration_2.png 295w,\n/static/03266e80dde87402388cff82018de7d7/fcda8/integration_2.png 590w,\n/static/03266e80dde87402388cff82018de7d7/efc66/integration_2.png 885w,\n/static/03266e80dde87402388cff82018de7d7/72372/integration_2.png 1149w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Now our Lambda are integrated, let’s create our <strong>routes</strong> and configure it like this :</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/464f518bbd960c472e3bf9cd78dfb6ed/e9d87/route_config_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABS0lEQVQoz31SXU/DMAzs7+e/8MyPQLzDAxpo6ZqO5bNN2rRpDztso0wTkU6ufPHZvrTy3kNpDW0MrHUIIVzR38R/EWO5V7Gg2AvItoVSGjnnK5blHDe5e5jnGdM0IRFIsIOUEm17REOxaSREXaOuD3+wFzUOh6ZwQvzypfZ4hHOOBlhQ8Zg8mVIKp5MiwsPQ+lozdIlsiTG2FF3zfIcQaVWecl3XH8HiUR/Ah5PsY9d1uD3DMBBnEUO4YVakNNHa+SxIHbgz7z+mVAS5K5P5DG4klcHrbg8dRvgpw6cMHRP6IYHfIcaAlTyvInU21JnBxZdJWfCClXK66/Epv9CQsCWhOC/oSTjlhQvKnUyoHKl7WpHB3/fAHHv8sduVabbHWoNWe9jnR5inB3rljVAR5rjBJa/pUST9CV3fF3uGcSwWMW8caYg3uPcXfAOEmbSA00RelQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Route Config example\"\n        title=\"Route Config example\"\n        src=\"/static/464f518bbd960c472e3bf9cd78dfb6ed/fcda8/route_config_1.png\"\n        srcset=\"/static/464f518bbd960c472e3bf9cd78dfb6ed/12f09/route_config_1.png 148w,\n/static/464f518bbd960c472e3bf9cd78dfb6ed/e4a3f/route_config_1.png 295w,\n/static/464f518bbd960c472e3bf9cd78dfb6ed/fcda8/route_config_1.png 590w,\n/static/464f518bbd960c472e3bf9cd78dfb6ed/efc66/route_config_1.png 885w,\n/static/464f518bbd960c472e3bf9cd78dfb6ed/e9d87/route_config_1.png 1176w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Please be sure to have the same URL as below :</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7198b48cd5e26caa026248d8c7d851f0/72372/route_config.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABJ0AAASdAHeZh94AAABh0lEQVQoz52TWZKDMAxEuf8xEyBM2DGLWTV6wjCpfA5VKhst7e42RE3TyPMZy+uVyc/7LZP3/wrPOk0SDcMgVVVJ07bSOSfLstyxrusd37nlKz/Ps0XUdZ2k6UuSJJUkTW3/jGNjzfqwNbF9kiQSazweT6vHmmcuyzLJ80I8gH3fS1lWAnDTtBYw5v0MJ23bSV03GrXVarXJud7q4zjJ52OSGeLZ990GnXN3wxHWUf0pFQyg/TjuGnvvT7nMRzQS27aZsbBxytoHo8kTGJ4XpQzDaN4xPJt3i7KujbUB0ngN0gBjirABfNU8LGDQ6sVRG8bRhpdwKVwmJG7AXkHWdbMiklhPSYcdZGwUEH8xngO27Q+wxWsFPSXraSY5DGE0Eiq9ABrJ04iKvCik7wd7/2TIQfSeDLXR9YP5ckmmyHeJjMsvABu1YJq82UAswUOsgSFqIhpggy8MmwUKhHTAD5VHULvsuHKwR/qlklwEUMU3pmbTbE1BEuv9VwQvjdnHn0IAuoVb/wUyOKMXZFzn0AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Route Config\"\n        title=\"Route Config\"\n        src=\"/static/7198b48cd5e26caa026248d8c7d851f0/fcda8/route_config.png\"\n        srcset=\"/static/7198b48cd5e26caa026248d8c7d851f0/12f09/route_config.png 148w,\n/static/7198b48cd5e26caa026248d8c7d851f0/e4a3f/route_config.png 295w,\n/static/7198b48cd5e26caa026248d8c7d851f0/fcda8/route_config.png 590w,\n/static/7198b48cd5e26caa026248d8c7d851f0/efc66/route_config.png 885w,\n/static/7198b48cd5e26caa026248d8c7d851f0/72372/route_config.png 1149w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>You can now click on <strong>Next</strong> and leave the configuration stages as is. Review your API creation, and if it’s respect all the configuration above, you can hit the <strong>Create</strong> button.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9dd7fb49ed4873643a7ff78479d12419/098c1/api_sucess.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABKklEQVQoz5VRO07EMBD1XWhol54VRUTJp+FQSBTQbCSOwQE4AhdY2iASf+I4PzuJHmMni5ZNtCtGepqZ5xl75pk9vF7jZrPGfXwVcBevcRtfInpZIXpejf4YQs0FoqdzRI9nYF88RSIEvkWKVGYQuQDPOYQWIQ5eywPsziQkxaoqwT/ekL1vwNKMY7v9REa+rhsYU6Isq3/D9ymlwVSukCQJtNboug7WWlg3orXtn/wX1i7wLnCsMIYmq+GIODTP98Mw45umCVMtGdNFASklairyNtAFp+Af6ft+8YxWziGVAueC1i7CxafQTNjPd57lpB33v5xm8Ot7Hf36++g6N+PmNWNf0FDRZD6pSDNdGBLX0Yf4T3ETbOB8TT5t1LQtvFyG+luKhZDB/wCMBZVFSEpSSQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"API Creation Success\"\n        title=\"API Creation Success\"\n        src=\"/static/9dd7fb49ed4873643a7ff78479d12419/fcda8/api_sucess.png\"\n        srcset=\"/static/9dd7fb49ed4873643a7ff78479d12419/12f09/api_sucess.png 148w,\n/static/9dd7fb49ed4873643a7ff78479d12419/e4a3f/api_sucess.png 295w,\n/static/9dd7fb49ed4873643a7ff78479d12419/fcda8/api_sucess.png 590w,\n/static/9dd7fb49ed4873643a7ff78479d12419/efc66/api_sucess.png 885w,\n/static/9dd7fb49ed4873643a7ff78479d12419/c83ae/api_sucess.png 1180w,\n/static/9dd7fb49ed4873643a7ff78479d12419/098c1/api_sucess.png 1578w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Good job, your API is now created! You can find your API url in your <strong>stages</strong>. It should be in the Invoke URL column.</p>\n<h3>Let’s test the beast!</h3>\n<p>I don’t what you prefer to test an API, you can use a command line to curl it, or do via Postman, it’s up to you :)</p>\n<p>I will go for curl :</p>\n<p><strong>GetArticles:</strong> </p>\n<div class=\"gatsby-highlight\" data-language=\"batch\"><pre class=\"language-batch\"><code class=\"language-batch\"><span class=\"token command\"><span class=\"token keyword\">curl</span> <span class=\"token parameter attr-name\">-v</span> <span class=\"token parameter attr-name\">-X</span> GET '&lt;&lt; your api url>>/articles'</span></code></pre></div>\n<p><em>Output:</em>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d4d144082387abdbabac620bb62eebc1/63ec5/get_articles_curl_result.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.13513513513513%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABJ0AAASdAHeZh94AAABYUlEQVQoz5VSa3OCMBAMb0wgPAJIeESdUfv/f+H2LrSOY1utH3Zg7pK93dsIuVdQi0I2ZNBWY1ErnJmxrDWWpcS6asyzxjQVhJKg0FsDNc3QB4diGJAmKXY7CSklhC4qmNpA5hJd26FuaxS6REn1YW+J8EAkC+q6RUt9rRv0/YCCLvetwdEdqFdBCIEoiiDyPEcYhkiSBEEQIAxC32TEcewPBcH2H8eRP/vd9yRU53t3NQFdVXA0qWkaUtHC2olszvS16LqO0KNQimztPPE94S8Qnuh0PKEsS9jRejLeR5qmXtGjqqfgiXyRLXMhS7P/qHilsMWRFGqtvTrnHMZxpOX3MMZ45W+opB3q6kY40DNgsopqTMTWeXcPi39ume1uaQZkOfWW39rbD8uU7PX64cNhdefzhRIeoShZVsngoT6g10o3y+vqUNHzMaa7PRd+PjyE+0qqLfmv8P5E8urAm/gEohEFuG8db04AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"GetArticles Output\"\n        title=\"GetArticles Output\"\n        src=\"/static/d4d144082387abdbabac620bb62eebc1/fcda8/get_articles_curl_result.png\"\n        srcset=\"/static/d4d144082387abdbabac620bb62eebc1/12f09/get_articles_curl_result.png 148w,\n/static/d4d144082387abdbabac620bb62eebc1/e4a3f/get_articles_curl_result.png 295w,\n/static/d4d144082387abdbabac620bb62eebc1/fcda8/get_articles_curl_result.png 590w,\n/static/d4d144082387abdbabac620bb62eebc1/63ec5/get_articles_curl_result.png 812w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><strong>FindArticleByTitleAndCategory:</strong> </p>\n<div class=\"gatsby-highlight\" data-language=\"batch\"><pre class=\"language-batch\"><code class=\"language-batch\"><span class=\"token command\"><span class=\"token keyword\">curl</span> <span class=\"token parameter attr-name\">-v</span> <span class=\"token parameter attr-name\">-X</span> GET '&lt;&lt; your api url>>/articles/My<span class=\"token variable\">%20firs%</span>20article/Blabla'</span></code></pre></div>\n<p><em>Output:</em>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/406d92d0f0ba7d80f1fe7eb985e351d4/23592/findby_articles_curl_result.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.972972972972975%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABJ0AAASdAHeZh94AAAAuElEQVQY05WQyXKEMAxE7YkxXpBZxtkwMEzN/3/ji6FyylKVHF71QS2pJSXvgpREeV7Y843tltn3zOPxxrpemeeBpfS8lFdkLuT9zjVn2ratOLz3xBhpmoYQPMoay0lr0U+ay8VUQyJJX7WrDaESiSHirCV1Qp8SSqlvaK1RqRaHccA7X4193RLounhuPVKcph+af6WUpZ41M00T27oxjiMi8pnM45zDGPP3gYf54PiBbeyp/0r0hQ+lw2zkQOqLEwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"FindByArticles Output\"\n        title=\"FindByArticles Output\"\n        src=\"/static/406d92d0f0ba7d80f1fe7eb985e351d4/fcda8/findby_articles_curl_result.png\"\n        srcset=\"/static/406d92d0f0ba7d80f1fe7eb985e351d4/12f09/findby_articles_curl_result.png 148w,\n/static/406d92d0f0ba7d80f1fe7eb985e351d4/e4a3f/findby_articles_curl_result.png 295w,\n/static/406d92d0f0ba7d80f1fe7eb985e351d4/fcda8/findby_articles_curl_result.png 590w,\n/static/406d92d0f0ba7d80f1fe7eb985e351d4/efc66/findby_articles_curl_result.png 885w,\n/static/406d92d0f0ba7d80f1fe7eb985e351d4/23592/findby_articles_curl_result.png 1031w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><strong>CreateArticle:</strong> </p>\n<div class=\"gatsby-highlight\" data-language=\"batch\"><pre class=\"language-batch\"><code class=\"language-batch\"><span class=\"token command\"><span class=\"token keyword\">curl</span> <span class=\"token parameter attr-name\">-d</span> '{</span>\n\t\"title\": \"My CURL Article\",\n\t\"category\": \"Test\",\n\t\"content\": \"An article created via CURL command, awesome!\",\n\t\"author\": \"Julien\"}<span class=\"token punctuation\">'</span> -H \"Content-Type: application/json\" -X POST &lt;&lt; your api url >>/articles | json_pp</code></pre></div>\n<p><em>Output:</em>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/37594579eda8a2c6fd011704bc5ebef2/68947/created_article_curl_result.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABJ0AAASdAHeZh94AAAAo0lEQVQY05WP2RKDIAxFoyCLLDqKqP//obcJHcbpU9uHMyGEJAdKR0KoATkuWGyE9QRnCZbxjqDNCLIONHIk+s5VL5xMrRV72VFKxXlKfmHbClJMiPOMdV3hvYcxpjFNhpfaxjufGuScg7FPUZpSSph5SL+TNzlnKKUwDANGtu2xnzuklMZ932yzsd3RmrXWH/z01Y5sDSE0bbETxE4GSe3fgS9Jn2rSa6hj3QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"CreatedArticle Output\"\n        title=\"CreatedArticle Output\"\n        src=\"/static/37594579eda8a2c6fd011704bc5ebef2/fcda8/created_article_curl_result.png\"\n        srcset=\"/static/37594579eda8a2c6fd011704bc5ebef2/12f09/created_article_curl_result.png 148w,\n/static/37594579eda8a2c6fd011704bc5ebef2/e4a3f/created_article_curl_result.png 295w,\n/static/37594579eda8a2c6fd011704bc5ebef2/fcda8/created_article_curl_result.png 590w,\n/static/37594579eda8a2c6fd011704bc5ebef2/efc66/created_article_curl_result.png 885w,\n/static/37594579eda8a2c6fd011704bc5ebef2/c83ae/created_article_curl_result.png 1180w,\n/static/37594579eda8a2c6fd011704bc5ebef2/68947/created_article_curl_result.png 1281w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><strong>UpdateArticle:</strong> </p>\n<div class=\"gatsby-highlight\" data-language=\"batch\"><pre class=\"language-batch\"><code class=\"language-batch\"><span class=\"token command\"><span class=\"token keyword\">curl</span> <span class=\"token parameter attr-name\">-d</span> '{</span>\n\t\"content\": \"Oh, this is a curl update ?\",\n\t\"author\": \"CURLUser\"}<span class=\"token punctuation\">'</span> -H \"Content-Type: application/json\" -X PUT &lt;&lt; your api url >>/articles/My%20CURL%20Article/Test | json_pp</code></pre></div>\n<p><em>Output:</em>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/47dd52da522f8f4e88fac839d982964a/f663d/updated_article_curl_result.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 16.89189189189189%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABJ0AAASdAHeZh94AAAAcUlEQVQI152O2QoEMQgETSYnao4h5P//tEcysOy+7kNRtqhIbTfoUvQ6MAdjW+69GhlFGaUP5JyRUkKM8fDW6TiXchxCQLgCSEVxaApmwX0viDTUyqg23ERQzEQE59wP3vvDd4/mnPbVxlrLDvJn+V8e+ZdAclUNt+cAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"UpdatedArticle Output\"\n        title=\"UpdatedArticle Output\"\n        src=\"/static/47dd52da522f8f4e88fac839d982964a/fcda8/updated_article_curl_result.png\"\n        srcset=\"/static/47dd52da522f8f4e88fac839d982964a/12f09/updated_article_curl_result.png 148w,\n/static/47dd52da522f8f4e88fac839d982964a/e4a3f/updated_article_curl_result.png 295w,\n/static/47dd52da522f8f4e88fac839d982964a/fcda8/updated_article_curl_result.png 590w,\n/static/47dd52da522f8f4e88fac839d982964a/efc66/updated_article_curl_result.png 885w,\n/static/47dd52da522f8f4e88fac839d982964a/c83ae/updated_article_curl_result.png 1180w,\n/static/47dd52da522f8f4e88fac839d982964a/f663d/updated_article_curl_result.png 1511w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><strong>DeleteArticle:</strong> </p>\n<div class=\"gatsby-highlight\" data-language=\"batch\"><pre class=\"language-batch\"><code class=\"language-batch\"><span class=\"token command\"><span class=\"token keyword\">curl</span> <span class=\"token parameter attr-name\">-X</span> DELETE '&lt;&lt; your api url>>/articles/My<span class=\"token variable\">%20CURL%</span>20Article/Test'</span></code></pre></div>\n<p><em>Output:</em>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9e5d339502f41f0215232bb3521d443a/aa61c/deleted_article_curl_result.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABJ0AAASdAHeZh94AAAA+klEQVQoz41Q2XLDIBDDB5izNuAYX3j8/z+pLkyalzaZPmiWY1cridlkYZKBSw7ZZ+yPBWf2uO8HrjxjXUcc+4i4BLj9QLwuTNMErTWMMVBKQUqJvu8xDAOYNQ5a0qcykFqi7TpqMphGD2e/6KxpQENTHTiHH0c458AYQ9u2FU3TvO6MC4FMW+/7xhxneB/q9mEQ4LyHVPKlorxzIi3DH8AQQsB5nIgxIMSIZUlE7DGSGvMkKXYKhODoyMWPqj8Jy+acL2zbhrSumOe55lSsWcpJksLSo57VWFsze0tYwk0pVaWWmguKKiFErR/U/EaRX6xIqWpm/x58g29rkJkSTTJvlQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"DeletedArticle Output\"\n        title=\"DeletedArticle Output\"\n        src=\"/static/9e5d339502f41f0215232bb3521d443a/fcda8/deleted_article_curl_result.png\"\n        srcset=\"/static/9e5d339502f41f0215232bb3521d443a/12f09/deleted_article_curl_result.png 148w,\n/static/9e5d339502f41f0215232bb3521d443a/e4a3f/deleted_article_curl_result.png 295w,\n/static/9e5d339502f41f0215232bb3521d443a/fcda8/deleted_article_curl_result.png 590w,\n/static/9e5d339502f41f0215232bb3521d443a/efc66/deleted_article_curl_result.png 885w,\n/static/9e5d339502f41f0215232bb3521d443a/aa61c/deleted_article_curl_result.png 1065w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<hr>\n<p>This is the end :) You successfully have a functional API which serves Lambda functions to intereact with your DB.</p>\n<p>If you want to go further, you can clone a sample project that I did, to show you how we can have a fully serverless web application.</p>\n<div class=\"gatsby-highlight\" data-language=\"batch\"><pre class=\"language-batch\"><code class=\"language-batch\"><span class=\"token command\"><span class=\"token keyword\">git</span> clone git@github.com:JStw/blog-app.git</span></code></pre></div>\n<p>or you can git clone via HTTPS:</p>\n<div class=\"gatsby-highlight\" data-language=\"batch\"><pre class=\"language-batch\"><code class=\"language-batch\"><span class=\"token command\"><span class=\"token keyword\">git</span> clone https://github.com/JStw/blog-app.git</span></code></pre></div>\n<p>When its done, run a <code class=\"language-text\">npm install</code>.</p>\n<p>Open the <code class=\"language-text\">App.js</code>, and put your Api Gateway base url in this line :</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token constant\">API_BASE_URL</span> <span class=\"token operator\">=</span> <span class=\"token string\">'put your api base url here (do not put the /)'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Before starting the app, you should enable CORS by adding the <code class=\"language-text\">http://localhost:3000</code> Origin. If you don’t do that, it will be impossile for your app to query your API.</p>\n<p>Navigate to the API Gateway Services, and click on the <code class=\"language-text\">CORS</code> option in the left menu. Edit the configuration, and add <a href=\"http://localhost:3000\">http://localhost:3000</a> to the <strong>Access-Control-Allow-Origin</strong> list :\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABBklEQVQoz6VRW04EQQjs+19tL6FGjRpHnZl+P6gFbHR24p8klSZAUwW4ZfnA49Mz3vktpSDn/C+4FAP8vkHenJMGU0pI8k4/T//40eIhV4Xka61wsQxsGVgTobQBooExbkFEaL2jtabo7P/maWJAzN0tDZeHjst9x+vWODSLaIILRUlkRT4E7N6rGpo5IxQSibs1RLx9rXj5XOFzAYhuGzJkt/p5NummbuatedGRuYlPGXtMHGgqm2aRQUxGlR0JRM25zszpYmNE4HF+lJxQuVnmnOc6GVnGN6WmVghlJc72I1c7Kzuye24kxHZdU2hmtU5U6QUZMoqy9gn1vy/qfVD/SPLXyFf3B8Krb6GSWQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"CORS\"\n        title=\"CORS\"\n        src=\"/static/12a59859965ea26fdb376913b55791cd/fcda8/cors.png\"\n        srcset=\"/static/12a59859965ea26fdb376913b55791cd/12f09/cors.png 148w,\n/static/12a59859965ea26fdb376913b55791cd/e4a3f/cors.png 295w,\n/static/12a59859965ea26fdb376913b55791cd/fcda8/cors.png 590w,\n/static/12a59859965ea26fdb376913b55791cd/efc66/cors.png 885w,\n/static/12a59859965ea26fdb376913b55791cd/c83ae/cors.png 1180w,\n/static/12a59859965ea26fdb376913b55791cd/fba00/cors.png 1529w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>Once is done, save and go back to the React App project.</p>\n<p>Run <code class=\"language-text\">npm start</code> and when the app will run, it will open a new tab with this following URL: <code class=\"language-text\">http://localhost:3000</code>.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0428526e689ae48b2c17004fd645c92b/d9ed0/webapp_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABbElEQVQoz42QCUsDMRCF88tUsAq2YBFEEPzFiqJYaan2rnWzu9mje2SPbJ+ZbFtaLNLAR2bem5kc7Pr2Hjd3D2g02zhpNHF60dqDtEOQRz3nV200CB2fXbbABpM5xrMFhnofjGdm/xpN8Tmc6nyO0fQbI+2Ppn+hvl2EF4A9vbzh+fUdH71PvHV66HT76PYHeHx+NbEtAjheeBRFqcCGk+/6FmtmCw7L8bDgroHiY0llBvZjC3DX3zMoP8R/NaTJLAfL8gJxkiJJJVIN5Vmem50KSN9Qe7W/qxNUq1QFVpYFLMuCEALCFVitVtissizBOYdtcwRBsNWrqqrr13Bum1paTKkSUSLBRQSp/0ApZYbWg1cIIwnLXeoGZRpIp4F0ES9M4fgxiry+HXmMzFwLvh+YYZTvIqVEEIbG2/WpOU4SLJcRqvUhBKOnuK6rB/pwHAdRFKEo9D9lGTzP3/PiON56m+eSRzWJHk7P/gV1vtF5rPaVqwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Web App\"\n        title=\"Web App\"\n        src=\"/static/0428526e689ae48b2c17004fd645c92b/fcda8/webapp_1.png\"\n        srcset=\"/static/0428526e689ae48b2c17004fd645c92b/12f09/webapp_1.png 148w,\n/static/0428526e689ae48b2c17004fd645c92b/e4a3f/webapp_1.png 295w,\n/static/0428526e689ae48b2c17004fd645c92b/fcda8/webapp_1.png 590w,\n/static/0428526e689ae48b2c17004fd645c92b/efc66/webapp_1.png 885w,\n/static/0428526e689ae48b2c17004fd645c92b/c83ae/webapp_1.png 1180w,\n/static/0428526e689ae48b2c17004fd645c92b/d9ed0/webapp_1.png 1415w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<blockquote>\n<p>If the port has changed because you have already something running on the 3000 port, please edit your CORS configuration by setting the correct port in your API Gateway.</p>\n</blockquote>\n<p>I hope this article was clear for you and your API on your side working greats, this is my article guys, so if you want to send me a feedback do not hesitate to contact me via DM in Twitter :)</p>\n<h3>Go further</h3>\n<p>Now your API is working, this is some extra-work you can do :</p>\n<ul>\n<li>Secure some API calls with Cognito.</li>\n<li>Send SMS / Email to your subscribers list</li>\n<li>Customize domain name for your API</li>\n</ul>","frontmatter":{"title":"Create a Serverless API with AWS - Part 3","date":"May 31, 2020","description":"How to create a serverless API in AWS - Part 3 (The API Gateway)"}}},"pageContext":{"slug":"/serverless-api-with-lambda-part-3/","previous":{"fields":{"slug":"/serverless-api-with-lambda-part-2/"},"frontmatter":{"title":"Create a Serverless API with AWS - Part 2"}},"next":null}}}