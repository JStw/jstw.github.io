<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Jstw Blog]]></title><description><![CDATA[A personal blog powered by Gatsby.]]></description><link>https://jstw.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Thu, 14 Jan 2021 12:19:22 GMT</lastBuildDate><item><title><![CDATA[CI/CD for Angular app with AWS Codepipeline, Cloudfront, S3.]]></title><description><![CDATA[Hey folks! Today we will have a look to how we can configure a pipeline to automate our deployment for our Angular web application. I think…]]></description><link>https://jstw.github.io/ci-cd-cloudfront-s3-angular-app/</link><guid isPermaLink="false">https://jstw.github.io/ci-cd-cloudfront-s3-angular-app/</guid><pubDate>Wed, 13 Jan 2021 16:12:03 GMT</pubDate><content:encoded>&lt;p&gt;Hey folks!&lt;/p&gt;
&lt;p&gt;Today we will have a look to how we can configure a pipeline to automate our deployment for our Angular web application.&lt;/p&gt;
&lt;p&gt;I think most of developers that works in a team, don’t want to deals with deployments. It’s redundant, not fun and lack of time.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Some funny story that I faced in my experience: I remember when I started my first job, our deployment strategy was really, really a nightmare. We used a “FTP” server, to manually deploy the source code in a folder every times we wanted to deploy a new version of the app. The first step was to copy the actual remote folder from the FTP to local (to rollback if something wrong happen with the new version), upload the new one and wait until the content is fully upload. And of course, you have to deals with disconnection, latency etc. :D&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;But before going further what is CI/CD ?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Continuous Integration (CI)&lt;/strong&gt; is a development practice that requires developers to integrate code into a shared repository several times a day. Each check-in is then verified by an automated build, allowing teams to detect problems early.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Continuous Delivery (CD)&lt;/strong&gt; is the natural extension of Continuous Integration: an approach in which teams ensure that every change to the system is releasable, and that we can release any version at the push of a button. Continuous Delivery aims to make releases boring, so we can deliver frequently and get fast feedback on what users care about.&lt;/p&gt;
&lt;p&gt;(source: &lt;a href=&quot;https://codefresh.io/continuous-integration/continuous-integration-delivery-pipeline-important/?utm_source=google&amp;#x26;utm_medium=cpc&amp;#x26;utm_campaign=docker-ci-cd&amp;#x26;utm_term=ci%20cd%20tools&amp;#x26;hsa_acc=5584137208&amp;#x26;hsa_cam=1603277939&amp;#x26;hsa_grp=59754208254&amp;#x26;hsa_ad=317015661094&amp;#x26;hsa_src=g&amp;#x26;hsa_tgt=kwd-492577851032&amp;#x26;hsa_kw=ci%20cd%20tools&amp;#x26;hsa_mt=b&amp;#x26;hsa_net=adwords&amp;#x26;hsa_ver=3&amp;#x26;gclid=Cj0KCQiA9P__BRC0ARIsAEZ6irh7T4Wb3-4ouTLcdC5jiQRgJIqc_50CP-z5gXtuXzaxJJ2HtgLUZY0aAnb_EALw_wcB&quot;&gt;codefresh.io&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;And finally, this is what we will achieve in this tutorial (our pipeline) :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c56b73551c7930e40ffec1a171b02230/00d43/pipeline.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.32432432432432%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB00lEQVQoz4VTy07bQBTN9/QfWLHrpgv2/RU+obtSCWiBdlEJqZsCUhAKUJCIKAUpkDQpkOAktuPX2OMZMp6HnV7bysuAOBpZmrn3nHPvnXHp8KR639GUUlJKNQPYjVc8H5miVP192dfNOEMyhlLpDpaKgRzBBiSyw2kOmJVGzwGsen1TN/TrhrVb7mo95GMcYAKc2ZySEGL2KAeXsm84hKKVz82Ft8f7lQcfI9sNimQoPaszLXISEFI5XoBDfFrVVrdu6n915AcomDonoyQlwyyelp13BnKckqFveQNbCjWCk4IzZOJQ7pTd1t1jKpmFIdDt6uZgcNf2zs6NB83xA4wJzaMqlo+c5uSk3qSL7/58+tIDoTAkMIUhi0wLhRStfW0tvT8rV9qTnqEcTIOOcyukSJ0dd/jjZ6d2406chZSW40OblV/tDx+vrhsG9OyhMCPHjDHLGsDNvdBzNjwSSd2jbsiZAI7K71iN8+enPT8M07IN0734V9s6+tbQWpSwMOt5jvyssxBS6xuuTTYP1haW32yffPe9IcjlT/h1su1Cz/Sifrmxt37VrHmIeD4uPhIQS54A5CMuWMQZEyJSEeOMcy5k8W2rl5CNKJ75wir8Xf8BwO9WPE22Xv8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;aws pipeline&quot;
        title=&quot;aws pipeline&quot;
        src=&quot;/static/c56b73551c7930e40ffec1a171b02230/fcda8/pipeline.png&quot;
        srcset=&quot;/static/c56b73551c7930e40ffec1a171b02230/12f09/pipeline.png 148w,
/static/c56b73551c7930e40ffec1a171b02230/e4a3f/pipeline.png 295w,
/static/c56b73551c7930e40ffec1a171b02230/fcda8/pipeline.png 590w,
/static/c56b73551c7930e40ffec1a171b02230/efc66/pipeline.png 885w,
/static/c56b73551c7930e40ffec1a171b02230/00d43/pipeline.png 1000w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Like the others article, if you want to do this tutorial, there is a list of pre-requisites that you must have before continuing:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;An AWS account is required (&lt;a href=&quot;https://portal.aws.amazon.com/billing/signup#/start&quot;&gt;click here&lt;/a&gt; to create one)&lt;/li&gt;
&lt;li&gt;Angular (&lt;a href=&quot;https://angular.io/guide/setup-local&quot;&gt;click here&lt;/a&gt; to install)&lt;/li&gt;
&lt;li&gt;Git (&lt;a href=&quot;https://git-scm.com/downloads&quot;&gt;click here&lt;/a&gt; to install)&lt;/li&gt;
&lt;li&gt;A &lt;a href=&quot;https://github.com&quot;&gt;Github&lt;/a&gt; account.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ok, now you are able to start, let’s move on!&lt;/p&gt;
&lt;hr&gt;
&lt;h1&gt;Step 1: Creation of our S3 Bucket&lt;/h1&gt;
&lt;h1&gt;Step X: Creation of our Angular app.&lt;/h1&gt;
&lt;p&gt;The goal here, is not to provide a complex app, we will just use the default app generated via the ng cli. Let’s navigate to your projects folder, and hit :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ng new angular-aws-ci-cd&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Deploy your Spring Boot Rest API with MySQL on AWS Elastic Beanstalk]]></title><description><![CDATA[Hello guys! I didn’t publish an article since a while! So today, I wanted to share with how to deals with a REST API built with Spring Boot…]]></description><link>https://jstw.github.io/deploy-spring-rest-api-with-rds-db-on-elb/</link><guid isPermaLink="false">https://jstw.github.io/deploy-spring-rest-api-with-rds-db-on-elb/</guid><pubDate>Wed, 13 Jan 2021 07:12:03 GMT</pubDate><content:encoded>&lt;p&gt;Hello guys!&lt;/p&gt;
&lt;p&gt;I didn’t publish an article since a while! So today, I wanted to share with how to deals with a REST API built with Spring Boot that communicates with a MySQL database.&lt;/p&gt;
&lt;p&gt;Like always, there is a list of pre-requisites that you must have before continuing:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;An AWS account is required (&lt;a href=&quot;https://portal.aws.amazon.com/billing/signup#/start&quot;&gt;click here&lt;/a&gt; to create one)&lt;/li&gt;
&lt;li&gt;Spring Boot with Java (&lt;a href=&quot;https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started-installing-spring-boot&quot;&gt;click here&lt;/a&gt; to download/install)&lt;/li&gt;
&lt;li&gt;MySQL (&lt;a href=&quot;https://dev.mysql.com/doc/mysql-getting-started/en/#mysql-getting-started-installing&quot;&gt;click here&lt;/a&gt; to download/install)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ok, let’s move on!&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;Step 1: Spring Rest API&lt;/h2&gt;
&lt;p&gt;The first step is to initialize our spring boot app with the &lt;a href=&quot;https://start.spring.io/&quot;&gt;Spring Initializer&lt;/a&gt;. Let’s create a sample Maven Project (Java 11) like below:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ec7ed471ce06e749ccc822c5f20a676c/fe60e/spring_init.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 45.27027027027027%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABPUlEQVQoz32R23LDIAxE/f+f2If2IXEmgG3A+MbF3rJKk0nTi2Z2PAbpaCWaaQ7Y9wLgAKOUgsEOyDnjOI56t8v5tm0Yx4Dn4JkxRjSOI5ZlQXPtLvDBVtwXcM/wk63JEeu2IqUk5846nNsTWvtez6I0ImAYBhGB67qi0UrDaIMYoySwayoReb+B6JLhva/AFu/tG0yvavEmuZyITTkRoyFdKYVpmgTKzqWu4Dj2b+NZZ6GVgbIXdOGKFLMA6WqtXzamGkIIdc5JAv9jHXcT3QqY6KytjTXa4QPLNldnO3LJVUX0ALL7PM/QWqPve4QQZDyKe/HOyziE886Gvjpa8BoPIJNZeH8tumXhXby7P8xvgFc13F0/9NBG4XQ6o+s6cccVULaOGlP6Afkrmpzo0GOJk+yrPO3jVf85u+sTxz29Ipgbe7EAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;spring initialization&quot;
        title=&quot;spring initialization&quot;
        src=&quot;/static/ec7ed471ce06e749ccc822c5f20a676c/fcda8/spring_init.png&quot;
        srcset=&quot;/static/ec7ed471ce06e749ccc822c5f20a676c/12f09/spring_init.png 148w,
/static/ec7ed471ce06e749ccc822c5f20a676c/e4a3f/spring_init.png 295w,
/static/ec7ed471ce06e749ccc822c5f20a676c/fcda8/spring_init.png 590w,
/static/ec7ed471ce06e749ccc822c5f20a676c/efc66/spring_init.png 885w,
/static/ec7ed471ce06e749ccc822c5f20a676c/c83ae/spring_init.png 1180w,
/static/ec7ed471ce06e749ccc822c5f20a676c/fe60e/spring_init.png 1677w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;For this example, we will just need 3 dependencies :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Spring Web — Full-stack web development with Tomcat and Spring MVC&lt;/li&gt;
&lt;li&gt;Spring Data JPA — Java Persistence API including spring-data-JPA, spring-orm, and Hibernate&lt;/li&gt;
&lt;li&gt;MySQL Driver — MySQL JDBC driver&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Once it’s done, you can click on generate and it will download a zip file that you can extract and import in your IDE.&lt;/p&gt;
&lt;p&gt;Next step is to define our DB configuration. For that, create a file in &lt;code class=&quot;language-text&quot;&gt;&amp;lt;&amp;lt; path of your project &amp;gt;&amp;gt;/src/main/resources/application.properties&lt;/code&gt; and put this configuration :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# Server configuration&lt;/span&gt;
server.port=8080

&lt;span class=&quot;token comment&quot;&gt;# Spring&lt;/span&gt;
spring.datasource.url=jdbc&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;mysql&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//localhost&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;3306/my_db&lt;span class=&quot;token punctuation&quot;&gt;?&lt;/span&gt;useSSL=false
spring.datasource.username=root
spring.datasource.password=root

&lt;span class=&quot;token comment&quot;&gt;# Hibernate&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# The SQL dialect makes Hibernate generate better SQL for the chosen database&lt;/span&gt;
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect

&lt;span class=&quot;token comment&quot;&gt;# Hibernate ddl auto (create, create-drop, validate, update)&lt;/span&gt;
spring.jpa.hibernate.ddl&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;auto=update&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Our configuration is done, so the next step is to create our class entity model. It’s a simple project, so I will create just a simple one: Song.&lt;/p&gt;
&lt;p&gt;Let’s create a folder &lt;code class=&quot;language-text&quot;&gt;models&lt;/code&gt; in our application, and create a Java Class Song like below :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Entity&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;songs&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Song&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Id&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@GeneratedValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;strategy &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GenerationType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;AUTO&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nullable &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nullable &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; album&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nullable &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; author&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nullable &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; rate&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Song&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getTitle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTitle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getAlbum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; album&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setAlbum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; album&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;album &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; album&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getAuthor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; author&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setAuthor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; author&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;author &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; author&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getRate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; rate&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setRate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; rate&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;rate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; rate&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once our model entity is created, let’s create the repository class. Create a folder &lt;code class=&quot;language-text&quot;&gt;repositories&lt;/code&gt; and create a java class called SongRepository with the following code:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Repository&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SongRepository&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;JpaRepository&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Song&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And the latest step for our API is to create the controller to serve the data. Create the latest folder called &lt;code class=&quot;language-text&quot;&gt;controllers&lt;/code&gt; and add a SongController Java Class like below :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@RestController&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequestMapping&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/api&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SongController&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SongRepository&lt;/span&gt; songRepository&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SongController&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SongRepository&lt;/span&gt; songRepository&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;songRepository &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; songRepository&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@RequestMapping&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/songs&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; method &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RequestMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;GET&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; produces &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MediaType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;APPLICATION_JSON_VALUE&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Song&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getAllSongs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;songRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Before starting our application, we need to create the database that we provided in the &lt;code class=&quot;language-text&quot;&gt;application.properties&lt;/code&gt; file. So, connect to MySQL via command line and create your DB as below :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;console&quot;&gt;&lt;pre class=&quot;language-console&quot;&gt;&lt;code class=&quot;language-console&quot;&gt;mysql -u root -p
# hit your password

# create the database my_db :
create database my_db;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We need to fill a little bit our DB, so I added a new method in our SongController :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequestMapping&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/init-db&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; method &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RequestMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;GET&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; produces &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MediaType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;APPLICATION_JSON_VALUE&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fillDatabase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;Song&lt;/span&gt; song1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Song&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    song1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAuthor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Bigflo &amp;amp; Oli&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    song1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAlbum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;La vie de rêve&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    song1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setTitle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Bienvenue chez moi&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    song1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setRate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token class-name&quot;&gt;Song&lt;/span&gt; song2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Song&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    song2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAuthor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Mathieu Chédid&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    song2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAlbum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Je dis aime&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    song2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setTitle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Monde virtuel&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    song2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setRate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token class-name&quot;&gt;Song&lt;/span&gt; song3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Song&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    song3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAuthor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Lee fields&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    song3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAlbum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Faithful Man&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    song3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setTitle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Wish you were here&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    song3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setRate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;songRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;song1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;songRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;song2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;songRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;song3&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Database has been filled in !&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ok so I think we can check if everything is ok by running &lt;code class=&quot;language-text&quot;&gt;mvn spring-boot:run&lt;/code&gt; in your project folder.&lt;/p&gt;
&lt;p&gt;Our application run successfully :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;2021-01-14 08:55:42.067  INFO 12800 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &amp;#39;applicationTaskExecutor&amp;#39;
2021-01-14 08:55:42.254  INFO 12800 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &amp;#39;&amp;#39;
2021-01-14 08:55:42.260  INFO 12800 --- [           main] c.jstw.mysuperapi.MysuperapiApplication  : Started MysuperapiApplication in 3.056 seconds (JVM running for 3.362)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let’s first hit our init DB endpoint : &lt;code class=&quot;language-text&quot;&gt;http://localhost:8080/api/init-db&lt;/code&gt;
and then let’s test &lt;code class=&quot;language-text&quot;&gt;http://localhost:8080/api/songs&lt;/code&gt; :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 480px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/49a778ffd8dd4ee91e6178fdd5ae16fa/e85cb/db_query.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 156.75675675675674%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAACXBIWXMAABJ0AAASdAHeZh94AAADyUlEQVRIx41W2ZLiOBD0/3/cPs3sbjfD0WAMxvd9yFZuVjEi7IbuHUUUustZyjrw8jxHkiR4e3vD+XxGHMfIsgy32w273Q4fHx/aHw4HbLdbbDYb7Pd7FVlL01TPu95rmgZ1XUMUS19VFcqy1F4OFHmGPEt5IeM81YsCQPZE5JyIu+tVHCRJirwotG+7DqMxutnUFfK6R9EaTJNB3/cYhgGG+23bQsAslcmaV/q/EG9/Itn/g2j7A02ww9jJQR4qC+RVh6KhknFAx4+JiFKnTKwRhdKrQp4EMAN2YmdgzYB55vjRrMo8W1i7llfNk5+aX+tojruu/eMi8MVdRRWGoYpwIHNVKNDFFKfoT5vci6JIxZnuzfP8OCBjJ3YxfqzZ9fxzEzBeP5I9yiDCx3bSL8ZOuv557bN4cXCEv/0XQ1OiIUsZ/SzNCpzSu3sIm85pT0mPth8x8qLMxdVkT86M43hXOCQB+uiEIY++/bJccHKf0yISKfNpmvTj0ntFWWHHEDr5vjJ1uVw07ASBjIMg0HAU0nz/rOEpJLQdHX7zF9o4cA94dxtxxpLQC4pAdxHQtR1cWMqaIJG57kk0ydtXOca+VV130kiKKHIoxJTX7K3dyc2tc/vfylShPvbppI8rJ1WpmdGXglSIeY6a79pDofTuiiGT2eGGNEgYzwPiK5BGVqXILLKEEtOxi0lvPBALQiFCHrpg71BYMpa8B8h3Vyo3uB6B0y+L6wm4fHC8pQWdwTzNT4i96/WKzfs7zpcQJcO5GoCsHHH8SYZ3CQ7nBB/+iP0BCIksCC0utxk5U1rF82VnV+KJC0hGvkV0jZGmlA16Y2lOR3YNMqavbpwwEoysD5NFT5GzKmYtarKk+TRNFH7bNuIDzGaTpqw1If/flBRB6EiBkmLupFwy+uGAklt1xY81NItP3VT2t9/hKUeqQik2D5a5ONFp0+0VxfGGth7h70GxCH1g80OYnh7+6nLmtwinweD2t490F7KudOouAdlNbkB04fg4E+UkefzJ6VWhlERVyA0pROL5XVoztFqGmVm8pV3lvruedVZ/IJTSKIckdl9nbfspWuzLDL9G6N6QJpf0vyxiJWP4Mf6ZDKzWs6GnFawWbc21wS5i+4s3XJKSH5mmGsPIAN/Q4na2SlAczvRTy/c1WhaWSFWh/MXQ5LAgJWboJVQ6MO+FgVWFF4bekSHYteOfm2zEoRmjhZ+gSfmvgCZP5o5CyvU0WUW1ZPfJZFEopAjDZhy/iAH7xPJLhGKqJFhRLDVhXeTtU8Ff/mt45Q3/Aac2Z5CD00+rAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;db query&quot;
        title=&quot;db query&quot;
        src=&quot;/static/49a778ffd8dd4ee91e6178fdd5ae16fa/e85cb/db_query.png&quot;
        srcset=&quot;/static/49a778ffd8dd4ee91e6178fdd5ae16fa/12f09/db_query.png 148w,
/static/49a778ffd8dd4ee91e6178fdd5ae16fa/e4a3f/db_query.png 295w,
/static/49a778ffd8dd4ee91e6178fdd5ae16fa/e85cb/db_query.png 480w&quot;
        sizes=&quot;(max-width: 480px) 100vw, 480px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Ok congrats folks, our first part is done ;-)&lt;/p&gt;
&lt;p&gt;Let’s move on now, and start the AWS part.&lt;/p&gt;
&lt;h2&gt;Step 2: Creation of the RDS Instance&lt;/h2&gt;
&lt;p&gt;Open the Amazon RDS service via &lt;code class=&quot;language-text&quot;&gt;Services / Databases / RDS&lt;/code&gt;, and then hit “Create Database”.&lt;/p&gt;
&lt;p&gt;Let’s keep the “Standard create” option and select “MySQL” for the engine options.&lt;/p&gt;
&lt;p&gt;For the “Template” part, I will select “Free Tier” because it’s a sample project for a demo, but you can adapt the template based on your needs.&lt;/p&gt;
&lt;p&gt;In the Settings part, I will change the DB instance identifier by: &lt;code class=&quot;language-text&quot;&gt;my-rds-db-id&lt;/code&gt;. For the credentials I will provide a password: &lt;strong&gt;MySuperPassword;2021&lt;/strong&gt;, and let the “master username” as is (&lt;strong&gt;admin&lt;/strong&gt; by default).&lt;/p&gt;
&lt;p&gt;Chose your DB instance size based on your requirement (for this example I will let the default one: db.t2.micro), same for the Storage part.&lt;/p&gt;
&lt;p&gt;I will leave the other default settings (Availability &amp;#x26; durability, Connectivity, Database authentication) but the important part will be on the Additional configuration part.&lt;/p&gt;
&lt;p&gt;Open the Additional configuration part, and provide the Initial database name: &lt;strong&gt;my&lt;em&gt;rds&lt;/em&gt;db&lt;/strong&gt; and leave the rest as is.&lt;/p&gt;
&lt;p&gt;Once is done, click on “Create Database” and it will take a few minutes to provide your DB.&lt;/p&gt;
&lt;p&gt;Meanwhile, we will update a little bit our &lt;strong&gt;application.properties&lt;/strong&gt; to change the server port and the spring Datasource lines. The server configuration/spring should look like :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# Server configuration
server.port=5000

# Spring
spring.datasource.url=jdbc:mysql://${RDS_HOSTNAME}:${RDS_PORT}/${RDS_DB_NAME}
spring.datasource.username=${RDS_USERNAME}
spring.datasource.password=${RDS_PASSWORD}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once it’s done, we will build our app by running a: &lt;code class=&quot;language-text&quot;&gt;mvn clean package -DskipTests&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Your artifact should be generated in your &lt;code class=&quot;language-text&quot;&gt;&amp;lt;&amp;lt; project path &amp;gt;&amp;gt;/target/&amp;lt;&amp;lt; project app name &amp;gt;&amp;gt;-0.0.1-SNAPSHOT.jar&lt;/code&gt; like below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a307c96f99c94a9a730601abf7076b8b/774b6/jar.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 32.43243243243243%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABJ0AAASdAHeZh94AAAA7UlEQVQY03WRXY+DIBBFRwWtIijU+pGsZpPabfat///P3V5oms12uw8nAyRzGC5yPu+Y5hl93yN4jxAC8jxHUShSJJRSCa114rl/JcsyyL5fMFN4Oo0Yxwme0rg3xqCu61/Ei2LTf4gIZFkWWOdwYIO1LjVaa5Mw1rY1pE1o/TP1O5JQHQvoUaGcFMQI6uwALwGV4roRSoUyrutH7bpHTc3vCOEbw3CFczPKsudNJbK8YJYrzzfm+kGBpahjHAFNY9I0z+f/EXp/Y8POSa7kE1V15NMa5rhhXb+Y7QbHKIZhSDlHcYwjnsWPeBXeATwQhOsxt3GmAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;jar created&quot;
        title=&quot;jar created&quot;
        src=&quot;/static/a307c96f99c94a9a730601abf7076b8b/fcda8/jar.png&quot;
        srcset=&quot;/static/a307c96f99c94a9a730601abf7076b8b/12f09/jar.png 148w,
/static/a307c96f99c94a9a730601abf7076b8b/e4a3f/jar.png 295w,
/static/a307c96f99c94a9a730601abf7076b8b/fcda8/jar.png 590w,
/static/a307c96f99c94a9a730601abf7076b8b/774b6/jar.png 738w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Ok, so I think it’s time to create our Elastic Beanstalk application. Let’s navigate to this service via &lt;code class=&quot;language-text&quot;&gt;Services / Compute / Elastic Beanstalk&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Hit &lt;strong&gt;Create a new environment&lt;/strong&gt;, keep the default selected environment tier (Web server environment).&lt;/p&gt;
&lt;p&gt;Provide an application name: &lt;em&gt;my-super-api&lt;/em&gt; (for me)
Chose a domain and check is availability:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/db83dfcddf92439fc5a3a62bfcb2945a/83e77/elb-env.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 46.621621621621614%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABD0lEQVQoz5WRiW6DMBBE/f+/2JSQNFzm9sXNZNeKW1o1VWrpaTHYs7OD6JVCkqZIkkCCj9uNSDCOI+Z5xjRNLzESQpFgHF/wHkXEGZfrFW+nE6JzjKqqUDcN2rb1NPQc9k2A9iWd67rONxfOOWzbhn3ffV3X9RPflVyG7s9chTPLskBYEpRSIstyZHkBax14hSb/RQykzjnKsiL7re/I7pYD6y915WmO0LuNBdkh58DCvF5xwZdnGu8Ij+sd8vxKaeSFpGD7rwx/Ogguth1sIqOY8rJESjUtCsi6DiMPsIODMga91oTxY3GGARbb9u+ZPltCO41al/QzLAyJukfVJG6NhaLvmSnhlkck2P+M5g7I67xskU63JAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;elb env info&quot;
        title=&quot;elb env info&quot;
        src=&quot;/static/db83dfcddf92439fc5a3a62bfcb2945a/fcda8/elb-env.png&quot;
        srcset=&quot;/static/db83dfcddf92439fc5a3a62bfcb2945a/12f09/elb-env.png 148w,
/static/db83dfcddf92439fc5a3a62bfcb2945a/e4a3f/elb-env.png 295w,
/static/db83dfcddf92439fc5a3a62bfcb2945a/fcda8/elb-env.png 590w,
/static/db83dfcddf92439fc5a3a62bfcb2945a/efc66/elb-env.png 885w,
/static/db83dfcddf92439fc5a3a62bfcb2945a/83e77/elb-env.png 889w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;For the platform, let’s select the Java one with the Corretto platform branch :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/76bf282bd01da7e653c7da07808f75f6/748b0/elb-platform.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 62.16216216216216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABJ0AAASdAHeZh94AAABcklEQVQoz5WS6W6DMBCEef+na6X8qEqjXiSEw9z4wDbTXXMoStuoRfq02KyH2V1H/TDgJY4RP8cY+h7eOdhp+hlr7zJRTiSVwmhnwmOcHAZjISlqN0MR0nlI+mYmC601tDF7NCv8rmhvItGINw65xMMxweH4gcf4HfG5RFJLfNYj0laiVB7tKJGkKV6TJPB2OuGUZYFLUQQGKRGN5LB1wIUOJqJDUvUkpPCUDTgKiVpZVJoEKTkrl4NZWe4i1+sgyCUXTYdmVKBzxAxDTDOIpWxNZTvvYbm/V7iVbe0pP+LaS/pD3w/gx18lMt5v+F+ZSYj7uA9FVBXqpkHTdsEJP/MV/Gfe/w0WDQYoBodVXeOcXsipQEFulyhCZHq+TndEWTBMfXNYUENLISCIYJ3Gb9YEhtf3HLpbh3y5syxHntPE8hySphXKJlcboV8cb1l7aEIP6R6OdJibycJ8YZXSu/1/sZXcdl1w+A3qG0/+zwxL/AJfbaPXpbyUOgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;elb platform info&quot;
        title=&quot;elb platform info&quot;
        src=&quot;/static/76bf282bd01da7e653c7da07808f75f6/fcda8/elb-platform.png&quot;
        srcset=&quot;/static/76bf282bd01da7e653c7da07808f75f6/12f09/elb-platform.png 148w,
/static/76bf282bd01da7e653c7da07808f75f6/e4a3f/elb-platform.png 295w,
/static/76bf282bd01da7e653c7da07808f75f6/fcda8/elb-platform.png 590w,
/static/76bf282bd01da7e653c7da07808f75f6/748b0/elb-platform.png 868w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;And finally, we will upload our artefact built previously in the Application code part :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0d6507efec9f9d9725d97d75b8db719f/6e9ba/elb-app-code.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 95.27027027027027%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABJ0AAASdAHeZh94AAAB/0lEQVQ4y51UiZbaMAz0///fdpe3hS0J5D7sHM6dqaQklNJytHlvsHFgPJJGUmVVwQ8CBEGIIAwRRTGiOEbbtmj+A6osS7x9e8f3/QGHwxccxyG4GIYBXdcJ+r5/Gaqjj3me0TSNqLK0Msk0TXLO4P2rUKyEwz6SKsd18ePo4Oz5claWFQrCOI549VGbqspa1AzaD0TAJHyZYPu+glXfJez75U8FKapWQsaWZN7bFfyewWni8Mb1omuoScKZkeQ5wiRBlGUI4gQxrZnWSAnZDfgspd//DcrYFqGxMDpHrg2MMajqGuMdBRfcU6jrDm5SwPfO5MNIfBiTQmuXMOt6ya2ET3u+TFDV4HT9kcN5Iua+k8p6foAsy+X2lqzDBduK1sh+sdOm7tpaG1RPBeGbIlLFHbKsCTLKBytj+5iilJVVb4TXxOM4XSA+5MOCOibPOY9aUFNYF1Pzuu5/Eax5vIFiX7UU0unswaeQT6cz9XYk+bgN55H/fsthWHbY+yliGg5ZrsWXrOYe6SNIyP00IzclVThCSv7jXD1S+LhTVjVJmiJcRxeTbgpvn2dhq2VM9WSbQMg4jyEpLYpC7MLjja2kyfRsoacKuWLGahzcPZGFNG2OeP/Y4WO3w+fnngZvIP70fF9InxIOA1V5sNBVhobasCK/sWUsDwrqjH8N+Sc3VcjNqD45MgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;elb app code&quot;
        title=&quot;elb app code&quot;
        src=&quot;/static/0d6507efec9f9d9725d97d75b8db719f/fcda8/elb-app-code.png&quot;
        srcset=&quot;/static/0d6507efec9f9d9725d97d75b8db719f/12f09/elb-app-code.png 148w,
/static/0d6507efec9f9d9725d97d75b8db719f/e4a3f/elb-app-code.png 295w,
/static/0d6507efec9f9d9725d97d75b8db719f/fcda8/elb-app-code.png 590w,
/static/0d6507efec9f9d9725d97d75b8db719f/6e9ba/elb-app-code.png 731w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Let’s create your environment, It will take a few minutes to do it.&lt;/p&gt;
&lt;p&gt;Once it’s created, click on your environment and go to the configuration (on the left side menu), and then edit the &lt;strong&gt;Software&lt;/strong&gt; category part.&lt;/p&gt;
&lt;p&gt;Scroll down and we will need to provide some environment properties like below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5b43ce69b9747ff54e9ceb6844a5e8b3/951a4/elb-env-props.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.72972972972974%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABHUlEQVQoz3VT2ZaFIAzj/3/zevXFFVRW7ZBC53ic4SEWMaRJVTXPM30+HXXfL3VdR8uy0HEctAP7znXUlnYb6EqJQogUYxsKhwHvPTlni1gV4lrXWhsyxpC1hdOCWteV+r6naZrYHe7f0FrTOI40DAPzsLdtG+PJw3kFZ3gAFylHegMx7vvmtc48OC1pHJ3nmUcQfrnYVxIBD1pIPLtAW3ULA4gvoxIemiibL5gTNuBGqgD313Vx5VhVVBo9zxSHWRDZTRVtOQQZruAC+I/HDnGRIbcExSGcPYFkaCKN2KEISgyJ8FxD0CPyZmjJ0HueXcyuQyJX4eNFzocSGYKoT7G3Q3THSyicjPgXzlWHcAfbra9fIuMzSan9l4DzA+rSV7t89Cp+AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;elb env props&quot;
        title=&quot;elb env props&quot;
        src=&quot;/static/5b43ce69b9747ff54e9ceb6844a5e8b3/fcda8/elb-env-props.png&quot;
        srcset=&quot;/static/5b43ce69b9747ff54e9ceb6844a5e8b3/12f09/elb-env-props.png 148w,
/static/5b43ce69b9747ff54e9ceb6844a5e8b3/e4a3f/elb-env-props.png 295w,
/static/5b43ce69b9747ff54e9ceb6844a5e8b3/fcda8/elb-env-props.png 590w,
/static/5b43ce69b9747ff54e9ceb6844a5e8b3/efc66/elb-env-props.png 885w,
/static/5b43ce69b9747ff54e9ceb6844a5e8b3/c83ae/elb-env-props.png 1180w,
/static/5b43ce69b9747ff54e9ceb6844a5e8b3/951a4/elb-env-props.png 1355w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;You will find the &lt;strong&gt;RDS_HOSTNAME&lt;/strong&gt; value in the RDS section, select your RDS Database, and then find in the Connectivity &amp;#x26; Security tab the endpoint value.&lt;/p&gt;
&lt;p&gt;Save these properties, and now we will need to create a new security group for our ELB Security Group to authorize the communication between MySQL and our ELB Instance.&lt;/p&gt;
&lt;p&gt;For that, let’s navigate to &lt;code class=&quot;language-text&quot;&gt;Services / Compute / EC2&lt;/code&gt;, and then click on “Security Groups” on the left menu.&lt;/p&gt;
&lt;p&gt;Create a new security group, provide a name and attach it to your default VPC or the VPC you created (if you created a custom one).&lt;/p&gt;
&lt;p&gt;The next step is to provide an Inbound rule, that will allow the TCP 3306 from our Elastic Beanstalk app. Chose a type “MySQL / Aurora”, it will automatically provide the protocol TCP and port 3306, and then for the source select the EC2 Security Group associated to your ELB app (you can find it in the ELB Section / Configuration / EC2 security groups) :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/314bfbf64aa0d9fff16354f58da8fe77/b4904/security-group.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.08108108108108%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABJ0AAASdAHeZh94AAAA/UlEQVQY0z1Q2Y6DMBDj//9vH1ZaadVWamlZArkvwOsJB5LlYTKZ2O6UUnh/BvgQkXNGSkTeUWvde0SRupRjJiGEgEg+e+XgzlqHSRus69qG1Kwx818RKRc456Ctx+QCTMxwdYXxHsYYiki8t2HdNsQY29IusPBctLG5cOmyLA1VQFVSy2PKeLzeA0QAR69PzgQyK+iGvxF93zeVsjxeSLs11sLPYcTX9w9u9zsdaGitG3uqPWeEu1nvFuUVUSqLjbWYjWU+lYpsuzgah9/bAx/mLTGoaYJx/nIgAprlZouNZpmHpezSJexy2JALMzN8PF8tO8msWSVvB854/gFUDtH+vIuI1AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;sgs&quot;
        title=&quot;sgs&quot;
        src=&quot;/static/314bfbf64aa0d9fff16354f58da8fe77/fcda8/security-group.png&quot;
        srcset=&quot;/static/314bfbf64aa0d9fff16354f58da8fe77/12f09/security-group.png 148w,
/static/314bfbf64aa0d9fff16354f58da8fe77/e4a3f/security-group.png 295w,
/static/314bfbf64aa0d9fff16354f58da8fe77/fcda8/security-group.png 590w,
/static/314bfbf64aa0d9fff16354f58da8fe77/efc66/security-group.png 885w,
/static/314bfbf64aa0d9fff16354f58da8fe77/c83ae/security-group.png 1180w,
/static/314bfbf64aa0d9fff16354f58da8fe77/b4904/security-group.png 1768w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Finally, let’s go to your RDS Database, click on &lt;strong&gt;Modify&lt;/strong&gt; :&lt;/p&gt;
&lt;p&gt;Leave all as is, but in the “Connectivity” part, remove the default security group and add the new one created previously :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/27f0aac908a2f4bb98e276b007649fa3/91b29/rds-sg-update.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.05405405405405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABMElEQVQoz5VS2Y6DMAzk/z+z+1COACGBHFyznixBtNtKbaRRDLIn47GLXmtUdY2yLGGMRQgB3vvPIfnOOQzGYJomFMMwoKoq3O8lrB2xrivmef4KFNH1OhEXZNV6SGTbtiVC3p9g33dshMQ8MUYUZK3qBqrtUuuGxJJE4pUPHI+ckO8ghVGU5UNiHqpNClXbohfJ/LEsyx+kON8seAD2kyjjJByFsFEtVNehFz/tOIm5LmE84mwD1VF9PLy7kp6E2gX8KC3ocau7FJtwJB/IPmXf8gMvCa3zqLVFM1i5DYyf4ZeVmf9bvRRfvXv0cBxRyspwdTiglJAHkYdyGQ6VcZpvW45xhpMFJeiN90EKt7fq9kv7zycRGiutNkoGo9LN1SH5LBOOL5Y4PsXx/Lekul/30V1C9F7p0wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;rds sg update&quot;
        title=&quot;rds sg update&quot;
        src=&quot;/static/27f0aac908a2f4bb98e276b007649fa3/fcda8/rds-sg-update.png&quot;
        srcset=&quot;/static/27f0aac908a2f4bb98e276b007649fa3/12f09/rds-sg-update.png 148w,
/static/27f0aac908a2f4bb98e276b007649fa3/e4a3f/rds-sg-update.png 295w,
/static/27f0aac908a2f4bb98e276b007649fa3/fcda8/rds-sg-update.png 590w,
/static/27f0aac908a2f4bb98e276b007649fa3/efc66/rds-sg-update.png 885w,
/static/27f0aac908a2f4bb98e276b007649fa3/91b29/rds-sg-update.png 983w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Click on Continue, and do not forget before modifying your DB instance to select &lt;code class=&quot;language-text&quot;&gt;Apply immediately&lt;/code&gt; option. Then click on Modify DB instance.&lt;/p&gt;
&lt;p&gt;Ok, guys, we are done with the AWS configuration part, so the latest step is to test our API :)&lt;/p&gt;
&lt;p&gt;Let’s go back to your ELB App, and copy your environment URL. For me, it will be: &lt;code class=&quot;language-text&quot;&gt;http://my-super-api.eu-west-3.elasticbeanstalk.com&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Let’s do the same thing we did in local, by opening first the “init DB endpoint”: &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;http://my-super-api.eu-west-3.elasticbeanstalk.com/api/init-db

# and then check the songs endpoint :
http://my-super-api.eu-west-3.elasticbeanstalk.com/api/songs&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Finally, we can see our data:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7f6162128c4bf5e44ad3153a96cbf1a5/4597d/db_aws_query.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 120.94594594594594%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAABJ0AAASdAHeZh94AAACyElEQVQ4y41V2XKjMBDk/z9vX5ONcWwucwoQIATqnRbGcbZsJ1R1zSBr2nO0RKCUQlVVuFwuqOsafC/LEnmeoygKFGJvviC/vud367ttmgZB13UohTBJU79AXGRDmibIBHEcI0kSj1T27D7B37Is8zaKIp9IoFSDWggbya5rW0zjiF7+pO0HdMOM2RiM4wQjdhgG9H0PrbW3+9ooMfM8Y5omyTAJ0cYfUNFf6OyIeRy2QD1CT3bbKIG0DCQYSGut9T6Jl2XxCJZ1xW8f59yNlCQ72e77DMnKPjKDPWi3V/f2cC8HwAFyeIxrpU0EfSKYJW0+q2S6g4G0zoOlbOvbn2y433+PgMMgmDb/gQ3f/Baq01CaJU1+CMyE/d3LfISgS4/o0xBGd7L5qz8M1AMHM/t3rnNtkqFxGM8QUCLR+SQaKkQ+JSqxTV2JvlKopobuOyRxhEZ6NrYVdPS2j+jh4AIKmcI8J3JSeoNGz1CDRUO/v/NlvRVfie2n9SkCHrvwcEBR1hjnVUa/SGkWg1khr5gXwK4bzLK9G+ueIuD4eWyMaIiPaQc0YYau6lFdgDJzYp1YQFUy3eW1bn3JJGTTPWE/ofrIMCiNXEjSs0ORAkW2+qbfS+cRfIbn89kTUn/zZKDzFmaU42acQARtqVP3TfQvMzwej14SPC3WWCFYYG+ludtEN57XpAHvwM/PT3/LbCWPclGU6BqNugDaRvonvezb1ZOR52WGJAzD8NbDSYaS/jmiK1vEJyAKgeObQ3JaReDLj6SekCXzpmAPrZHrSgYyjXIXzjyfW7C99vHXhPsluVwnuazuvx66b9fYy5IPIuxbyWpA8RZDlT2yaNPhJYbvo6rlJrLr66Fwyvc9NN2I8j2BrnuvwzwBzgcnn4e9f+5nwl02/i4U2YxyStjD5SqdZREifMnoRx2eTif/tVsffg4e9+4Z6T9PZEw/V11AdwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;db live query&quot;
        title=&quot;db live query&quot;
        src=&quot;/static/7f6162128c4bf5e44ad3153a96cbf1a5/fcda8/db_aws_query.png&quot;
        srcset=&quot;/static/7f6162128c4bf5e44ad3153a96cbf1a5/12f09/db_aws_query.png 148w,
/static/7f6162128c4bf5e44ad3153a96cbf1a5/e4a3f/db_aws_query.png 295w,
/static/7f6162128c4bf5e44ad3153a96cbf1a5/fcda8/db_aws_query.png 590w,
/static/7f6162128c4bf5e44ad3153a96cbf1a5/4597d/db_aws_query.png 631w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Congrats guys, your API is now working on AWS :)&lt;/p&gt;
&lt;p&gt;Let’s summarize what you achieve during this tutorial :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You created a REST API with SpringBoot Framework in Java 11&lt;/li&gt;
&lt;li&gt;You created and configured an RDS Instance with a MySQL Database in AWS&lt;/li&gt;
&lt;li&gt;You created an Elastic Beanstalk application&lt;/li&gt;
&lt;li&gt;You configured a Security Group to allow exchanges between your RDS Instance and the ELB App.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I hope it was helpful for you, see you next time!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Deploy SonarQube on AWS EC2 Instance]]></title><description><![CDATA[Hello there, today we will look forward to how you can deploy a Sonarqube in the AWS Cloud, using Amazon Cloud Compute (EC2) Service. Before…]]></description><link>https://jstw.github.io/deploy-sonarcube-on-aws/</link><guid isPermaLink="false">https://jstw.github.io/deploy-sonarcube-on-aws/</guid><pubDate>Sat, 04 Jul 2020 08:12:03 GMT</pubDate><content:encoded>&lt;p&gt;Hello there, today we will look forward to how you can deploy a &lt;strong&gt;Sonarqube&lt;/strong&gt; in the AWS Cloud, using Amazon Cloud Compute (EC2) Service.&lt;/p&gt;
&lt;p&gt;Before going further, let’s introduce what is Sonarcube :&lt;/p&gt;
&lt;p&gt;SonarQube is the leading tool for continuously inspecting the Code Quality and Security of your codebases
and guiding development teams during Code Reviews.&lt;/p&gt;
&lt;p&gt;It helps your development team to write cleaner and safer code. It provides also a &lt;strong&gt;continuous code inspection&lt;/strong&gt; thanks to multiple automated static code analysis rules, protecting your app on multiple fronts, and guiding your team.&lt;/p&gt;
&lt;p&gt;SonarQube main components are :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Code Reliability&lt;/strong&gt;: Catch tricky bugs to prevent undefined behaviour from impacting end-users.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Application Security&lt;/strong&gt;: Fix vulnerabilities that compromise your app, and learn AppSec along the way with Security Hotspots.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Technical Debt&lt;/strong&gt;: Make sure your codebase is clean and maintainable, to increase developer velocity!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Actually, 27 programming languages can be handled with Sonarqube :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Java / C# / C / C++ / JavaScript / TypeScript / Python / Go &amp;#x26; 19 more!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I think I summarize a little bit what is Sonar, you can click here if you want more information about the product.&lt;/p&gt;
&lt;p&gt;Let’s start! In this tutorial, we will need :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;An AWS Account (to create one, please visit &lt;a href=&quot;https://portal.aws.amazon.com/billing/signup#/start&quot;&gt;this link&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Node Package Manager (&lt;a href=&quot;https://www.npmjs.com/get-npm&quot;&gt;npm&lt;/a&gt;) or other package managers like &lt;a href=&quot;https://classic.yarnpkg.com/en/docs/install/#windows-stable&quot;&gt;yarn&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;A terminal (with Admin Rights).&lt;/li&gt;
&lt;li&gt;Angular CLI (Available &lt;a href=&quot;https://angular.io/cli&quot;&gt;here&lt;/a&gt; or if you have a package manager, just run &lt;code class=&quot;language-text&quot;&gt;npm install -g @angular/cli&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;yarn install -g @angular/cli&lt;/code&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Step 1: Create the EC2 Instance&lt;/h3&gt;
&lt;p&gt;Before going further, I suggest you create an IAM Admin user in your AWS account which will have the AdministratorAccess IAM Policy. For the rest of the tutorial, I will use the AWS Region: &lt;strong&gt;London (eu-west-2)&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Let’s connect through the AWS Console, and navigate to the EC2 Service (under the Compute layer).&lt;/p&gt;
&lt;p&gt;Launch a new instance, and select the first AMI &lt;code class=&quot;language-text&quot;&gt;Amazon Linux 2 AMI (HVM), SSD Volume Type&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Sonarqube required at least &lt;strong&gt;3GB RAM&lt;/strong&gt;, so I recommend to use a &lt;strong&gt;t2.medium&lt;/strong&gt; or higher as Instance Type. Be careful, this kind of instance type are not free tier eligible, and you will be charged for this utilization (depend on your usage).&lt;/p&gt;
&lt;p&gt;Leave the default configuration as is, and click on &lt;strong&gt;Review and Launch&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Before launching the EC2 Instance, if you already have a key pair, select it. If not, create a new one. This key pair will be used to connect to your EC2 Instance through ssh.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7ab26859f0eeb4ba48a9d13ea336efcf/9c177/keypair.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 47.972972972972975%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABdklEQVQoz31SibKiQAz0/3/OsmrflgenIiDHzHCoT0V60+HBHrW7obo6mQSSNLNK0xSXywVFUSgnSSI8+URd12BNUZQopSbLMj0vyxL3+31B33eSy7HyPA9BECh8P8B2u1X/cDhI7ON4PKofhCHiKALrGUfisxlhjEGeZ/DlvVXfdWia5gutJjkt2VgL5xzatoUVf56sqiqt59lc3/c9qtpME3qer13JjPf7g04ZhpFyHMea2+12chYu09NnPopiPJ9PWGm+6mRC5ywaCei30pndftqIP20cR+gzTpjNGIsVx66tQ1lbRW0b5YowTthJ50kSrk+mBG4eQHyCVnNlinq+GCS5RXyuEAnSwiErG+SCk5ybpsen/Mnb7bbgev3Vv2J8v0VTWZm/+/vHN+x3WySnE/quxfs9SMEw8Sg8DHi9XguGYfhtXcasVQ3ZgXfvfE51BSY/Hw88/gGKT43nuzuDOf3gXwX/D2jUfb1eL9hsNro2r90PyWH2I/2PxbwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;New EC2 Keypair&quot;
        title=&quot;New EC2 Keypair&quot;
        src=&quot;/static/7ab26859f0eeb4ba48a9d13ea336efcf/fcda8/keypair.png&quot;
        srcset=&quot;/static/7ab26859f0eeb4ba48a9d13ea336efcf/12f09/keypair.png 148w,
/static/7ab26859f0eeb4ba48a9d13ea336efcf/e4a3f/keypair.png 295w,
/static/7ab26859f0eeb4ba48a9d13ea336efcf/fcda8/keypair.png 590w,
/static/7ab26859f0eeb4ba48a9d13ea336efcf/9c177/keypair.png 880w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Once you downloaded your select or created your EC2 Key Pair, you can launch your instance.&lt;/p&gt;
&lt;p&gt;Wait a few seconds, and your instance will be available. To connect to your EC2 Instance, go back to the EC2 Dashboard, and click on the Running Instance or click on View instance just after it has been created.&lt;/p&gt;
&lt;p&gt;Open a terminal, and locate the place you downloaded your EC2 Key Pair (It’s a .pem file) :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;batch&quot;&gt;&lt;pre class=&quot;language-batch&quot;&gt;&lt;code class=&quot;language-batch&quot;&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;chmod&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;400&lt;/span&gt; &amp;lt;&amp;lt; your key pair pem file &gt;&gt;.pem&lt;/span&gt;
&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;ssh&lt;/span&gt; &lt;span class=&quot;token parameter attr-name&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&amp;lt;&amp;lt; your key pair pem file &gt;&gt;&quot;&lt;/span&gt; ec2-user@&amp;lt;&amp;lt; ec2 instance public DNS address &gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once connected to your EC2, you should see something like this :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;       __|  __|_  )
       _|  (     /   Amazon Linux 2 AMI
      ___|\___|___|

https://aws.amazon.com/amazon-linux-2/
13 package(s) needed for security, out of 22 available
Run &amp;quot;sudo yum update&amp;quot; to apply all updates.
[ec2-user@ip-&amp;lt;&amp;lt; your ec2 ip &amp;gt;&amp;gt; ~]$&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;First, run a &lt;strong&gt;sudo yum update&lt;/strong&gt; to apply all updates.&lt;/p&gt;
&lt;p&gt;Then, we will install and configure a PostgreSQL Database. This database is needed to save the SonarQube analysis :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# Add the pgdg repository in Amazon Linux
sudo amazon-linux-extras install postgresql10

# Now, install postgresql 10
sudo yum install -y postgresql-server postgresql-devel

# Create a new PostgreSQL database cluster
sudo /usr/bin/postgresql-setup --initdb

# Start the PostgreSQL service
systemctl start postgresql&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Normally you will see your PostgreSQL running if you type &lt;code class=&quot;language-text&quot;&gt;systemctl status postgresql&lt;/code&gt; :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/600381decfd55fd69a88a1ef852dc6ba/c0255/postgre_service_running.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 27.027027027027025%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABJ0AAASdAHeZh94AAAAsUlEQVQY042QzQ6EIAyE0YMYI/4AoagIiu//jLNQ77t7KENJ+4UZYY1FCAEuELZrg8+lDoJzBO899n0vupXegciz1nciwrqumOeZ1WiNYRgg6qGUwrEfuO8bMUSkmHjJWstDsutY+76HEOJXvRcqgOd5cJ4nw67rQkqJfySlRNM0aNv2f2C1lXNmyGv1QIyR49DasIsKrfUXcBwVW9Qli2VZYMwLqX3NaJqmMjMWnb9CP6xrcomED7EUAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;PostgreSQL service running&quot;
        title=&quot;PostgreSQL service running&quot;
        src=&quot;/static/600381decfd55fd69a88a1ef852dc6ba/fcda8/postgre_service_running.png&quot;
        srcset=&quot;/static/600381decfd55fd69a88a1ef852dc6ba/12f09/postgre_service_running.png 148w,
/static/600381decfd55fd69a88a1ef852dc6ba/e4a3f/postgre_service_running.png 295w,
/static/600381decfd55fd69a88a1ef852dc6ba/fcda8/postgre_service_running.png 590w,
/static/600381decfd55fd69a88a1ef852dc6ba/efc66/postgre_service_running.png 885w,
/static/600381decfd55fd69a88a1ef852dc6ba/c0255/postgre_service_running.png 920w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The next step is to create our database user and our database. For that, we will use the &lt;strong&gt;PSQL Shell&lt;/strong&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sudo -u postgres psql postgres&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And run these queries :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;postgres=# CREATE USER sonar WITH ENCRYPTED PASSWORD &amp;#39;&amp;lt;&amp;lt; put a password &amp;gt;&amp;gt;&amp;#39;
postgres-# ;
postgres=# CREATE DATABASE sonarqube;
postgres=# GRANT ALL PRIVILEGES ON DATABASE sonarqube to sonar;
postgres=#&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ok, now our DB, DB User and our User Privileges are created. The latest step for psql shell is to locate the &lt;code class=&quot;language-text&quot;&gt;pg_hba.conf&lt;/code&gt; configuration file :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;SHOW hba_file;

# you should have an output like this :
postgres=# SHOW hba_file;
            hba_file
---------------------------------
 /var/lib/pgsql/data/pg_hba.conf
(1 row)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For me its actually located in &lt;code class=&quot;language-text&quot;&gt;/var/lib/pgsql/data/pg_hba.conf&lt;/code&gt;, but maybe it can be different for you.&lt;/p&gt;
&lt;p&gt;Once you have the file path, quit the psql shell with &lt;code class=&quot;language-text&quot;&gt;\q&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;We will edit the file with nano :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sudo nano /var/lib/pgsql/data/pg_hba.conf&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and replace all the content by :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;local   all     sonar   md5
local   all     all     peer
host    all     all     127.0.0.1/32    md5
host    all     all     ::1/128         md5&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then restart the PostgreSQL service  (with sudo):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sudo systemctl restart postgresql&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next step is to create a non-root Sonar System User :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# creating user group :
sudo groupadd sonar

# creating user named sonar without sign in options
sudo useradd -c “SonarDemoJstw” -d /opt/sonarqube -g sonar -s /bin/bash sonar

# set a password to activate our user :
sudo passwd sonar

# add the user to the sudo groups
sudo usermod -a -G sonar ec2-user&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let’s continue and install OpenJDK 11. Java is required for Sonarqube, and we will use version 7.9+ of Sonar that need Java 11.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# downloading zip file
curl -O https://download.java.net/java/GA/jdk11/13/GPL/openjdk-11.0.1_linux-x64_bin.tar.gz

# unzip and move files to the correct place
tar zxvf openjdk-11.0.1_linux-x64_bin.tar.gz
sudo mv jdk-11.0.1 /usr/local/

# change access from the jdk folder
sudo chmod -R 755 /usr/local/jdk-11.0.1&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We need to add java to the $PATH. For that, use &lt;code class=&quot;language-text&quot;&gt;sudo nano /etc/profile&lt;/code&gt; and add these following lines at the end of the file :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;export JAVA_HOME=/usr/local/jdk-11.0.1
export PATH=$JAVA_HOME/bin:$PATH&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Do not forget to &lt;code class=&quot;language-text&quot;&gt;source /etc/profile&lt;/code&gt; to load configuration changes.&lt;/p&gt;
&lt;p&gt;Finally, you should have Java installed, and you can check yourself by writing &lt;code class=&quot;language-text&quot;&gt;java -version&lt;/code&gt;, you should see :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ java -version
openjdk version &amp;quot;11.0.1&amp;quot; 2018-10-16
OpenJDK Runtime Environment 18.9 (build 11.0.1+13)
OpenJDK 64-Bit Server VM 18.9 (build 11.0.1+13, mixed mode)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here we are! We can now install Sonarqube ;-)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# download Sonarqube
wget https://binaries.sonarsource.com/Distribution/sonarqube/sonarqube-7.9.1.zip

# unzip files
unzip sonarqube-developer-7.9.1.zip

# move sources to the approriate folder
sudo mv -v sonarqube-7.9.1/* /opt/sonarqube

# change ownership of all the sonarqube files to user sonar
sudo chown -R sonar:sonar /opt/sonarqube

# change file access privileges
sudo chmod -R 775 /opt/sonarqube&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Before running Sonarqube, we will have some few updates to do in the configuration files.&lt;/p&gt;
&lt;p&gt;Edit the &lt;code class=&quot;language-text&quot;&gt;sonar.sh&lt;/code&gt; file :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sudo nano /opt/sonarqube/bin/linux-x86-64/sonar.sh&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Find the commented line &lt;code class=&quot;language-text&quot;&gt;#RUN_AS_USER=&lt;/code&gt; and replace by :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;RUN_AS_USER=sonar&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Quit and save this file, and open the &lt;code class=&quot;language-text&quot;&gt;sonar.properties&lt;/code&gt; file :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sudo nano /opt/sonarqube/conf/sonar.properties&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;First step, is to use the JDBC credentials. Find the commented lines &lt;code class=&quot;language-text&quot;&gt;sonar.jdbc.username&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;sonar.jdbc.password&lt;/code&gt; and replace by :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sonar.jdbc.username=sonar
sonar.jdbc.password=&amp;lt;&amp;lt; your DB password &amp;gt;&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;The DB password was the one created by the `CREATE USER sonar WITH ENCRYPTED PASSWORD ’&amp;#x3C;&amp;#x3C; put a password &gt;&gt;’ request.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Do not quit the file edition, and this time uncomment the &lt;code class=&quot;language-text&quot;&gt;sonar.jdbc.url&lt;/code&gt; line and replace by :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sonar.jdbc.url=jdbc:postgresql://localhost/sonarqube&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let’s check also the &lt;strong&gt;WEB SERVER&lt;/strong&gt; configuration, find the &lt;code class=&quot;language-text&quot;&gt;sonar.web.javaOpts&lt;/code&gt; line, uncomment it and put :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sonar.web.javaOpts=-Djava.net.preferIPv4Stack=true&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Sometime, Java trying to use IPv6. So we will force Java to prefer IPv4 instead.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Just below, you will have also a &lt;code class=&quot;language-text&quot;&gt;sonar.web.javaAdditionalOpts&lt;/code&gt; commented line. Uncomment it, and add :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sonar.web.javaAdditionalOpts=-server&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Find the &lt;code class=&quot;language-text&quot;&gt;sonar.web.host&lt;/code&gt;, and uncomment it. You can keep the default value &lt;code class=&quot;language-text&quot;&gt;0.0.0.0&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Finally, you can save your changes and exit this file.&lt;/p&gt;
&lt;p&gt;Before starting the Sonar server, we will override some defaults limit configuration :&lt;/p&gt;
&lt;p&gt;Edit both &lt;code class=&quot;language-text&quot;&gt;/etc/systemd/user.conf&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;/etc/systemd/system.conf&lt;/code&gt;, then add this following line at the end:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;DefaultLimitNOFILE=65536&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once is done, edit &lt;code class=&quot;language-text&quot;&gt;/etc/security/limits.conf&lt;/code&gt; and add these following lines :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;*  soft    nofile  65536
*  hard    nofile  65536
elasticsearch   soft    nofile  65536
elasticsearch   hard    nofile  65536
elasticsearch   memlock unlimited&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Edit the &lt;code class=&quot;language-text&quot;&gt;/etc/sysctl.conf&lt;/code&gt; file and add this following line :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;vm.max_map_count=262144&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Reload the system configuration with &lt;code class=&quot;language-text&quot;&gt;sudo sysctl -p&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;sudo systemctl restart postgresql&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Disconnect from the server, and reconnect again :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# disconnect
exit

# reconnect
ssh -i &amp;quot;&amp;lt;&amp;lt; your key pair pem file &amp;gt;&amp;gt;&amp;quot; ec2-user@&amp;lt;&amp;lt; ec2 instance public DNS address &amp;gt;&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I think it’s time to start the Sonar server :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;/opt/sonarqube/bin/linux-x86-64/sonar.sh start&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Provide the password we defined for the sonar sudo user.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Here we are, your Sonarqube server should run ;-)&lt;/p&gt;
&lt;p&gt;Before accessing it, you need to add a security rule to allow inbound traffic to Sonarqube.&lt;/p&gt;
&lt;p&gt;Go to the &lt;code class=&quot;language-text&quot;&gt;EC2 Services &amp;gt; Running instances&lt;/code&gt;. Find your instance, and click on the Security Group associated :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6b672e719f93df3c6f8db596ec6256cf/49ee2/security_group_ec2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 12.837837837837837%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABJ0AAASdAHeZh94AAAAiklEQVQI15WNWQoCMRBEc3zP4Kd38BieIBJM0OxklSgzMGWSQfDXhqKbqkc1OZw5LleP17NASoXWGv6dbVuxLG/UWkEeykAbC+cctNbw3iOlhBDC1Pf+9WKMc+ecuwqULBDCg1IK4pydRcaYCXLOodRePJ6MIsbYZEY2uHHvnu2cwk0cIe6nnjl8AK9S4nk5W6hnAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;EC2 Security Groups&quot;
        title=&quot;EC2 Security Groups&quot;
        src=&quot;/static/6b672e719f93df3c6f8db596ec6256cf/fcda8/security_group_ec2.png&quot;
        srcset=&quot;/static/6b672e719f93df3c6f8db596ec6256cf/12f09/security_group_ec2.png 148w,
/static/6b672e719f93df3c6f8db596ec6256cf/e4a3f/security_group_ec2.png 295w,
/static/6b672e719f93df3c6f8db596ec6256cf/fcda8/security_group_ec2.png 590w,
/static/6b672e719f93df3c6f8db596ec6256cf/efc66/security_group_ec2.png 885w,
/static/6b672e719f93df3c6f8db596ec6256cf/c83ae/security_group_ec2.png 1180w,
/static/6b672e719f93df3c6f8db596ec6256cf/49ee2/security_group_ec2.png 1618w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;You will be redirected to your Security Group. Click on the &lt;strong&gt;Inbound Rules&lt;/strong&gt; tab, and edit them.&lt;/p&gt;
&lt;p&gt;Add a new rule like below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fc3236d824601f5d809a4b69a9d022a5/668c6/add_rule.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 27.7027027027027%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABJ0AAASdAHeZh94AAAA3klEQVQY05VP0Q4CIQzj///QM/psjtMgBxwwoG5TTHz0oRmsa7uZ03LGaVmwXK64rRZ227AytvsdT+//hrHWwvkdKSWEGLCHgBjjt6bjUE7e8VPlf3D/mNwEc8Y9PUol1FoRQtTq9wBqHaN3HkrKjzHQ+S8QI+eczgk3+wLT+wAwkEuF44FcCrxsxyJ56zY5MwoqNXQ2JiI2qhxOaBKsvabhJvOwOFceSvltUhjUmkLeiWdWH+FSYfF7EzH5bv0JUUMRCNFEzKlCSNoUEFU96+YCHjHzMePnxGkuelnuBZT90qhx6CESAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;TCP Rule&quot;
        title=&quot;TCP Rule&quot;
        src=&quot;/static/fc3236d824601f5d809a4b69a9d022a5/fcda8/add_rule.png&quot;
        srcset=&quot;/static/fc3236d824601f5d809a4b69a9d022a5/12f09/add_rule.png 148w,
/static/fc3236d824601f5d809a4b69a9d022a5/e4a3f/add_rule.png 295w,
/static/fc3236d824601f5d809a4b69a9d022a5/fcda8/add_rule.png 590w,
/static/fc3236d824601f5d809a4b69a9d022a5/efc66/add_rule.png 885w,
/static/fc3236d824601f5d809a4b69a9d022a5/c83ae/add_rule.png 1180w,
/static/fc3236d824601f5d809a4b69a9d022a5/668c6/add_rule.png 1692w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;By default, Sonarqube is running on port 9000. You can change this default port by editing the &lt;strong&gt;sonar.properties&lt;/strong&gt; file in &lt;strong&gt;/opt/sonarqube/conf&lt;/strong&gt; folder.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Do not forget to restart sonar just after.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Save your rules, and to access to your Sonarqube server, find your EC2 IPv4 Public address in the EC2 Running Instances dashboard, open a new tab with this following URL :
&lt;code class=&quot;language-text&quot;&gt;http://&amp;lt;&amp;lt; your ec2 public IP address &amp;gt;&amp;gt;:9000&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;And finally, you should see the Sonar interface :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6019883c69e6a96b9f590fc428154d07/569c6/sonar.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.972972972972975%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABJ0AAASdAHeZh94AAAApElEQVQY042PQQ6DIBBFOabRhVJWnJITGC/QdXdNChVEAnwd2lhtUtOfvPAZZoYZxi8CbdtucM7RdV05m6ZBXdcHKFZVFaSUUEqh73sMw1C8EAIMX8o5b5yJ3kMImOcZ3vviSYwuhHNuC/6jmD4fPrSBtRYpJbDr7Q47eejRIcZ4mPAXVDiuDZybVp+hzRPGmDIQCzG9kt4rnq2adznUlCDvd2svbCFrDAu0ReIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Sonar interface&quot;
        title=&quot;Sonar interface&quot;
        src=&quot;/static/6019883c69e6a96b9f590fc428154d07/fcda8/sonar.png&quot;
        srcset=&quot;/static/6019883c69e6a96b9f590fc428154d07/12f09/sonar.png 148w,
/static/6019883c69e6a96b9f590fc428154d07/e4a3f/sonar.png 295w,
/static/6019883c69e6a96b9f590fc428154d07/fcda8/sonar.png 590w,
/static/6019883c69e6a96b9f590fc428154d07/efc66/sonar.png 885w,
/static/6019883c69e6a96b9f590fc428154d07/c83ae/sonar.png 1180w,
/static/6019883c69e6a96b9f590fc428154d07/569c6/sonar.png 1674w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Let’s create a sample test project. You can create any kind of project you want, but for this example, I will go for an Angular project.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ng new my-sonar-app&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To integrate our Angular app in Sonar, we need a specific package: &lt;code class=&quot;language-text&quot;&gt;sonar-scanner&lt;/code&gt;. Install this package like below :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;npm install -g sonar-scanner&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The next step is to write some configuration to tell our Angular App how to communicate with our Sonarqube server. For that, create a file named &lt;code class=&quot;language-text&quot;&gt;sonar-project.properties&lt;/code&gt; and add this content :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sonar.host.url=http://&amp;lt;&amp;lt; your ec2 public ipv4 &amp;gt;&amp;gt;:9000
sonar.login=admin
sonar.password=admin
sonar.projectKey=my-sonar-app
sonar.projectName=my-sonar-app
sonar.projectVersion=1.0
sonar.sourceEncoding=UTF-8
sonar.sources=src
sonar.exclusions=**/node_modules/**
sonar.tests=src
sonar.test.inclusions=**/*.spec.ts
sonar.typescript.lcov.reportPaths=coverage/lcov.info&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then, add a script to run our sonar scanner in the &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt; file :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;quot;scripts&amp;quot;: {
    // ... other scripts ...
    &amp;quot;sonar&amp;quot;: &amp;quot;sonar-scanner&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;If you don’t want to install sonar-scanner as a global dependency you can also install it as a devDepencies in your app. But you need to adapt the npm run script.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Before running&lt;/p&gt;
&lt;p&gt;Open a terminal as Administrator, and then go to your project directory. Let’s run the sonar script: &lt;code class=&quot;language-text&quot;&gt;npm run sonar&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;A few moments later, you should have an output like this :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;INFO: Analysis report generated in 86ms, dir size=176 KB
INFO: Analysis report compressed in 56ms, zip size=44 KB
INFO: Analysis report uploaded in 664ms
INFO: ANALYSIS SUCCESSFUL, you can browse http://&amp;lt;&amp;lt; your ec2 ip &amp;gt;&amp;gt;:9000/dashboard?id                                                                                                                                  =my-sonar-app
INFO: Note that you will be able to access the updated dashboard once the server                                                                                                                                   has processed the submitted analysis report
INFO: More about the report processing at http://&amp;lt;&amp;lt; your ec2 ip &amp;gt;&amp;gt;:9000/api/ce/task?                                                                                                                                  id=AXMd61kTTcDJ32FJALtf
INFO: Analysis total time: 29.918 s
INFO: ------------------------------------------------------------------------
INFO: EXECUTION SUCCESS
INFO: ------------------------------------------------------------------------
INFO: Total time: 32.274s
INFO: Final Memory: 22M/61M
INFO: ------------------------------------------------------------------------&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Finally, you can connect to your SonarQube service instance, log-in with &lt;strong&gt;admin/admin&lt;/strong&gt; credentials, and you will see your project analysis :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4c2adc9ad76c8c42b8b52b9143e85c02/8c381/project_analysed.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 27.027027027027025%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABJ0AAASdAHeZh94AAAA7UlEQVQY002QCW7DMAwE/f9X5SMuUrhBXAQ+dB+WNKUUtCihBVZLUhR32raN4zhQ50n2GWssXVNK4b3HGPPOa8UpNV3XWuOcw1o7+L7vHAK9fTOFEHC+oFzg9ryxmAUaUOWUSmmV2lHK0EotFOHXdQ103tGb+ltTq41PvZDKxWxm7vZOjzWspJZoPpJjRNpQSY0hv5FzfiNFnrtBW89UcuFjm2VaZlc7j/NBzZX5NWOTJWlZ61TkmlmPdfyitUat9Q9e1v96iS3WMXWPkkvilcWJEGR1LVp0cdytFCvxSSs9ct233vMfXQteaoX/AGefgnXvZ4a0AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Project analysed&quot;
        title=&quot;Project analysed&quot;
        src=&quot;/static/4c2adc9ad76c8c42b8b52b9143e85c02/fcda8/project_analysed.png&quot;
        srcset=&quot;/static/4c2adc9ad76c8c42b8b52b9143e85c02/12f09/project_analysed.png 148w,
/static/4c2adc9ad76c8c42b8b52b9143e85c02/e4a3f/project_analysed.png 295w,
/static/4c2adc9ad76c8c42b8b52b9143e85c02/fcda8/project_analysed.png 590w,
/static/4c2adc9ad76c8c42b8b52b9143e85c02/efc66/project_analysed.png 885w,
/static/4c2adc9ad76c8c42b8b52b9143e85c02/c83ae/project_analysed.png 1180w,
/static/4c2adc9ad76c8c42b8b52b9143e85c02/8c381/project_analysed.png 1267w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The latest step is to configure a pipeline to include the sonar analysis in our build process. For that, we will use the AWS CodeCommit, AWS CodeBuild and AWS CodePipeline services.&lt;/p&gt;
&lt;p&gt;Let’s first navigate to the AWS CodeCommit service by clicking on &lt;code class=&quot;language-text&quot;&gt;Developer Tools &amp;gt; CodeCommit&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Let’s create a repository called: &lt;code class=&quot;language-text&quot;&gt;my-sonar-app&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Follow the connection step explained by AWS, to register your SSH Public Key and configure the usage of your SSH Key in AWS CodeCommit.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If you don’t have any SSH Key, you can follow this &lt;a href=&quot;https://docs.aws.amazon.com/codecommit/latest/userguide/setting-up-ssh-unixes.html?icmpid=docs_acc_console_connect_np&quot;&gt;documentation&lt;/a&gt; to create and integrate an SSH Key in an AWS CodeCommit repository.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Once your SSH key is ready to be used, you can git clone your CodeCommit repository :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;git clone ssh://git-codecommit.&amp;lt;&amp;lt; your aws region &amp;gt;&amp;gt;.amazonaws.com/v1/repos/&amp;lt;&amp;lt; your repo name &amp;gt;&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once you cloned your repository, you can copy/paste the content of the previous Angular project (my-sonar-app) in this repository.&lt;/p&gt;
&lt;p&gt;You should have something like this :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8858782849ca85c2f5ecee5ec786b133/20982/project_dir.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 60.810810810810814%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABJ0AAASdAHeZh94AAABqklEQVQoz21Th3arMAzl/7+xr01YLwEzvPBg3EomUDp0jiIjy1dXI5noJRrSXpqkTzHg0fYwPmIKC3ycMc8zItllWbCuK33v9lC+P87ZvVX41xiUcj61Umwj8jGi0x7GWEhtCHAFi7FTAmVZtw3OB2xkWTMgQo3PM3iX7TxxdmMMlJKJIYu1BlKqBHC+OAE3yi7u6PqRgsb94hXAEkIgP7Wk7xM4i9YK48ix6wl2SLYsHkLUxEDDe/8tG0uMVIFSGIbhBOTvHfALiNmzZoF68f/xRFWVqbS/ALXWCeAomeOY+TXOOZcIZT443PN3FEWRHv0CfJX8kyH7jopY+OwY0BHDW1mhyHO0bZMYvVD3oVwZXgDZdx3ewTrzBJjXNd4/bni2Aj5EWgXqCf2w5ZUYRom26xBoFxmiH0YoWqNrnKQZTI4YSj/jrajxcctR1g+4QItMw4vLluxECz5IDdEP6Y7c6CgB+zgmEhr7jAuwDDhR1ltVoSoLNM3vktNQfkyZ+8ers5e8nT1MQwk0uYcQtDoi9YD/PtfdYhBrberZ12JbTNP0bXj8lpN/ApyJpw3/n1OBAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Project sources&quot;
        title=&quot;Project sources&quot;
        src=&quot;/static/8858782849ca85c2f5ecee5ec786b133/fcda8/project_dir.png&quot;
        srcset=&quot;/static/8858782849ca85c2f5ecee5ec786b133/12f09/project_dir.png 148w,
/static/8858782849ca85c2f5ecee5ec786b133/e4a3f/project_dir.png 295w,
/static/8858782849ca85c2f5ecee5ec786b133/fcda8/project_dir.png 590w,
/static/8858782849ca85c2f5ecee5ec786b133/20982/project_dir.png 778w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Before starting the configuration, we will create an S3 bucket to host our web application. Go to S3, by clicking &lt;code class=&quot;language-text&quot;&gt;Storage &amp;gt; S3&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Create a bucket, for ex: &lt;strong&gt;our-super-webapp&lt;/strong&gt;, and leave default configuration as is.&lt;/p&gt;
&lt;p&gt;Once it’s done, click on the first tab, &lt;strong&gt;Block Public Access&lt;/strong&gt;, and un-check the first one, then save.&lt;/p&gt;
&lt;p&gt;Then, click on the &lt;strong&gt;Permissions&lt;/strong&gt; tab, add a new &lt;strong&gt;Bucket Policy&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Sid&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;PublicReadGetObject&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;s3:GetObject&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:s3:::&amp;lt;&amp;lt; put here your bucket name &gt;&gt;/*&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Save it, and your bucket will be now public.&lt;/p&gt;
&lt;p&gt;Ok so now, our S3 bucket is ready to be used in our build, so before pushing our Angular App in our AWS CodeCommit repository, we will create our AWS Pipeline.&lt;/p&gt;
&lt;p&gt;Go back to the AWS CodePipeline, and click on &lt;code class=&quot;language-text&quot;&gt;Pipeline &amp;gt; Getting Started &amp;gt; Create pipeline&lt;/code&gt; on the left navbar.&lt;/p&gt;
&lt;p&gt;Choose a name for the pipeline, for example &lt;strong&gt;MySuperPipeline&lt;/strong&gt; :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/db412ff864cce2cedd2d104d5cac8e0b/25c1c/pipeline_cfg_1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.70270270270271%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABXElEQVQoz4VTa2+DMAzk///AfVuropVXgQQIJCGBm+1ChSrWIZ2cB5x9Z5NcrlekaYrvywVKa8zzDOfcBg/nvUTvP4PfG4YBSdd1shjHUciWZTlFjPFfDMYg+blnyPIC4zRRppmilbUZJ0zWPkFnIQSs6/rC2WOoqKSsHsiyHEVRvj6cGXOQ9b4Pb9XspMcohD3JnayTwxAX8PW6vbB8qOZY7Q4h/MoVbmWD20PhYTxaG9G6CO1XKL9ItFQte13XDZq2Jc+NVDxv1UfymPdCWBBJrg0yQjlYVINDMwX0AehmAkUXojRNE6nueiFkn3fsdghh3TTSAM7C2Tx1muG2UWCIZ29yz+QLIXf4Tp2+c2PKCi1J0jSPrVJoKBnL5DmMm8RwaMqph2lRo6oqGuoOSmmRZmiepk0OR56vvu/FR77/6xFCJurIF5Zm6e/YZ89ueK6d3O042vECqeDEvyBeWQ/MCKOhAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Pipeline config 1&quot;
        title=&quot;Pipeline config 1&quot;
        src=&quot;/static/db412ff864cce2cedd2d104d5cac8e0b/fcda8/pipeline_cfg_1.png&quot;
        srcset=&quot;/static/db412ff864cce2cedd2d104d5cac8e0b/12f09/pipeline_cfg_1.png 148w,
/static/db412ff864cce2cedd2d104d5cac8e0b/e4a3f/pipeline_cfg_1.png 295w,
/static/db412ff864cce2cedd2d104d5cac8e0b/fcda8/pipeline_cfg_1.png 590w,
/static/db412ff864cce2cedd2d104d5cac8e0b/efc66/pipeline_cfg_1.png 885w,
/static/db412ff864cce2cedd2d104d5cac8e0b/25c1c/pipeline_cfg_1.png 1047w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Once it’s done, click on &lt;strong&gt;Next&lt;/strong&gt;. The next step will be our &lt;strong&gt;Stage&lt;/strong&gt; configuration.&lt;/p&gt;
&lt;p&gt;Choose &lt;strong&gt;AWS Repository&lt;/strong&gt; as Source Provider, select your repository previously created, add &lt;strong&gt;master&lt;/strong&gt; as branch name and finally select the &lt;strong&gt;AWS CodePipeline&lt;/strong&gt; detection options :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f3c66ea8426892f6b127941521313524/20751/pipeline_cfg2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 60.13513513513513%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABJ0AAASdAHeZh94AAABf0lEQVQoz4VTi5KkIAz0/3/xqrb29uGMA6gIqKBObzozujt3e7dYXYlAmk4I1TAMqE8n0OacMU0Tpnn+GdPj/ywYxxFVjBHOOYQQsK4rtm1T+z9s2/f7KKhKKcEYi7f3GsY6jKIwyUkH0ignf87RjzIXYzr2kpyDpJVOCqn3Hl7SLsvyo8JSiqSYcb1elYz2IIx3hc3FoPesYzlqcrMZM2srPlOivxPs44GQkqnMSrokznI6wcCsKAeR+rJGhbyUnexbhcZaVcVALuhm/b4o2fGF5C9CVSipurZVMqbIOh63KFb9+z99rrME/yTsuh5t16HvvfRjwCILy51skWCmui5F22VdP9vlz3EQtkJYn86K97rGxRiBxbm5aCtlUfPaRfyqLZ7PBk8nA5cyfN7Qz+sN4qe8oOLLoAoGWteiERInNoQot+7VUpmdNry4iFfr8dt4NGHGeSAmRRMLYhGFQV7KrVmTNimblna/INaKvRpkzyD1Heai8OP8gF4QJO4D20GmXiBV5swAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Pipeline config 2&quot;
        title=&quot;Pipeline config 2&quot;
        src=&quot;/static/f3c66ea8426892f6b127941521313524/fcda8/pipeline_cfg2.png&quot;
        srcset=&quot;/static/f3c66ea8426892f6b127941521313524/12f09/pipeline_cfg2.png 148w,
/static/f3c66ea8426892f6b127941521313524/e4a3f/pipeline_cfg2.png 295w,
/static/f3c66ea8426892f6b127941521313524/fcda8/pipeline_cfg2.png 590w,
/static/f3c66ea8426892f6b127941521313524/efc66/pipeline_cfg2.png 885w,
/static/f3c66ea8426892f6b127941521313524/20751/pipeline_cfg2.png 1037w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Hit Next, and now we will create our &lt;strong&gt;Build Stage&lt;/strong&gt;. Before, configuring the Build Stage, we have to create our project. Click on the &lt;strong&gt;Create Project&lt;/strong&gt; button, it will open a new popup.&lt;/p&gt;
&lt;p&gt;Give a project name, &lt;strong&gt;MySonarProject&lt;/strong&gt; for example, and then in the Environment image section, choose &lt;strong&gt;Managed&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Once you selected the Managed one, configure the rest as below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/403eb7c37360c2da4a958501e6ccafea/0d1a4/pipeline_cfg_3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 78.37837837837837%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABJ0AAASdAHeZh94AAACKklEQVQ4y21Ti3KjMAzk/3/u5q7pXafXxzUkTcIrvAw2xt5bGaelTZjZkSzDImmlpOl6vOclDnmBU3nG5PEB4zzM7DHRzs5hnmdYwtF33i92BblLsl7jz7HFY3rEA5FWPQ7tiH09IB8sKgNU2kFPFkVR4P1wRFlVsNZekZppQqK0QTfNqMcJjbbBXtCaGT1T7a3DxL9PJBHIh5LNknUEfblLVN9jv0uJHbq2wfL4T3gXbQR9z5hk+P3xJA0ZVsqgVhqtZMUsBd0K63N4ZzRoBo3e2ABFDNZjYKVJwxeeqxE/n1L8eNzi/nWPzXOKu6ctNi87PGwPuKf9zfjD2zvuXniflkSBzTbHPf1fbwVez5ptImGn2Ttm/4+kT4VCrigEL0oKcoGcP+FQav8FxegpoEMzsoedGjgyJVo1ghMCzQbreRkXfQMhTpG0nem7FXjHWDIMA7IsQ0dxpOEivzR9Dec4e3MEfRHEGHMliguiKIVzXYcXRq2hr2DCWKznbY5DHDT3PkAeiSfDOKIsK2R5HoibpkHbtrQL2rYLG/KFkGeZRXwjDBn2zPB0ypAXZShbzj2tYm/7XoVz2IpIFLKLw32TULGHVXUOhOdzHYikDdJbsXL/QXhB3OmbhPJhzVKlf1P869UGyM5GiB9KjqJcEcrYnLIcI3spYWsXFW3c28VfMrrELz29SZh3I/5yA3ZpinS3Z/lVEEXKr+smCrUIJJVIXNS/kK2tEP4HFCfc88zPyf4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Pipeline config 3&quot;
        title=&quot;Pipeline config 3&quot;
        src=&quot;/static/403eb7c37360c2da4a958501e6ccafea/fcda8/pipeline_cfg_3.png&quot;
        srcset=&quot;/static/403eb7c37360c2da4a958501e6ccafea/12f09/pipeline_cfg_3.png 148w,
/static/403eb7c37360c2da4a958501e6ccafea/e4a3f/pipeline_cfg_3.png 295w,
/static/403eb7c37360c2da4a958501e6ccafea/fcda8/pipeline_cfg_3.png 590w,
/static/403eb7c37360c2da4a958501e6ccafea/efc66/pipeline_cfg_3.png 885w,
/static/403eb7c37360c2da4a958501e6ccafea/0d1a4/pipeline_cfg_3.png 1036w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Do not forget to select Enable this flag if you want to build Docker images or want your builds to get elevated privileges. This grants elevated privileges to the Docker process running on the build host.&lt;/p&gt;
&lt;p&gt;You can add a look on the additional configuration, but for this example, I will leave it as is.&lt;/p&gt;
&lt;p&gt;The most important part is to create our &lt;strong&gt;build specifications&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Before creating it, we will need a SonarQube Token for the authenticate part during build.&lt;/p&gt;
&lt;p&gt;Just open a new Browser Tab, or navigate to your SonarQube one if you keep it opened, and navigate to your Account :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f77cb26f9ecf900f8b89aeea034dff04/610c0/sonar-token.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 16.216216216216214%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABJ0AAASdAHeZh94AAAAiUlEQVQI153JSwrCMACE4d5bQpLaI7hw1UX1PN00BOoJFCyJmEcL1d9SRBfuHPgYhinkVrHRgqqqKMvy01JKlFLohXoTQlDXNdZajDF0pqPve5pjw+6wR2tNccbRcuLfzPNMCAEez3UXLnou4UpOmZTSj9s9EuN355wZx3E1TdPyRYZhwHuPc44X0lbTVR6Xh9MAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;SonarQube token&quot;
        title=&quot;SonarQube token&quot;
        src=&quot;/static/f77cb26f9ecf900f8b89aeea034dff04/fcda8/sonar-token.png&quot;
        srcset=&quot;/static/f77cb26f9ecf900f8b89aeea034dff04/12f09/sonar-token.png 148w,
/static/f77cb26f9ecf900f8b89aeea034dff04/e4a3f/sonar-token.png 295w,
/static/f77cb26f9ecf900f8b89aeea034dff04/fcda8/sonar-token.png 590w,
/static/f77cb26f9ecf900f8b89aeea034dff04/efc66/sonar-token.png 885w,
/static/f77cb26f9ecf900f8b89aeea034dff04/c83ae/sonar-token.png 1180w,
/static/f77cb26f9ecf900f8b89aeea034dff04/610c0/sonar-token.png 1295w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Once you are here, navigate to the &lt;strong&gt;Security&lt;/strong&gt; tab.&lt;/p&gt;
&lt;p&gt;Enter a token name, and click on the &lt;strong&gt;Generate&lt;/strong&gt; button as below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8714e7f2d8cb5a1cabf004be45bdfa08/f3c12/sonar-token-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 73.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABJ0AAASdAHeZh94AAAB50lEQVQ4y61UyZLcMAj1//9dkkpmbpOpSXtp75IXLVgvgFuunsohh8RVzyCQAMOTC+899n1HCAFE9M8oJNA4jogx4n88hfcOy7JgnmeFmY1KSWKMYTlhmiZdD8MAy7a8nqZRddknhWnAfdtQVRXKskTTNKjrWnVBVVbqu99b9d1uN/WLXrK9YV38YnfOnQED93DjoNZaWK5UshljVa7rynK+NqeUFFk/juPSsyxkIDVnbNtWs++Pw7I5b7yep4P8/iOYBpRvlx5au2hl++44WFJ4H9D3Pbqu5x6dQ0t/G4pMlw7iKXuQgALSERUH695v8G5luz9tR7iQ1ymvpUKiAzS9wk0vGOqvGOsvGJtvioF10/3AMrzCDi+Yu++6Ft2yzfSnFITtXRNwhQRnfmE1H1jmD9jpp2KZ32HGN+xrieCaC9HfQb594P4kOw5I5yePa0A3O6zRoXcjOjdg9MxFb1R2e492Y5vjiVO4evkJCfmTCSGe1+60fp4qccLnaSeefgiee0YaKk/3mrIEErZnpiu/0kkZrZ5vg/BQD7BfbHJj5B9wJjjt6UGzgqSHzj2oY7Wi/Ii+MumvNUW9BEL4IPv4bGSq+boBMe0kqPZQIBUKMqEF2o4nm8i8V3yH/GG4mMgJyHn1/wYwMpDdzRlEZwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;SonarQube token 2&quot;
        title=&quot;SonarQube token 2&quot;
        src=&quot;/static/8714e7f2d8cb5a1cabf004be45bdfa08/fcda8/sonar-token-2.png&quot;
        srcset=&quot;/static/8714e7f2d8cb5a1cabf004be45bdfa08/12f09/sonar-token-2.png 148w,
/static/8714e7f2d8cb5a1cabf004be45bdfa08/e4a3f/sonar-token-2.png 295w,
/static/8714e7f2d8cb5a1cabf004be45bdfa08/fcda8/sonar-token-2.png 590w,
/static/8714e7f2d8cb5a1cabf004be45bdfa08/f3c12/sonar-token-2.png 764w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Copy/paste this token, and before adding our &lt;strong&gt;buildspec&lt;/strong&gt; configuration, we will need to add few environment variables, so go back to the Additional configuration on the Environment section, and then find the &lt;strong&gt;Environment variables&lt;/strong&gt; block.&lt;/p&gt;
&lt;p&gt;We will add 3 variables :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SONAR_ENDPOINT : Your SonarQube EC2 IP Address endpoint&lt;/li&gt;
&lt;li&gt;SONAR_TOKEN : The Authenticate Token previously created&lt;/li&gt;
&lt;li&gt;PROJECT : Name of the project&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6c8af3f8fa5a6cfbd07b317c4e5a7204/fe9f1/env-var.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 40.54054054054054%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAABMUlEQVQoz51R2W7DMAzL//9kMWBt0sZ27JyOc3Ck1mDDHmdASHSRlFTd7w+0ziGlHm3rsG2bWc4Zv99JW5blxz9P/H2KVc57OOfRdR3WUiyR2VjXtcVDCPD8lnWFZ+3rTXqweSGperouwvnA+I5qnhfEmMzGacJxHJjWgmfszV60pktISzaAlBJK2bCzLpNkpWm6QFDFq3GcTIWYWyo5WRjmjFsb8OkjPlqP29OhGWYjDJxEjSLO+RswxggfOlNeDcNgzrUTMW/7Dk/GlSMoujOnEScCaryyvQFNYUGk6nABpr63oxTuQkA7TYmecQHoOPJFNIyjAWpvqpu5a+Wl2nOHwqhUpMB1XYGqQTv1XIXyUm+7nWeLlfdRNK7Gl0J/HUULrZsnGtqjbvjfmC8F/3lfjihsyeJShN8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;AWS CodeProject Env vars&quot;
        title=&quot;AWS CodeProject Env vars&quot;
        src=&quot;/static/6c8af3f8fa5a6cfbd07b317c4e5a7204/fcda8/env-var.png&quot;
        srcset=&quot;/static/6c8af3f8fa5a6cfbd07b317c4e5a7204/12f09/env-var.png 148w,
/static/6c8af3f8fa5a6cfbd07b317c4e5a7204/e4a3f/env-var.png 295w,
/static/6c8af3f8fa5a6cfbd07b317c4e5a7204/fcda8/env-var.png 590w,
/static/6c8af3f8fa5a6cfbd07b317c4e5a7204/fe9f1/env-var.png 883w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Once it’s done, go back to the &lt;strong&gt;Buildspec configuration&lt;/strong&gt; part, and choose &lt;strong&gt;Insert build command&lt;/strong&gt;. Switch to the editor, and add the following configuration :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.2&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;variables&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;CACHE_CONTROL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;86400&quot;&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;S3_BUCKET&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&amp;lt;&amp;lt; Your S3 bucket name &gt;&gt;&quot;&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;BUILD_FOLDER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;dist&quot;&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;phases&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;install&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;runtime-versions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;nodejs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;commands&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; echo Installing source NPM dependencies&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; npm install
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; npm install &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;g @angular/cli
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; wget https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//binaries.sonarsource.com/Distribution/sonar&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scanner&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;cli/sonar&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scanner&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;cli&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;3.3.0.1492&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;linux.zip
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; unzip sonar&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scanner&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;cli&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;3.3.0.1492&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;linux.zip
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; export PATH=$PATH&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;./sonar&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scanner&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;3.3.0.1492&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;linux/bin/
  &lt;span class=&quot;token key atrule&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;commands&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; echo Build started 
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ng build
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; sonar&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;scanner
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;Dsonar.login=$SONAR_TOKEN
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;Dsonar.host.url=$SONAR_ENDPOINT
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;Dsonar.projectKey=$PROJECT
&lt;span class=&quot;token key atrule&quot;&gt;artifacts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;files&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;**/*&apos;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;base-directory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;dist*&apos;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;discard-paths&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; yes&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Do not forget to change in the env/variables buildspec block the name of your S3 Bucket.&lt;/p&gt;
&lt;p&gt;Finally, you can click on the &lt;strong&gt;Continue to the Codepipeline&lt;/strong&gt; button.&lt;/p&gt;
&lt;p&gt;The popup will be closed, and you should see an output like this in AWS :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9f483b4f33b43d21bf1cc3d7c675d3ec/7a1fb/build-project-success.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.97297297297297%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABJ0AAASdAHeZh94AAAB20lEQVQ4y52U646cMAyFefT+6BNt36TqAzBT7reQAIEAM6c+BqarXanSNtInxyGxHdshyvMCSZIivt2QZhlCCJiXBctX4bl5RjQMA5wbYK3Vhcfj8WX2fVfCuiLqxVCSZijKCl4MTpOH94ecvP8kuWccJ5nPGgD1dd3AQaMRPzZtq9DQtu1Yt003fZLCJvMrJVd0lC+DvCqjpMKDX7niNZ7P51+D9NZ2nUKv14Z/wSjJx7GLs8gYg7woxaA58iRobvyRn3leZO5fOp1yTeU5P/RwFIUGyqqWopRaGJZ/k9AZwXpGQsnNK5E5Dzvpjmk68s9zVd1osSLnLSpbou4rNLaGGTuhPenQDS36yWBYnGBVutnC+l7h99Y1etZNFlE3NUj6GEl9P6juuJexkja/cStiZG0Cu3ToZzE+n1L1TtYNXDCoh1Idax+WlUQnRamaVqUbnFwvyPUXuWpQ5uXMH2VYXrqfvbJu61Fl0/e43SWyvEScVoizUl8NN/MZXqxnDq95CIeuxZC1nS1Hg/wwjKMacc5pT7JQ/zPYmdEolfLnE3oP1y+sOCJ0zBuxwtQ5J/rt/gvD7ae8FEb1AfsOHmaOCaPPiwKd9C7bJctzpPK3apsG5sd3mLdv+APfL4hDQL5QEAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Build project success&quot;
        title=&quot;Build project success&quot;
        src=&quot;/static/9f483b4f33b43d21bf1cc3d7c675d3ec/fcda8/build-project-success.png&quot;
        srcset=&quot;/static/9f483b4f33b43d21bf1cc3d7c675d3ec/12f09/build-project-success.png 148w,
/static/9f483b4f33b43d21bf1cc3d7c675d3ec/e4a3f/build-project-success.png 295w,
/static/9f483b4f33b43d21bf1cc3d7c675d3ec/fcda8/build-project-success.png 590w,
/static/9f483b4f33b43d21bf1cc3d7c675d3ec/efc66/build-project-success.png 885w,
/static/9f483b4f33b43d21bf1cc3d7c675d3ec/7a1fb/build-project-success.png 1030w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Click on Next, and now we will configure our deployment provider. Choose &lt;strong&gt;Amazon S3&lt;/strong&gt;, select your region and your S3 Bucket, and click on &lt;strong&gt;Extract file before deploy&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Leave the additional configuration as is, and click on Next again. You can review your configuration, and create your pipeline.&lt;/p&gt;
&lt;p&gt;Once you click on the create button, you should have been redirected to your Pipeline main page. Few seconds, after you will see a status failed in the source block in your pipeline :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/206b0cd7951601e159911b23671f730f/8c76f/error-pipeline-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 62.16216216216216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABJ0AAASdAHeZh94AAABl0lEQVQoz52RyU4CQRCG++KGxMQlxjVu4EE0KsHEmHjx4N3HMd4UDKAShRhPPoocPPoEGohRRAUHZmDA2ZiZ354eXFAEtJJvulJV+bv/GrJx6sHm2RK2ztexfDiMqb0OzO474Qo44PJ3sdMd6MYMzd0BJ8tdfgdjxt/J6tbM5G47JnbbQPp2COaCvVg7mYbvaBTeoxF4Qr2YD/Vj9XgKiweD7CJfZIz1ViLjtN9Ha0NYCA+wOS/tWzo92wQkFg8hFg8iyk6b6EWwmoc/arX57xBdBgwF9FPFCvP/EI7PIyfwSKUfcJNM4jqRQJbj8MJl8Zx9hlgSoagKZEWiyE0hfKGAoiiiUqlA07S6NOp9h/CCgNLrK3NqGAZM0/yBNWiYJloJJliWJEiUu/sUCkWxKm6LWfH4lIGqavZ661z4FVuQvlDSDGREFZmigmxRRkH6FPgq1EzUtiwr0PMvUFO30Msl9lqB1lVVrSvW0HKeF+jfUZBOPyF+eYUcl4NJdynLMnRd/7vgu2Wd7kyUFFQM46NpotZOK4JvZypBihS1Gj8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Error pipeline 1&quot;
        title=&quot;Error pipeline 1&quot;
        src=&quot;/static/206b0cd7951601e159911b23671f730f/fcda8/error-pipeline-1.png&quot;
        srcset=&quot;/static/206b0cd7951601e159911b23671f730f/12f09/error-pipeline-1.png 148w,
/static/206b0cd7951601e159911b23671f730f/e4a3f/error-pipeline-1.png 295w,
/static/206b0cd7951601e159911b23671f730f/fcda8/error-pipeline-1.png 590w,
/static/206b0cd7951601e159911b23671f730f/8c76f/error-pipeline-1.png 612w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If you click on the Details just below the &lt;strong&gt;Failed&lt;/strong&gt; text, it’s because we specified during the pipeline configuration the “master” branch, but this branch does not exist yet.&lt;/p&gt;
&lt;p&gt;Go back to your terminal, and navigate to the AWS Repo you previously cloned.&lt;/p&gt;
&lt;p&gt;Create a &lt;code class=&quot;language-text&quot;&gt;.gitignore&lt;/code&gt; file at the project root directory, and add this content :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;node_modules/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You need to update also the &lt;strong&gt;sonar-project.properties&lt;/strong&gt; file by replacing the actual content by :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sonar.host.url=http://&amp;lt;&amp;lt; your sonarqube EC2 ip address&amp;gt;&amp;gt;:9000
sonar.login=&amp;lt;&amp;lt; your sonar token &amp;gt;&amp;gt;
sonar.projectKey=my-sonar-app
sonar.projectName=my-sonar-app
sonar.projectVersion=1.0
sonar.sourceEncoding=UTF-8
sonar.sources=src
sonar.exclusions=**/node_modules/**
sonar.tests=src
sonar.test.inclusions=**/*.spec.ts
sonar.typescript.lcov.reportPaths=coverage/lcov.info&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you can see, if you run a &lt;code class=&quot;language-text&quot;&gt;git status&lt;/code&gt; command, you should see your files without node_modules directory :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5f816b0cd884bbee9e90620f11915388/61c63/git-status.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 61.48648648648649%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABJ0AAASdAHeZh94AAABB0lEQVQoz62SwW6DMBBEDQYM2F5iTEFVElXtof//h9PZAIrSY93D03rH1mjXGiNXQbwJpvsFNlm4tsNsMnrbwgeDGA1EDALP3rOXvSqBtL6DiQLTsRoDk+cZS16QieiFiiXEGHBJiRME9L0rN8w5Y902JE44LwvXDHDOwVqLYRi4coQfR4zec02PUc8kivAr5PH2xbCqKti6RiYrGUmlUK9Zm6Z5mJ+oplV1RftfUxpY8k0+yRupy9beDT/IdND8h+EXuZKNpDLT3fB+rCvEl639NLwdVad0JYY6zXpM+E4G0v3VcJom5isgMdyaLw24UBt41txp1iI1faN3mkvN55lJ7TWLp/4DwSf6p/BCVTkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;git status&quot;
        title=&quot;git status&quot;
        src=&quot;/static/5f816b0cd884bbee9e90620f11915388/fcda8/git-status.png&quot;
        srcset=&quot;/static/5f816b0cd884bbee9e90620f11915388/12f09/git-status.png 148w,
/static/5f816b0cd884bbee9e90620f11915388/e4a3f/git-status.png 295w,
/static/5f816b0cd884bbee9e90620f11915388/fcda8/git-status.png 590w,
/static/5f816b0cd884bbee9e90620f11915388/61c63/git-status.png 693w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We will run this following commands :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# creating local master branch
git checkout -b master

# adding the angular add content previously copy/pasted
git add .

# commiting our files
git commit -m &amp;quot;this is my first commit&amp;quot;

# push our branch (for the 1st time)
git push --set-upstream origin master&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you navigate to the AWS CodeCommit service again, if you check in &lt;strong&gt;Repositories &gt; Branches&lt;/strong&gt; you should see your branch :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/da6972611b7d97a2368538a39b190ea2/daed9/master-branch.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.08108108108108%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABJ0AAASdAHeZh94AAABAElEQVQY03VQu04DMRD09/MFfAolHRIlBUIUIBRzXO5sX/y27xyGXSskUKQYrWa8O+tZ8SZHfAx7yHHC12wwmwNGfYBaDthzNQu0MXDewzp3BvNf/NXF5zBgJ2WHpmEfwr/ma7hmLqZpwqw0yrqh1NpRCSnnDuYhxl6Zx5SQS8Gy0M8phVUj/P0t3N0N7OsDRIyJGhPaWoDvhnVdL4Y0XE8LKulsxIaF6gXU5y1qomTWQrCB9QHPUuNldGitdQOlVI/DfNu2Xh3xmXRP0Zgfjw0hFygbEOuGRAtEj0HikzR4fFd9aybNOX/+TT6Bo/Od+M6JZmot0C5ip+iWIcHT+w/DvcvBJhAYGQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;master branch created&quot;
        title=&quot;master branch created&quot;
        src=&quot;/static/da6972611b7d97a2368538a39b190ea2/fcda8/master-branch.png&quot;
        srcset=&quot;/static/da6972611b7d97a2368538a39b190ea2/12f09/master-branch.png 148w,
/static/da6972611b7d97a2368538a39b190ea2/e4a3f/master-branch.png 295w,
/static/da6972611b7d97a2368538a39b190ea2/fcda8/master-branch.png 590w,
/static/da6972611b7d97a2368538a39b190ea2/efc66/master-branch.png 885w,
/static/da6972611b7d97a2368538a39b190ea2/c83ae/master-branch.png 1180w,
/static/da6972611b7d97a2368538a39b190ea2/daed9/master-branch.png 1426w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Once it’s done, go back to the pipeline page, and if you click on your pipeline, you should see that it’s actually in progress.&lt;/p&gt;
&lt;p&gt;It’s normal because we configured our pipeline to be triggered when we push something on the master branch, so wait a little bit until your pipeline finish.&lt;/p&gt;
&lt;p&gt;Ok, a few minutes later your pipeline has been correctly executed with a success output :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/85d87e9214c6bc016a12881439212552/2dab4/pipeline-passed.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.05405405405405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABEElEQVQoz52TW2+DMAyF+f8/cdI2VdpaWgK5XyGc2WFU2stKG+nTebDj2D7QfV4+cBZfkErDOA/nI6wPpAExJSQiPoBzQgjQxqATakBolzOMT/AxI6TSWJblELVWlFK2goMWkNajzDMWYl0rnjnrujblwluHdoTPqb2wB185XNAYi240EiEW2pmDdQ4xJgpWzAfH3eGGhB7QfV96CDGhv94gpaRXzB19ENXyLd5vb+hO/QkXccakFAW4y0Buh6YxxsOwy1JLNuUKbWUb15LLIeVfCmY2isZh/Q/OyTnvOxypUN4WS0H+BP64+LzLA3RwZExEXerLLnMjreBkFDmc7iZ475tjPEJmfUTelP8Yvv8DS8RbhLSLUOsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;pipeline passed&quot;
        title=&quot;pipeline passed&quot;
        src=&quot;/static/85d87e9214c6bc016a12881439212552/fcda8/pipeline-passed.png&quot;
        srcset=&quot;/static/85d87e9214c6bc016a12881439212552/12f09/pipeline-passed.png 148w,
/static/85d87e9214c6bc016a12881439212552/e4a3f/pipeline-passed.png 295w,
/static/85d87e9214c6bc016a12881439212552/fcda8/pipeline-passed.png 590w,
/static/85d87e9214c6bc016a12881439212552/efc66/pipeline-passed.png 885w,
/static/85d87e9214c6bc016a12881439212552/c83ae/pipeline-passed.png 1180w,
/static/85d87e9214c6bc016a12881439212552/2dab4/pipeline-passed.png 1461w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If you go to your Sonarqube EC2 server, you should also see that the analysis has been successfully uploaded during your build :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ddf954e227dd81ba0533644e4cdebe20/82f50/sonar-pipeline-passed.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAACHElEQVQoz3WSXU4UQRSFZ6cCgRBnCD7oBnxwA+6DBUBIiDG+gIkmYmBAFOgZeqZ/6re7+m96Pm934qOVnNzKrerT55xbk1c7O+zu7XE8O2b6espsNuPo6Gis0+l03B8eHrK/v8/BwYAD9nZ3ePf2Dd+/XTGf3/D4+Mjp2SnvP35gYn2gKAuSMiG0gb7vabuW7XbL/9eWrnFotUKpFGMM3nuqMjCJ4zXL9Qsn9yfcrecEW2K0QRuNtVYgl22GNQlWJxQmx9mUwmsyZUjSnLIsCQLnHRPnHL4I0Mp/257U56RFJgpaqrqmrgpaP6fSP8hXX3lYXFCbazr/i2WqRmitiKUOXJNGPtxsNmKxZ9tvMYUjdNXgil5s9xshtj8J+SXp8hOLxTmlupTendhVZNmg3qDEVSG2J1qLNVeQezVmGSSHuqoJIQgqgfR8Qm6eRUlE5RKJ4IVSqnOWda5JxPpQUyGdDEPYdBsivaQVNcPquk7IhVjUb3tRqK/583TGKj7HxJ/JXr6I7Vt+xxkPccpqINR2rKNCpTTGeWxhqUTVEPI/BFHtTSwTfZJhRTi9kOFEFG5NtBKy1Vr6Ci/5jZYHNRIfsc1RjRoV9tJo2laekGTYN2z8LVF8QZJcELJLbHpF4+7Is5Qoinh6fiaO4/FVjFO2os77gqZuqKpqzG84LERhXQWc5KeSOTa/J1vfjPBmSZqmvAhRkiTjfuD6CymI3uSYbnnnAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;sonar pipeline passed&quot;
        title=&quot;sonar pipeline passed&quot;
        src=&quot;/static/ddf954e227dd81ba0533644e4cdebe20/fcda8/sonar-pipeline-passed.png&quot;
        srcset=&quot;/static/ddf954e227dd81ba0533644e4cdebe20/12f09/sonar-pipeline-passed.png 148w,
/static/ddf954e227dd81ba0533644e4cdebe20/e4a3f/sonar-pipeline-passed.png 295w,
/static/ddf954e227dd81ba0533644e4cdebe20/fcda8/sonar-pipeline-passed.png 590w,
/static/ddf954e227dd81ba0533644e4cdebe20/efc66/sonar-pipeline-passed.png 885w,
/static/ddf954e227dd81ba0533644e4cdebe20/c83ae/sonar-pipeline-passed.png 1180w,
/static/ddf954e227dd81ba0533644e4cdebe20/82f50/sonar-pipeline-passed.png 1635w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The latest step is to configure your S3 Bucket to host a web application, to see if our automated deployment works. For that, let’s navigate to S3, then click on your bucket. Open the second tab, Properties and click on static web hosting.&lt;/p&gt;
&lt;p&gt;Configure the static web hosting as below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fee8f2e0ca804b95bdab0481e2120d83/4d08a/s3-config.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 113.51351351351352%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAABJ0AAASdAHeZh94AAADGUlEQVQ4y41VSU8UQRSeX+XVJZiYCImJiRoXjMSbf8J48uBf8KAmgJKRTfHiwQDGIHowYZ+FYYBhoHu6q7t63z7fK2aFGbSTL+/166qv3lavc79rNqY3dXzeMbBQMvGpYCC/rilMb+ht/WMTrM+QfW6zg/ktHVNrGlb3TeReLO7j0usNXB/fwdBEATfyZTyYKePRdAm3p4okyxil9zv5Iu7lS3hM+vDEDi6/2cLVt1u4Qhh6t41rJJ9/LSH3auUIQ+MF3PpABLN7uPtlH2MLVTyZ28XDmV2SFYwRWB+d3cXT+Qru0yE36fCR90WMTBZpbxHDkwW8/FZBblt38OPAwWpN4lfdxWrdU+/LezaWqxJLTclYJH1pT+I76T8PHaw0wTrb1g4pZKQxkMUwNA3SlhBuDNuL4UepghMkSgZKjxHFZA8T9HviwEMuikI4tKDc8HBkujg0HNRJun5AGyP4QQiPdMuP4BGpFyVKJml2Do7jkodJjAPh42dVIA09SGmTpxZs21a6RVKYBqq6DY28N90IgiLIsqyN1uO6RBiGoXrhD5ZlEYhECNQMGw0/xf88LdJzhFJKmKZQMogihFGMOO5G0kaSJMqWpml7fw9hmp4SGoYB6ThqYRKfJewCEUZ0KBMPIExU3jixtiVQ1SyYfmdxP1wYcpRkOBYOjnSBE1PCDlJIRkjtErKe9IBtgg704wEhh03CeoMISXZvtlg2ibvBhNxCfQkzyhnnT9MNCKp2o0G6puP4REPF9BGnp2GmXWhFPbDKXIgsSxV5T67Ixt+6wfYgCC4qSmfhedCGPv3neZ6qdP+Qs35bsg6aEXQfzATcQj2EfAIv4L7im2LSLZHUPjrl80AE6po1nBCuGgi9nreIzxEmqkljZeCmdgg2TZ6G49OAiFVrcFthUAzNA3o8jMh15aFpwiAI8pSHgue57a1nm/psmhQhV6rlZb88ZgNuCl9VziuPLeGTM8FphDnf96nfNEXKVWtd9gunC4FH2YmMUDJC+teU8Yx+G4btIMesTMpgb1v6v2A5HoR0YRD+HJhYrwlV0L/LVNAUwIigQAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;s3 webhost config&quot;
        title=&quot;s3 webhost config&quot;
        src=&quot;/static/fee8f2e0ca804b95bdab0481e2120d83/fcda8/s3-config.png&quot;
        srcset=&quot;/static/fee8f2e0ca804b95bdab0481e2120d83/12f09/s3-config.png 148w,
/static/fee8f2e0ca804b95bdab0481e2120d83/e4a3f/s3-config.png 295w,
/static/fee8f2e0ca804b95bdab0481e2120d83/fcda8/s3-config.png 590w,
/static/fee8f2e0ca804b95bdab0481e2120d83/4d08a/s3-config.png 709w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Finally, copy/paste your S3 URL and check if your app has successfully been deployed :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0cc4bd13b5d3d93a29f88da5f8917151/29114/s3-app-deployed.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.70270270270271%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAACA0lEQVQoz21SS1PTUBTOb5SRas0CsUVXbh2VkcEBpSobxxclFCNCERdu3OCma5eOq/oaZhwxaZukeTTJzevznMSELDgzX3LveXznu/dc6fupjW+nLh49PcDt1Re4u7aV4w5h+aGC9U21wtoTFfcfv/4PFfcovrKxg1XaLz/YxsZmD9JC7wcuKb/Q6mtoH+poHWoEPV8v7pxA3tMg74/QpP/V/gg33o+xdDTGdUL73QhLBF4vHOjY+2xACuMMIk7hh/EZaO8aNn6217HS+4pbH37jZv8EH7+YQJbA9SPMwqjKnwURgiiFPiZCnGNxJCDCALFhYTIx8eevDtvzEScpzrcs/7qOAynLMlQgZxRFmDouPF8gShOEgrqLBEIIhEEAxwsRhAJpmlIN8ro0Kwht2z4jZOMkz/OoIETCBfl+Bn00pkZxHmeVZX5JmNUJi0DhYHWu6+akSZLAo7VhGPlRptMpfJ+OHdOdcVNSWyerCPkopYWkzKHiuo+JuRGjujEiYX9pHONGXCvlCkgJk/CflXQ6HVxuNrF4rQVZljHfaODifANXaD13YQ6DwaBqxkqZw7Is6LoOyTRNmuQkdxYBE8fHn6Du9rCvKnj2vIvdV1283drGm5cKuoqC4XBYTJUElLXMo2laQVgHB7lrktAb82xY9ozulCbLzyYQ1eDK3Hodq/wHDrsUEUArVpUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;s3 webapp deployed&quot;
        title=&quot;s3 webapp deployed&quot;
        src=&quot;/static/0cc4bd13b5d3d93a29f88da5f8917151/fcda8/s3-app-deployed.png&quot;
        srcset=&quot;/static/0cc4bd13b5d3d93a29f88da5f8917151/12f09/s3-app-deployed.png 148w,
/static/0cc4bd13b5d3d93a29f88da5f8917151/e4a3f/s3-app-deployed.png 295w,
/static/0cc4bd13b5d3d93a29f88da5f8917151/fcda8/s3-app-deployed.png 590w,
/static/0cc4bd13b5d3d93a29f88da5f8917151/efc66/s3-app-deployed.png 885w,
/static/0cc4bd13b5d3d93a29f88da5f8917151/c83ae/s3-app-deployed.png 1180w,
/static/0cc4bd13b5d3d93a29f88da5f8917151/29114/s3-app-deployed.png 1920w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Well, I think we are done, congrats! &lt;/p&gt;
&lt;p&gt;Let’s summarize what you accomplished during this tutorial :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You configured an EC2 Instance with the Amazon Linux AMI.&lt;/li&gt;
&lt;li&gt;You have installed and configured Java 11 on your EC2 Instance.&lt;/li&gt;
&lt;li&gt;You have installed and configured Sonarqube on your EC2 Instance.&lt;/li&gt;
&lt;li&gt;You automated deployment for an Angular project in S3 once using AWS CodeCommit, CodeBuild and CodePipeline.&lt;/li&gt;
&lt;li&gt;You integrated the sonar analysis in Codebuild.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I hope this article was helpful for you if you want to send me feedback do not hesitate to contact me in DM via Twitter or my other social links :) Thank you for your time!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Secure your Serverless App in AWS (Using Cognito, Cloudfront, API Gateway, and Lambda)]]></title><description><![CDATA[Hello guys! Today, we will learn together how we can secure exchanges between a client application hosted in a Cloudfront distribution and…]]></description><link>https://jstw.github.io/serverless-app-with-secured-api/</link><guid isPermaLink="false">https://jstw.github.io/serverless-app-with-secured-api/</guid><pubDate>Fri, 05 Jun 2020 22:12:03 GMT</pubDate><content:encoded>&lt;p&gt;Hello guys!&lt;/p&gt;
&lt;p&gt;Today, we will learn together how we can secure exchanges between a client application hosted in a Cloudfront distribution and an API Gateway in AWS.&lt;/p&gt;
&lt;p&gt;I wrote &lt;a href=&quot;../serverless-api-with-lambda-part-1&quot;&gt;an article&lt;/a&gt; last week to explain how we can build a serverless app with a simple ReactJS client that query an API Gateway (deserved by Lambda functions) to get items from a DynamoDB.&lt;/p&gt;
&lt;p&gt;Well, you will see this article is not very different from the previous one in the beginning, but this time we will go a little bit further in the configuration of our API Gateway. We will also have a look at some new services like Amazon Cognito, and Cloudfront.&lt;/p&gt;
&lt;p&gt;There is a list of pre-requisites that you must have before continuing:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;An AWS account is required (&lt;a href=&quot;https://portal.aws.amazon.com/billing/signup#/start&quot;&gt;click here&lt;/a&gt; to create one)&lt;/li&gt;
&lt;li&gt;Node Package Manager (&lt;a href=&quot;https://www.npmjs.com/get-npm&quot;&gt;npm&lt;/a&gt;) or other package managers like &lt;a href=&quot;https://classic.yarnpkg.com/en/docs/install/#windows-stable&quot;&gt;yarn&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We are now ready! Have a nice read :)&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;In general, when you want to develop an interactive client/server web application, you have to identify uniquely any users that will interact with your application.&lt;/p&gt;
&lt;p&gt;You will probably need also to make a distinction between simple users and admin users, so you will add some user roles in your application.&lt;/p&gt;
&lt;p&gt;Anyway, you will have to implement an authentication mechanism. There are so many authentication systems already existing, from the simplest to the most complex one.&lt;/p&gt;
&lt;p&gt;Today I will show you an AWS Service called Amazon Cognito, which uses an authorization framework, OAuth, commonly used as a way for Internet users to grant websites or applications access to their information.&lt;/p&gt;
&lt;p&gt;This is a quick overview of how works oAuth2 :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 555px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9939b2023b42c89c770166caf0cfe258/cd039/oauth2_flow.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAACIElEQVQoz2VS23aiQBCc//+YzbO+bOJDdFW8gNwREAbkogwoaBTBFBA9nk0dnINN13RXdZN7C8MwZFlWVVXTNLxYloVgWZZVVdm2jYiiKDhlSdJ1HckI4hOp6xp5YRhuNhvHcTzP6749yS6lktLANE1KKU7UWK/XIBJwENput7sWWZqC0LXTkOv6Eoa5YdzKMgiC2+12LUucVQsCJkuS97/vvV5PkqT9fo+ycRxHUYQbt0Hg2ban6zzPTyZjyzQHg8Fo9M/3/cPhQJCtqep0Oh0Oh8iA5vP53FW+tbg/4HmU47i3P2/vHx+iJJ1OJ4LqeZ7jDZzufGa/kr++zmAmLIEpjDF4hExy/4W68xCarxBYdv9w78a2YduMm89nc8u0DscjgcNQmLeAjPTFsNfKCFLqQtR4PIE6GH4EGf8d18V4NF33KNUMg5/NqKK4qupoWhhFLMv2WZYkCSxEJcy5KAr03IwKIdd1dU0bjUZwHt8gCXXQ8+VyycERhHi1Ou52LvVa2glxkNEUwQ/q0bkoioIgYItQbcfYPk2DMPQ9byOKVJJkUez3+4rc7Jm4Wi2XSwhslgTSUera2gNjsA+nICgovRRF9eNdA/S4XhuLxQJXdBMlWONdHKM4TjzYC3TucJz5+Rn5fsJYyhqgTpZlcBQJT0cJGsZioQ2B5/EAWMMrtrKqjq3/3fw7QDME1/XPNAm6xZLh7uSBx5j/37Df+AbPkTuUKmdtEgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;oAuth2 overview&quot;
        title=&quot;oAuth2 overview&quot;
        src=&quot;/static/9939b2023b42c89c770166caf0cfe258/cd039/oauth2_flow.png&quot;
        srcset=&quot;/static/9939b2023b42c89c770166caf0cfe258/12f09/oauth2_flow.png 148w,
/static/9939b2023b42c89c770166caf0cfe258/e4a3f/oauth2_flow.png 295w,
/static/9939b2023b42c89c770166caf0cfe258/cd039/oauth2_flow.png 555w&quot;
        sizes=&quot;(max-width: 555px) 100vw, 555px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;And this is how Amazon Cognito works :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/61fdf7797a15826f5799d8e1d4de7009/4b2cc/amazon_cognito.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABcSAAAXEgFnn9JSAAABtUlEQVQoz22S224aMRCGee88SS8q5RFaqepdLiIlqEpVNRCSsCHpOltgd8PCHr1eH/+OWUgBxZLlkT3+55vDACfLOQfXG739vv2lhdMCRrZka9oGrqugxt+tE6V3CAanYtiLHT9gp4jpzRjD829Yvr5iPo/wFs9RszvrZEUuphd0pzTbS41itYDoFHEBnICEMUjYEmx4j2Kdo6prSKV6dKvhrAoG71Qny4gNqniEMn1ClQaQhn5RusCH/tYZSYL6P6GPJNoWnZRoPI1/kCusn68QzqYIwz9omxJWdRCNOMrIOkeEB4JCtHh5CXF9z3A1ekZXp0Q1waqqUQuNDVfI4wDaKdxdj3D56QviaIGQhYiiCE3Dfbf6lL1gQ2Sbiwv8+vEbw8nMR0KWJZiFDNNpAEYNKIuckjUk/Ibm6S9M14Fzjo5Od5jyvoZllmEVLyl/izCJkaeP5MxREqE2dlcpta3/158MWd19XMO94GGpi7KELhiaco3JwyO4stsuc0kdVwJnny8xW+Q7JfSEFOyoKftZO+x6kqYYj26RELmln9YaaBpgUWWQvPCjQKVr/bBbp/l2Dv8BX+kCIdEJ2YcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Amazon cognito&quot;
        title=&quot;Amazon cognito&quot;
        src=&quot;/static/61fdf7797a15826f5799d8e1d4de7009/fcda8/amazon_cognito.png&quot;
        srcset=&quot;/static/61fdf7797a15826f5799d8e1d4de7009/12f09/amazon_cognito.png 148w,
/static/61fdf7797a15826f5799d8e1d4de7009/e4a3f/amazon_cognito.png 295w,
/static/61fdf7797a15826f5799d8e1d4de7009/fcda8/amazon_cognito.png 590w,
/static/61fdf7797a15826f5799d8e1d4de7009/efc66/amazon_cognito.png 885w,
/static/61fdf7797a15826f5799d8e1d4de7009/4b2cc/amazon_cognito.png 1013w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;OAuth 2.0 supports several different grants. Grants are ways of retrieving an Access Token. Deciding which one is suited for your case depends mostly on your Client’s type, but other parameters weigh in as well, like the level of trust for the Client, or the experience you want your users to have.&lt;/p&gt;
&lt;p&gt;This is the different OAuth flows that exist:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Resource Owner&lt;/strong&gt;: the entity that can grant access to a protected resource. Typically this is the end-user.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Client&lt;/strong&gt;: an application requesting access to a protected resource on behalf of the Resource Owner.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Resource Server&lt;/strong&gt;: the server hosting the protected resources. This is the API you want to access.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Authorization Server&lt;/strong&gt;: the server that authenticates the Resource Owner and issues Access Tokens after getting proper authorization.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;User-Agent&lt;/strong&gt;: the agent used by the Resource Owner to interact with the Client, for example, a browser or a native application.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Have a look at this &lt;a href=&quot;https://auth0.com/docs/api-auth/which-oauth-flow-to-use&quot;&gt;article&lt;/a&gt; which can help you to determine which oAuth2 flows is more appropriate to your application.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I think we can now focus on the implementation of our application. Let me present you the architecture:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/535655496a2995dbeaf1a18762326d5d/1ac29/architecture.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 73.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABJ0AAASdAHeZh94AAABy0lEQVQ4y41Ty0rDQBTNt7kVXPhY+QFuCu50q7gU1IWgCOrKDxDcCYJrbcXiylelQtM8tKVJk8xMJsd7J6atNbVeuJ3pZO65c86csUChtUbY76Pb7SKKImRZxstmLOb/DYvQwCX+5RWeVyro3tdzMF4fARzMeSxpVvy3sjSFpgXv/AIvs/Po3FTzDbQ+unm8cDwHJ+z1enBdF+1WC06ziYiojxdyKJEgDnsTqSqVmbS4QEoJqRQC0q9DOtq2bfQUQhjqHK3TCp62ZtD33qFoKUliyoRAJOI4xvrGI7a2G6QhRUr0FAGGQYggCOD7PsIw/Al4toa33SWITttoWADygbh+76CBg+NmDshgRXK3MsqSimUSTaTMDQTJYgD5NI7rwHHalA6kkL9so5hFqkuajV1KPteoXdvYWb3DY91F7s3hxphOxzL4vmd8WsZgYBsu5KheudhcruG53skB0+FmNj4DcWqtf1nph7GLD4Jo+t4nCaxLT6C/8y+w/KUYDcwvhEwmi87P8uNj6pO0kA07MiW2AiffNmdKN//w+oLbuUU0F5aRjmg4kfKosKwRJ3uQbcQ+7NNoH53A2z9EJuXfgJiiy8CHzCBVUzX8Apctis21gAL1AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;RecipeApp Architecture&quot;
        title=&quot;RecipeApp Architecture&quot;
        src=&quot;/static/535655496a2995dbeaf1a18762326d5d/fcda8/architecture.png&quot;
        srcset=&quot;/static/535655496a2995dbeaf1a18762326d5d/12f09/architecture.png 148w,
/static/535655496a2995dbeaf1a18762326d5d/e4a3f/architecture.png 295w,
/static/535655496a2995dbeaf1a18762326d5d/fcda8/architecture.png 590w,
/static/535655496a2995dbeaf1a18762326d5d/efc66/architecture.png 885w,
/static/535655496a2995dbeaf1a18762326d5d/1ac29/architecture.png 1022w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Let’s summarize this schema regarding the Client-Side operations:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Customers will sign-in through the Amazon Cognito with their credentials. They can also create an account with email registration confirmation.&lt;/li&gt;
&lt;li&gt;Once logged, Amazon Cognito will redirect to our application with an Authorization Code.&lt;/li&gt;
&lt;li&gt;We will exchange this Authorization Code with an Access Token.&lt;/li&gt;
&lt;li&gt;Once the Access Token available we will be able to query our API.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This token will be essential for the rest because we will protect all our API routes by attaching an “Authorizer” that will check all requests sent to our API if they contain a valid access token provided by Cognito.&lt;/p&gt;
&lt;p&gt;Time to code! Let’s connect to the AWS Console and let’s move on :)&lt;/p&gt;
&lt;h3&gt;First step: Creation of our Database&lt;/h3&gt;
&lt;p&gt;We will create a simple DynamoDB which will contain our secret cook recipe list.&lt;/p&gt;
&lt;p&gt;Let’s navigate to DynamoDB via &lt;code class=&quot;language-text&quot;&gt;Services &amp;gt; Database &amp;gt; DynamoDB&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Once you are here, hit the &lt;strong&gt;Create Table&lt;/strong&gt; and let’s provide a table name, &lt;strong&gt;recipes&lt;/strong&gt; for example, and fill our &lt;strong&gt;Primary Key&lt;/strong&gt; by adding :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A “name” (String) property as Partition Key.&lt;/li&gt;
&lt;li&gt;A “category” (String) property as Sort Key.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Next, we need to add an index to our table. You can configure one like below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/49d2133de2efaacffb588a764b7220b6/c23ad/dbindex.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 44.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAAByklEQVQoz1WS3VPaQBTF+fd9s9aWDyUhQQQU7ENf+tC+dGy1xQYQx0cHqyIfms8Nm2Qjp/eu2NGd+c1ukrlnztmTwoddG+8rNRTNBqxWF8env/HrzEHPGaB/fgFneIH+kPfRWwYj/f3zl6+oWC0YeweoEoUduwWmXNuHuX+I8fgatzc3GiEiiOiZ5XK5JoZc74lc4vuPU2zv2CTa1BQqJMSHotFAvX2EMBLg5XkefN/XBEEApRSyLNMkSQJJ5PSu5wz1fK3ZJUOd1w6bsFtHCMIIr9fDo6cF0zRDnueaOI61W6Uy9PrnKOl0HRiNQxRY+UXdJoc+DfPiQZU/YbrwMX8MIKRCTAiZ6xQsKqX8L8gaBjvku2OKxh697CAkhyy2WMx1bNf16Pygo6dpSpEVuZOISNT3A/yhcjgyF6ojf6zW8dy0hWq9DY8GIyrBdV2KH+q4/CyE0LAz4IkzIIlDnPQcbJZMfWW7dWp5q2Jjq2ziHWE2DmgofnOHq9UKiorg+2KHvM/CDN8uPVzexTjrD7FZtlGy2ijbbWp5XTfHrpHlq/FfTGcL3E3uMbmfYjKd0fMcc4rN8Pl4dI2N7gCfTq7wk/5bLtVa9/APEultUyOsuu0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;db index&quot;
        title=&quot;db index&quot;
        src=&quot;/static/49d2133de2efaacffb588a764b7220b6/fcda8/dbindex.png&quot;
        srcset=&quot;/static/49d2133de2efaacffb588a764b7220b6/12f09/dbindex.png 148w,
/static/49d2133de2efaacffb588a764b7220b6/e4a3f/dbindex.png 295w,
/static/49d2133de2efaacffb588a764b7220b6/fcda8/dbindex.png 590w,
/static/49d2133de2efaacffb588a764b7220b6/efc66/dbindex.png 885w,
/static/49d2133de2efaacffb588a764b7220b6/c83ae/dbindex.png 1180w,
/static/49d2133de2efaacffb588a764b7220b6/c23ad/dbindex.png 1193w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Then, for the provisioned capacity part, I will put the minimal values for this demo, but you can provide any resources that you will need, depends on your demand.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bfe9b2f7d97804dc96d2eafddbc93806/cec12/dbcapacity.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABIUlEQVQoz5VSi46EIAzk///TWx6i+EQR7Dk1EE93kz2SCVjb6fQhmsZSXddk7XkPw0DbtlFYV1oPhBD+3Bnh8gYQQ/tO4kdqqqqKpJRMqpQmYwxDKUVaa76LTRt6GUev2pE0LWljSdYdKdvT6AMJYx07gmwcR0bf95RSov+cHYDC+4+wJeqG6UiiyTnH5PM8n0FHwCegXBwBZ2CaJu4FDtR574vKEvRG0R0CRABKBQmrPAaA97IsTJqdkRDJYf+k9FEynEGOabPiizIkPu2hKL4rL4RQhLVpmpbfIIsxcU/XLXJgjPHRhodCOGGH8AF1XNJBBtLZr7wKQEr7V9MWKKFt2zKQnD337mpD8qzyqx5mAgyl6zru5dWOpLDn4b0j/AU9K16NuqDdrQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;db capacity&quot;
        title=&quot;db capacity&quot;
        src=&quot;/static/bfe9b2f7d97804dc96d2eafddbc93806/fcda8/dbcapacity.png&quot;
        srcset=&quot;/static/bfe9b2f7d97804dc96d2eafddbc93806/12f09/dbcapacity.png 148w,
/static/bfe9b2f7d97804dc96d2eafddbc93806/e4a3f/dbcapacity.png 295w,
/static/bfe9b2f7d97804dc96d2eafddbc93806/fcda8/dbcapacity.png 590w,
/static/bfe9b2f7d97804dc96d2eafddbc93806/efc66/dbcapacity.png 885w,
/static/bfe9b2f7d97804dc96d2eafddbc93806/c83ae/dbcapacity.png 1180w,
/static/bfe9b2f7d97804dc96d2eafddbc93806/cec12/dbcapacity.png 1187w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Finally, we can now create our table! It will take a few seconds to be available.&lt;/p&gt;
&lt;p&gt;Once it is, you can click on the &lt;code class=&quot;language-text&quot;&gt;Items&lt;/code&gt; tab, and provide some basic items. I provide you a sample list of them :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Pizza&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;category&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Fast Food&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;calories&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;895&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;aliments&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Chorizo, vegetables, tomatoes and cheese, a lot of cheese!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;duration&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;15&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Salad&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;category&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Bio&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;calories&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;410&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;aliments&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Salad, cucumber, tomatoes and tuna.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;duration&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;15&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Our DynamoDB is now ready. Let’s move on to the creation of our Lambda.&lt;/p&gt;
&lt;h3&gt;Second step: Lambda Function&lt;/h3&gt;
&lt;p&gt;Our Lambda function will query our database to retrieve all recipes. To create our Lambda, navigate to &lt;code class=&quot;language-text&quot;&gt;Services &amp;gt; Compute &amp;gt; Lambda&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Once its done, create on &lt;strong&gt;Create Function&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Leave the first selected option as is (Author From Scratch), and give our lambda a name: &lt;strong&gt;GetRecipes&lt;/strong&gt; and select &lt;strong&gt;Python 3.8&lt;/strong&gt; for the language Runtime.&lt;/p&gt;
&lt;p&gt;Our Lambda will need some permission to interact with DynamoDB. For that, click on the &lt;strong&gt;Create a new role from AWS policy templates&lt;/strong&gt;, search for &lt;strong&gt;Simple microservice permissions&lt;/strong&gt; in the Policy templates selector and then provide a role name: &lt;strong&gt;myDynamoDbRole&lt;/strong&gt; like below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/86e284bceb4a453d5d084387533cb5cd/4929c/dynamodbrole.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAAA2UlEQVQoz5WRi46EIAxF+f8vHRXlbUUKdys7Y5zMI7slJ5eUQsqtug0DrHPQ8wyiDa011Fo73LX13F9Rw22A1hrBB1hrkVIClyLsoFxQuOI/oUYTMBnp0AVo6xEoY92rwCcp/3LsqTQQP7PdNfPRoSdMfhUIOlDX0aWeG53wUMnpsMHlCr83+HxQT3WiURpR4zQhpvXiWX31pi88+XvscT+/qloWA2MMgjyac8YmMNfz4jfeejiLd4uPMHHtA7h28YnjJ4W5P/A6ZRcxR/FO/KPyvugTj9pr/AA/pXQ+thATewAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;dynamo db role&quot;
        title=&quot;dynamo db role&quot;
        src=&quot;/static/86e284bceb4a453d5d084387533cb5cd/fcda8/dynamodbrole.png&quot;
        srcset=&quot;/static/86e284bceb4a453d5d084387533cb5cd/12f09/dynamodbrole.png 148w,
/static/86e284bceb4a453d5d084387533cb5cd/e4a3f/dynamodbrole.png 295w,
/static/86e284bceb4a453d5d084387533cb5cd/fcda8/dynamodbrole.png 590w,
/static/86e284bceb4a453d5d084387533cb5cd/efc66/dynamodbrole.png 885w,
/static/86e284bceb4a453d5d084387533cb5cd/c83ae/dynamodbrole.png 1180w,
/static/86e284bceb4a453d5d084387533cb5cd/4929c/dynamodbrole.png 1727w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Once it’s done, create your function and provide this following code :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# Boto is the Amazon Web Services (AWS) SDK for Python&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; boto3

&lt;span class=&quot;token comment&quot;&gt;# To interact with DynamoDB, I just need to specify what resource I will use from boto3 (here: dynamodb)&lt;/span&gt;
dynamodb &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;resource&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dynamodb&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Now I specify which table in DynamoDB I want to interact with.&lt;/span&gt;
table &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; dynamodb&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Table&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;recipes&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambda_handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# Here, I will use a scan operation, to retrieve ALL my table items.&lt;/span&gt;
        response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; table&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scan&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        
        &lt;span class=&quot;token comment&quot;&gt;# Finally, I just return all the Items I found.&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Items&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;except&lt;/span&gt; Exception &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# If an exception was thrown, I just catch it to print a log, and then I raise the error.&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;An error occurred while retrieving Recipes table.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;raise&lt;/span&gt; e&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Save your function, and we will provide a test event to test our Lambda Function. Click on the &lt;code class=&quot;language-text&quot;&gt;Test&lt;/code&gt; button, and leave the default configuration as is. Just provide a name to your test event, and hit &lt;code class=&quot;language-text&quot;&gt;Create&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Once your test event has been created, you can click again the the &lt;strong&gt;Test&lt;/strong&gt; button and you should have an output like this :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e1284d9bcc7e6e8802988f02a39151cf/8d7b0/lambdatest.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.189189189189186%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAABK0lEQVQoz4WRC2+DMAyE+f9/ka5Tu1GgkIchSUl4XO2MtpsmbUif7PguBwlFeSxRvh/Qmx6KFDQZ2NG+cJZnGlfdocv0uKou+2U9hjH7ZC21uOgPHKs3XPpPnNsTKl1Dew53HZRXXL96mQkmKNibzhCT1/tMs7cwjsXBYvQDBkdcCcPe082DuCd+M+1fHCaPOE+Y5tsvjFMoQuJNlmCMhfcBMSbMaUZKCcu85H5dN/z3bOxpVYPCR4dxdCAasCwLb16fiEnCto0DJfOvXNbsaFBQMPm4IfJRlgnzmpDWmPsnfESZZZb40uefWK9RNPqCw7mE1NbUuXbU8v2Z/eJNvnz5abWqsqdmj+Ef9tBo99nAga1p2FxlwwMRhsk+EfO5OeFq26w9wr57BNHuoXFnws/p1eEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;lambda results&quot;
        title=&quot;lambda results&quot;
        src=&quot;/static/e1284d9bcc7e6e8802988f02a39151cf/fcda8/lambdatest.png&quot;
        srcset=&quot;/static/e1284d9bcc7e6e8802988f02a39151cf/12f09/lambdatest.png 148w,
/static/e1284d9bcc7e6e8802988f02a39151cf/e4a3f/lambdatest.png 295w,
/static/e1284d9bcc7e6e8802988f02a39151cf/fcda8/lambdatest.png 590w,
/static/e1284d9bcc7e6e8802988f02a39151cf/efc66/lambdatest.png 885w,
/static/e1284d9bcc7e6e8802988f02a39151cf/c83ae/lambdatest.png 1180w,
/static/e1284d9bcc7e6e8802988f02a39151cf/8d7b0/lambdatest.png 1723w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Our Lambda configuration is over, now let’s have a look at our API Gateway.&lt;/p&gt;
&lt;h3&gt;Third step: Create  the API&lt;/h3&gt;
&lt;p&gt;Let’s navigate through &lt;code class=&quot;language-text&quot;&gt;Services &amp;gt; Networking &amp;amp; Content Delivery &amp;gt; API Gateway&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Let’s first create our &lt;strong&gt;cook-recipes-api&lt;/strong&gt; (HTTP API) and integrate the lambda function like below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/05b492beffd9d9c882c2852ad26fd744/ee3fb/api-config.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 61.48648648648649%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABJ0AAASdAHeZh94AAABYElEQVQoz6VTi5KDIAzk/3/yfPV8tFatAgJqmo3aer3OTWeOmTWwQLIJUdV1TWmaUpadKIoiOp2+6SuKKS8K8t6Tc+4j4KyxlpQxhoZhEPQ9W63Fgh9HxxjFWj5sjBUec/CY72vsWebUtWkojmNRGCcJq80oYcWwUZzw3sqVVUVlWVFRlpTnBVW8hgV2blXIn7brROGqYItmnxZqPhnTNJHq2VHBkXH5rzEvyw8su51nvqsphEABDodB0/l8Ic8EImhtuIa9qJr4MDgB5kcwBzHX3lB+aaTOD4VVdZaCIkLTtpRmGd1uvah4dTYzENzaUUrVaX4cPwkHpwpK4KSur/LCGMshpT29I+bN8WNsPNJW+IzcR1AINf8Z01rDgbruJhGRMhrU+7DhOA+S1sqtcLt1/rEnNUTKGo28dbx7B/cyx9nwDIxMsVZw1LSdOEXavy6/c4rfDU44I2mXrWUg6A4KCqbURLH1DAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;api main config&quot;
        title=&quot;api main config&quot;
        src=&quot;/static/05b492beffd9d9c882c2852ad26fd744/fcda8/api-config.png&quot;
        srcset=&quot;/static/05b492beffd9d9c882c2852ad26fd744/12f09/api-config.png 148w,
/static/05b492beffd9d9c882c2852ad26fd744/e4a3f/api-config.png 295w,
/static/05b492beffd9d9c882c2852ad26fd744/fcda8/api-config.png 590w,
/static/05b492beffd9d9c882c2852ad26fd744/efc66/api-config.png 885w,
/static/05b492beffd9d9c882c2852ad26fd744/ee3fb/api-config.png 1144w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and then configure the route to get the recipes like this :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5ce44adc69144cd3a43bed51a4480cfa/077b7/api-route-config.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 42.567567567567565%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABD0lEQVQoz51Ra0/DMAzM//9psC9ssI8k7RhLK61NX2mbPo7YaUuFEAIinS7OOfY5EQ+PBxxPz3g5n/F0PKEoS5RVxfwfCDc4dH3PsG37WYz594XpHkFIKXG9vuOmNbquQ+8L/wnOwS0gQ8LkBlVVo67rTaDE/b7v3dbsa1OKrW23O0KqCGpBHF8gpQrwMfGrn0BFi355Y6ZzFcWIPLROkKQpmqbBOI4QlZ+bOrTeLrkkhLjjM3LQNBaUx/B60ILT/RqoYFGUIRgG3O8ZcmP8fuSzeZ6ZaRSdpMiynBusGjkijdw5N6wOgyN+VGu5KydPEyYPYkpkZ0uxVeM39jCmYOaCxoRPWd3snX23ftJo5A+UY7a+6Ig0KwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;api route config&quot;
        title=&quot;api route config&quot;
        src=&quot;/static/5ce44adc69144cd3a43bed51a4480cfa/fcda8/api-route-config.png&quot;
        srcset=&quot;/static/5ce44adc69144cd3a43bed51a4480cfa/12f09/api-route-config.png 148w,
/static/5ce44adc69144cd3a43bed51a4480cfa/e4a3f/api-route-config.png 295w,
/static/5ce44adc69144cd3a43bed51a4480cfa/fcda8/api-route-config.png 590w,
/static/5ce44adc69144cd3a43bed51a4480cfa/efc66/api-route-config.png 885w,
/static/5ce44adc69144cd3a43bed51a4480cfa/077b7/api-route-config.png 1166w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Now you can hit &lt;strong&gt;Next&lt;/strong&gt;, &lt;strong&gt;Next&lt;/strong&gt; again, &lt;strong&gt;Create&lt;/strong&gt; and your API will be created a few seconds after. Congrats! Our API is now created :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c7833edf53b46e2996c9039ec49b7982/d3d45/api-created.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.891891891891895%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAABJUlEQVQoz41Q20rDQBTMvyr6ICpU+iAV/KIWrT8kFKqJbW57vyTjOdtEaeKDC8PsDucys9nz2wKr7S2etnd4fLnB6pXv91hurrFYX+BhffkvcO1yc4VM1hq79z32uxyHvEIwHTrXo/cAAhJP8ZcebQ+vI7KqqXE4HiCkgA8ezrsfaKNgnT3TTrqe6T44SCWRtUKgbhqEQGsnxxiDvu9nulIaxtqZbp1D1rQtjmVJ0xVi16XBI2KMZ2+GZx50P9G01sjYXVF8Ic8LfHzmKKsqbdfkboQZYElnF8xck3jULUWW8jSwoiGCHoo2KPqHGMld+MXojpv5i5idcymV9z45Y437U+SqFalAG4uyERDaQg7gu6Ht3MjDWqpPCaiZzXBcZiFkSvMNWedUyCqJiVAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;api created&quot;
        title=&quot;api created&quot;
        src=&quot;/static/c7833edf53b46e2996c9039ec49b7982/fcda8/api-created.png&quot;
        srcset=&quot;/static/c7833edf53b46e2996c9039ec49b7982/12f09/api-created.png 148w,
/static/c7833edf53b46e2996c9039ec49b7982/e4a3f/api-created.png 295w,
/static/c7833edf53b46e2996c9039ec49b7982/fcda8/api-created.png 590w,
/static/c7833edf53b46e2996c9039ec49b7982/efc66/api-created.png 885w,
/static/c7833edf53b46e2996c9039ec49b7982/c83ae/api-created.png 1180w,
/static/c7833edf53b46e2996c9039ec49b7982/d3d45/api-created.png 1614w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;As you can see, your API has an &lt;strong&gt;Invoker URL&lt;/strong&gt;. This is the base URL of your API. So, to test our API, open your browser with this following URL: &lt;code class=&quot;language-text&quot;&gt;https://&amp;lt;&amp;lt; your api gateway invoker url &amp;gt;&amp;gt;/recipes&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;You should see all your items in your DynamoDB like below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/129da9032f77710e66360e9e065d50df/75609/recipes-api-results.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 43.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABM0lEQVQoz42SAU+DMBCF+f8/ThI33XTDqEvIsgShhdL22t7zoGxqXJZd8uXawr27Vyge16943uzxUK6w3VbY7d5R1yd0XYe+72e00hgGg8OhxtPTy0wp75flGqvVRur2qN4+UVUfKA6Nw1er0DQN2radCwMFaN3DyNqYcckGzjkQEbz3sNbOTOsQAlJMiDGiUHqAkuKuU1ATMo0jDwqEBMYUfIGRWEjyRDLP67yPMVM4Sqg1SxepaAmsAngQxogkOY0ZtrI3kl3MTfjc5m8UVgSPOsF5saJHcJTOcsbhFzHl83NeBK8xC/aexWIAyX3cE3m661H4wDj2CeSku5Z7m6xNNs1i1cd/U9wSLZwInoYEL1+WtBW7nG3SQvwRuDXZRZCkQFmGl6/q5bfA1avGXWJTfAMN2b9ly7iuSwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;api results ok&quot;
        title=&quot;api results ok&quot;
        src=&quot;/static/129da9032f77710e66360e9e065d50df/fcda8/recipes-api-results.png&quot;
        srcset=&quot;/static/129da9032f77710e66360e9e065d50df/12f09/recipes-api-results.png 148w,
/static/129da9032f77710e66360e9e065d50df/e4a3f/recipes-api-results.png 295w,
/static/129da9032f77710e66360e9e065d50df/fcda8/recipes-api-results.png 590w,
/static/129da9032f77710e66360e9e065d50df/efc66/recipes-api-results.png 885w,
/static/129da9032f77710e66360e9e065d50df/75609/recipes-api-results.png 994w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Well, we did a great job. Our API now works successfully!&lt;/p&gt;
&lt;p&gt;&lt;em&gt;But, why did you said it’s secure ?! Everyone can access to my cook recipe list with this endpoint…&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;That’s true! Now, we will handle the security part with Amazon Cognito.&lt;/p&gt;
&lt;h3&gt;Fourth step: Configure Amazon Cognito&lt;/h3&gt;
&lt;p&gt;Amazon Cognito is not present in the Services dropdown, but you can search it directly by tapping &lt;strong&gt;Cognito&lt;/strong&gt; :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/76e2143a3fa9c5dfd952977b08339886/7db30/cognito-service.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 19.594594594594593%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABJ0AAASdAHeZh94AAAAlUlEQVQY032P4Q7DIAiE+/7vWWOyTJ2irVa9AavZfo3kC3LCoZtzEUebKHWgtIFc++d8I/U/JB7xhUAJmBOb2XeEEOC9V3ImpJQQY1SIiLWMvPIPckecy3mi985+bCgmtVYVFstEstStNV02xlBkUGaMMSjHgRWT2ay1+qIV19XxdA4nb/1qlw5LnyxYmuM++aaa3fkNxLI3iP0wzK8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cognito service&quot;
        title=&quot;cognito service&quot;
        src=&quot;/static/76e2143a3fa9c5dfd952977b08339886/fcda8/cognito-service.png&quot;
        srcset=&quot;/static/76e2143a3fa9c5dfd952977b08339886/12f09/cognito-service.png 148w,
/static/76e2143a3fa9c5dfd952977b08339886/e4a3f/cognito-service.png 295w,
/static/76e2143a3fa9c5dfd952977b08339886/fcda8/cognito-service.png 590w,
/static/76e2143a3fa9c5dfd952977b08339886/efc66/cognito-service.png 885w,
/static/76e2143a3fa9c5dfd952977b08339886/c83ae/cognito-service.png 1180w,
/static/76e2143a3fa9c5dfd952977b08339886/7db30/cognito-service.png 1494w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Once you are, we will firstly handle our User Pool. Click on &lt;strong&gt;Manage User Pools&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Provide a name to your user pool, &lt;strong&gt;CookRecipePool&lt;/strong&gt; for example, click on &lt;strong&gt;Review defaults&lt;/strong&gt;, and &lt;strong&gt;Next&lt;/strong&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;There is a lot of configuration possible for User Pools, you can manage the required attributes for the Log-in part, define the “username” attributes, manage password policies, activate MFA, etc.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;On the Review’s page, we will add a Client Application by clicking on &lt;strong&gt;Add app clients…&lt;/strong&gt; Click again on &lt;strong&gt;Add app client&lt;/strong&gt;, provide a name to your App Client, &lt;strong&gt;CookRecipeApp&lt;/strong&gt; for example, leave the default configuration as is and hit &lt;strong&gt;Create App Client&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Once it’s done, click on &lt;strong&gt;Return to pool details&lt;/strong&gt; and create the user pool.&lt;/p&gt;
&lt;p&gt;Our user pool is now created, we will configure our &lt;strong&gt;App Client Settings&lt;/strong&gt; like below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1381bbcb9b0d136c4f492b73980b1a6d/f4b34/app-client-settings.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 57.432432432432435%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABSklEQVQoz41SSXKEMAz0/1+SX+SeUyqXnKZSGQ5AMAzGxnilI3m2ZJZkVNXVEpZloZZIKeGIEAJyzljXFWzOOTRNg7qu0bRt8ed5LmeccwvCLktJ7LoO47jDQnGIiS5a3DN+b49joXMsZmvRyQ6SsBsGWGuvOkDhfOCzj9PZOU9wJ3VLBfsdhnHCqDQmM0PpPSbmyZzi4l/EnONDQqR3xKAM3t43+KhatL3G16BhXCasN/i+P/sVmlgshxnKXkIpRfML5ZdyTtdIPzhdf2dhBc+MBQkxIhKYWe1IwsSUi0CMlHLZgP9QOpSyx0CC8EqwSJbYLg5LyLA+wdJ8AhV8xIShy5/bLaqqgtYGzvuiNHeptYan+K+9Y2RCynsWfIFnNxIMKe6cLwvNxbhj9vkvUs6nwr/4ssPjwSN2WczRnvBYXrYaT68SzxuFb0eqXCtv3m1PAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;app client settings&quot;
        title=&quot;app client settings&quot;
        src=&quot;/static/1381bbcb9b0d136c4f492b73980b1a6d/fcda8/app-client-settings.png&quot;
        srcset=&quot;/static/1381bbcb9b0d136c4f492b73980b1a6d/12f09/app-client-settings.png 148w,
/static/1381bbcb9b0d136c4f492b73980b1a6d/e4a3f/app-client-settings.png 295w,
/static/1381bbcb9b0d136c4f492b73980b1a6d/fcda8/app-client-settings.png 590w,
/static/1381bbcb9b0d136c4f492b73980b1a6d/efc66/app-client-settings.png 885w,
/static/1381bbcb9b0d136c4f492b73980b1a6d/c83ae/app-client-settings.png 1180w,
/static/1381bbcb9b0d136c4f492b73980b1a6d/f4b34/app-client-settings.png 1457w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;In these settings you just need to :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Check the &lt;strong&gt;Cognito User Pool&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Provide the &lt;strong&gt;Sign-in/Sign-out URLs&lt;/strong&gt; (we don’t have our Cloudfront distribution ready for now, so you can put a temporary URL)&lt;/li&gt;
&lt;li&gt;Allow the &lt;strong&gt;Authorization Code Grant&lt;/strong&gt; OAuth Flow.&lt;/li&gt;
&lt;li&gt;Allow a minimum of 1 scope (email for example).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We will update the Sign-in/Sign-out later. Now we can claim a Domain Name for our User Pool. Click on &lt;strong&gt;Domain Name&lt;/strong&gt; and choose a domain which is available like below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c49c4f80f9089bff9a58895f05f34908/da994/userpool-domain.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABjklEQVQoz5WRS3LbMBBEefdcw1fxBbLy2pZJURAlEvzjRwIk2JmBbC+SeGFUveqpKQA9aGRKa8xKYdYKipjVDOMsRFXh9XTCe3HG+VKiOBcoSqrLErJrYZ2DNiZhrE1wL8uvd7yeBU6XCidxS/WbuOP91iXeqg5l00PIAVfZo2pZB4im+4L7TD0oZJfBQKoF9ezQEKz1ZHGfDKlBNRrkrUIuFQTt5f5tZLVf3NJei6LVyOyyQDvCuoRbPZawYfHhAdVrCInF+wTv+YePfmYoQyEE6rpGKyU05bmQCbOyUi588bod8DuDb1eMkS6kUOumQT8MKdjA05CT90x4KE9J9TQrjNNMOoM/E8eBZYuQOqBWHmbdkG3bBmZdV+z73/bHAzp4kPvnXjZlPagfI01NlzJh25FpcsrzIiHbFuOs0U0K/aTRG4/RBlh6pyN3jsFRBO5TP7D0MlZPRpn1W/rlVq0wi0/O/EQm7DGx0xQJesH/oPETMdKEfIAD5yzigR8tQ5OLyePpt8Sv5yteKo0/ddwCGdKSE8UAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;userpool domain&quot;
        title=&quot;userpool domain&quot;
        src=&quot;/static/c49c4f80f9089bff9a58895f05f34908/fcda8/userpool-domain.png&quot;
        srcset=&quot;/static/c49c4f80f9089bff9a58895f05f34908/12f09/userpool-domain.png 148w,
/static/c49c4f80f9089bff9a58895f05f34908/e4a3f/userpool-domain.png 295w,
/static/c49c4f80f9089bff9a58895f05f34908/fcda8/userpool-domain.png 590w,
/static/c49c4f80f9089bff9a58895f05f34908/efc66/userpool-domain.png 885w,
/static/c49c4f80f9089bff9a58895f05f34908/c83ae/userpool-domain.png 1180w,
/static/c49c4f80f9089bff9a58895f05f34908/da994/userpool-domain.png 1487w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;You can now create your domain, and the next step is to test our User Pool.&lt;/p&gt;
&lt;p&gt;To access to the Log-in page, we should pick up the &lt;strong&gt;App Client ID&lt;/strong&gt; first. Go to the &lt;strong&gt;App Clients&lt;/strong&gt; menu on the left bar, and you should be able to see your App Client name with the App Client ID like below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7083dd367406cf217c95d10c77ec56c9/99375/app-client-id.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 34.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABJ0AAASdAHeZh94AAAA1ElEQVQoz6WRD2+EIAzF+f4fclPvzw71FBBwIPj2wNxyS5Ys25r80ldo2lKEsRZ6WSpFz1rjpWnQdB1e25YcvjufK6fLpVK0MgZuXWG9/0SUAoVJKYzThPs8Qw4DbrLHm5T0pD90P461sWL+o5h/osQixFgTVgbF8r5jx/e2P+5J8SlnpJQqmTrEDcI5h1PX4s7uhl1DCIhs8he2rRR8j5DKoVeWU/p6+B+EDxFm3WBDOp7M0X8Ld1AXknOCUNbjxukk0dZxsf7Lr/2EI722uM4LBvoP8tEenN5dpJkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;app client id&quot;
        title=&quot;app client id&quot;
        src=&quot;/static/7083dd367406cf217c95d10c77ec56c9/fcda8/app-client-id.png&quot;
        srcset=&quot;/static/7083dd367406cf217c95d10c77ec56c9/12f09/app-client-id.png 148w,
/static/7083dd367406cf217c95d10c77ec56c9/e4a3f/app-client-id.png 295w,
/static/7083dd367406cf217c95d10c77ec56c9/fcda8/app-client-id.png 590w,
/static/7083dd367406cf217c95d10c77ec56c9/efc66/app-client-id.png 885w,
/static/7083dd367406cf217c95d10c77ec56c9/c83ae/app-client-id.png 1180w,
/static/7083dd367406cf217c95d10c77ec56c9/99375/app-client-id.png 1525w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Ok so, to the URL to provide to Log-in through Amazon Cognito will be :&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;https://&amp;lt;&amp;lt; your domain name &amp;gt;&amp;gt;.auth.&amp;lt;&amp;lt; your AWS region &amp;gt;&amp;gt;.amazoncognito.com/login?response_type=code&amp;amp;client_id=&amp;lt;&amp;lt; your app client ID&amp;gt;&amp;gt;&amp;amp;redirect_uri=&amp;lt;&amp;lt; your redirect URI&amp;gt;&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Please replace the :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The domain name (your domain previously created)&lt;/li&gt;
&lt;li&gt;Client id (provide your app client ID)&lt;/li&gt;
&lt;li&gt;Redirect URI (should be &lt;a href=&quot;https://www.google.com/authenticate&quot;&gt;https://www.google.com/authenticate&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For me it will look like :&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://cook-recipes-app.auth.eu-west-2.amazoncognito.com/login?response_type=code&amp;#x26;client_id=13ft34s2dt7nn0ef0k4p512hgp&amp;#x26;redirect_uri=https://www.google.com/authenticate&quot;&gt;https://cook-recipes-app.auth.eu-west-2.amazoncognito.com/login?response_type=code&amp;#x26;client_id=13ft34s2dt7nn0ef0k4p512hgp&amp;#x26;redirect_uri=https://www.google.com/authenticate&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;You should be able to see your Log-in page :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 497px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0a3418a5842ab2d12f5b72258a0bf828/15d25/login.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 101.35135135135135%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABJ0AAASdAHeZh94AAAC1ElEQVQ4y51US2sTURjN3xGsuhD0FyiI4AvRvRv3YoUULXRhk9gmQZcidFGw7dIXtopWa0OgmOadUiTEJs08MjOZZGbymEl6vN+dZEhbocaBM999fPfc8z24vnA4jMXFRSwvL2Npaem/sLKygoWFBRCXLxAIIB6PY2dnB7lcbmxks1ns7u5ibW0NwWDQJYzFYsjn88hkMmMjnU5zMaurqyAuTlitVkGf4zjo9XqH0e+jP8Do+nDNtm1+lsg5IckUhCokSYau66jX62wsMauzeR2KoqBWq0EhDMaapkIURciyBFXVOCGpnJ2dJYVBSGxTVVVO5pJqzDbQbDa9S/Thnq5zS/6apqHRaHLCQqHgEpJCCpkcyAqCgIMDjP15hBS3LMs8f6TIMAxYlsXzRGsnYZhDIvSKQjnrtNtcpcrCME3TS/pJoIsPEVLIlUqZJ7lcrrCQRe7wr4Sk8ljItZrMbnJYgnUecpupPXTwaCuNYJTQVch+oijBanch1VhbKKxyTRMd20G7a6PVsWE7dJipIYIjsI8RBlljCxIalg1Rs9AwO9CabUiayeYm1EZrvCpzhaypZcPGnmKgoloe9jXXFiUDpZrprY2izM5orT7yQ4WR+WeIZ4u4+OQTJh6+xblH73GW4x1Os/mFxx9x9/kGLj/9jPP+D5iYfIczAx/yPfXgDS4F1pHM5BBi0frCcyH8LJRw50UMV0NfcW1uHdfnv+FW9AduhDf4+uTrFO6/2sLt6AZuhr9zkB/hSuAL7r3cQooRUvq8Puz2DmC0OrwImt5EqbyPfVHm+PW7ilJFwJ6goCQ2IKgGy7nrazDbZzmk18prbGqVo1+n3WItYaPHYHc7cOwuX2e1g/OXohSLRbcooVAIm5ub/F1LbG9jmyGZTA7eOhd8zJBKpZBJp5BmlnzIN5FI8H16D4nLF4lEMD09Db/fj6mpKW7HwfDMzMwMotEo/gALxGkmd4joRQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cognito login page&quot;
        title=&quot;cognito login page&quot;
        src=&quot;/static/0a3418a5842ab2d12f5b72258a0bf828/15d25/login.png&quot;
        srcset=&quot;/static/0a3418a5842ab2d12f5b72258a0bf828/12f09/login.png 148w,
/static/0a3418a5842ab2d12f5b72258a0bf828/e4a3f/login.png 295w,
/static/0a3418a5842ab2d12f5b72258a0bf828/15d25/login.png 497w&quot;
        sizes=&quot;(max-width: 497px) 100vw, 497px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Now we will sign up to obtain an account. Let’s provide a username, a valid email address, and a password.&lt;/p&gt;
&lt;p&gt;You should receive a verification code in your mail inbox :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7e4769cb46f0001f00ccbcfc2a298486/40040/verifcode_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.891891891891895%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAABEElEQVQoz41Si4qDQAz0/7+vB1ZF0QN71Vrfj11d5zJrFSwH18BoNiazk0RnXVcQy7JgHEfM8wylFLquwzRNR2wUn/HVTBgk1vU9+heGYYAxxvI4fNBYFEYh0tsPwjCE73vwPE9iEdL0JucAyXciiXc5p4gkJ45jm5skCbTWlsfBB7Zfav1/8hwy13VtZftBgMvlC657hef7uIpC13URSJzfmqY5Ct+xm8PZcV5suW05N5nTuhUZc07e/A3v/o5Ty03bWhVZllnFNC4mz3M8yxKLXJrXGvdS4yHvtFB4NPpMuCvglth6VVWWkMTcIFUXRXG0q2cDpQ3mxWDSm/8nIVtvRSFJSEwCgjGCv88nS/sFbc9ta/fwo40AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;verif code&quot;
        title=&quot;verif code&quot;
        src=&quot;/static/7e4769cb46f0001f00ccbcfc2a298486/fcda8/verifcode_2.png&quot;
        srcset=&quot;/static/7e4769cb46f0001f00ccbcfc2a298486/12f09/verifcode_2.png 148w,
/static/7e4769cb46f0001f00ccbcfc2a298486/e4a3f/verifcode_2.png 295w,
/static/7e4769cb46f0001f00ccbcfc2a298486/fcda8/verifcode_2.png 590w,
/static/7e4769cb46f0001f00ccbcfc2a298486/40040/verifcode_2.png 616w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Copy/paste this code and create your account :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 498px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2b37e0bff2678c7f56f3f79103f9f5dd/79e1b/verifcode_1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 84.45945945945947%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABJ0AAASdAHeZh94AAACrUlEQVQ4y6WTW08TURDH+xmMiq9+Ap9N1PjmF/H26KM8CMQE6B1NylfQhEviJRFLscgDvkHvheCWdluWbaHdtttu975/55yWgjHGICf5Zc707Pw7Z2aOb2FhAbFYDIuLi1eCaTAtXzgcxtbWFvL5PNLp9H9RKBSQTCYRCATgCwaD2NzcRC6XQyqVurQYi2HJJBIJzM/PwxcKhbC3t4dut4vT01M0m81LwWJUVUU2mz0XbDQauOqqVqtDQVZDUaygSf8kHcuo1xuQ6zJaSguyLNO+jhN+JpFf5zepVms8iWarxc/ZKpfLQ8FIJMKdGn0kilWIlQpKQomLiaIIQRAgHR1BkkbQvkbZmKYBx7FhGgYXrFDc+MqSJPEfPc/j1nFcbl3XxcCwoek2epqB/sBEt6dz33IA0wYs2xtlOBIMU4bsyuy6QukQh5StdHzMsy1XZZwofbQ6fZAuBqYH3fLIutAMh9tO34Z7MUNWQ+moBtfUMFAVaJ0mrIEKS+uiT/XSdRO2af27KZTU3BwJRiNhCJUatoUONvJ1JIsn+FZocDbyDSSyMtaJtbTE+UrEM+espWr4ISjY/1mC30+CsbdRfN/Zx+0Xn3H9yTJuPlvBjafLmCB7dyqOR/4kHszEcX9mHQ9fJ3CP7MTzVfpuFbfIXnu8hDuTcWzvFhEJ0Ut5E40gs3+I2Y9FTL7fxfRKbsz8pyJn9kMefrYnO0dML2cwRbxaSuPlux1EvhwgUzxAMOAfdrlOI3K2WO10tQ1b70HrtmFqKhyjT/Vts/5T1y3ohG07v9WQjRuvIROUR4KO60Fpt4kOOl2VBlfhltFS2jQiDlo9A43OAEqPmuV4POaPOWTPhi3DYMPqjGFzeNG3LIsPs0s4ts19YzTY7AGMX0o0Gh3D/L8xPD/nYtxZ7C/G9Yi4x4PozgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;verif code&quot;
        title=&quot;verif code&quot;
        src=&quot;/static/2b37e0bff2678c7f56f3f79103f9f5dd/79e1b/verifcode_1.png&quot;
        srcset=&quot;/static/2b37e0bff2678c7f56f3f79103f9f5dd/12f09/verifcode_1.png 148w,
/static/2b37e0bff2678c7f56f3f79103f9f5dd/e4a3f/verifcode_1.png 295w,
/static/2b37e0bff2678c7f56f3f79103f9f5dd/79e1b/verifcode_1.png 498w&quot;
        sizes=&quot;(max-width: 498px) 100vw, 498px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Once it is done, you will be redirected to the &lt;strong&gt;Callback URL&lt;/strong&gt; you provided when we configured our App Client Settings. Normally, you have been redirected to the 404 google page, but the most interesting part is the URL :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6e166c3151fce0519804b60b2977e1a8/a016c/authcodegoogle.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 6.081081081081082%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABJ0AAASdAHeZh94AAAATklEQVQI1w2JOw6AIBTAvIEhOrr7gYcY0CBKoon3v1J9Q4e2TakPKV/U9yPumZgy5dZ2nIjfcBKwyuJEvcevhtka7R3WKWLwwehrGaeBH+72Hoqct8j7AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;google redirect auth code&quot;
        title=&quot;google redirect auth code&quot;
        src=&quot;/static/6e166c3151fce0519804b60b2977e1a8/fcda8/authcodegoogle.png&quot;
        srcset=&quot;/static/6e166c3151fce0519804b60b2977e1a8/12f09/authcodegoogle.png 148w,
/static/6e166c3151fce0519804b60b2977e1a8/e4a3f/authcodegoogle.png 295w,
/static/6e166c3151fce0519804b60b2977e1a8/fcda8/authcodegoogle.png 590w,
/static/6e166c3151fce0519804b60b2977e1a8/a016c/authcodegoogle.png 762w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;As you can see, we get an &lt;strong&gt;Authorization Code&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;This code can be exchanged with an access token. But to get an access token, we need to implement a new API Gateway route to query our Cognito User Pool.&lt;/p&gt;
&lt;p&gt;Before creating our route, we will create a new Lambda Function that will handle this token exchange. Let’s navigate to &lt;code class=&quot;language-text&quot;&gt;Services &amp;gt; Compute &amp;gt; Lambda&lt;/code&gt; again.&lt;/p&gt;
&lt;p&gt;Once you are here, do the same thing we did for the creation of our GetRecipes lambda :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create a lambda function&lt;/li&gt;
&lt;li&gt;Leave “Author from scratch” default option selected&lt;/li&gt;
&lt;li&gt;Provide a name (CognitoTokenExchange)&lt;/li&gt;
&lt;li&gt;For the execution role, leave the first option selected (Create a new role with basic Lambda permissions)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Once your lambda is created, I provided you a ZIP file that contains our Lambda Function but also the dependencies needed to make an HTTP request. &lt;a href=&quot;/15e423a003ff7320462f788fb274f397/cook-recipe-authenticate.zip&quot;&gt;Click here&lt;/a&gt; to download the zip file.&lt;/p&gt;
&lt;p&gt;Then, click on the &lt;strong&gt;Edit code inline&lt;/strong&gt; like below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/56c35d3810aa0146e08fd5d3ce069ba5/016a8/update_zip_lambda.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 34.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABJ0AAASdAHeZh94AAABE0lEQVQoz31R2W7EIAzk//+vqnY3qVRpk2a34QhnyDW1SXloVRVp5AEbexjErWnwernicr2haVo07RuU1rDOYbK2gLmZJkilKGfwOY7QhvZSYaIc50OMVOsg+IKUEi5E7MeBfd+wLAtyzgW/ecVfe4bg7jx1WVdqdmDdNoo7eHGB977wg4YdZeCZ46gnizjPmAkr3ecl7s8RL+07BuOg0wIZMpTzpYiH8bMCqY/xRAgBKaXCtTEnSJCl5/KZkErjY3gSHhjZG5ra9QP6riPfuNDCUWMGXzqjLWD1FfVcMGG5xQNSZcjsjlTfh75w5x3SnIri6lPOJ+ez+Tv+8LB6wOApkRoYb+jXPHF6ZgrF+FrzH74AHEgcM3X6A8MAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;upload lambda zip code&quot;
        title=&quot;upload lambda zip code&quot;
        src=&quot;/static/56c35d3810aa0146e08fd5d3ce069ba5/fcda8/update_zip_lambda.png&quot;
        srcset=&quot;/static/56c35d3810aa0146e08fd5d3ce069ba5/12f09/update_zip_lambda.png 148w,
/static/56c35d3810aa0146e08fd5d3ce069ba5/e4a3f/update_zip_lambda.png 295w,
/static/56c35d3810aa0146e08fd5d3ce069ba5/fcda8/update_zip_lambda.png 590w,
/static/56c35d3810aa0146e08fd5d3ce069ba5/efc66/update_zip_lambda.png 885w,
/static/56c35d3810aa0146e08fd5d3ce069ba5/c83ae/update_zip_lambda.png 1180w,
/static/56c35d3810aa0146e08fd5d3ce069ba5/016a8/update_zip_lambda.png 1576w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;And upload the ZIP file previously downloaded and save your lambda.&lt;/p&gt;
&lt;p&gt;Now you should update a little bit the lambda by replacing this portion of lambda :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; json
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; requests
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; urllib3

token_url &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://&amp;lt;&amp;lt; your domain name &gt;&gt;.auth.&amp;lt;&amp;lt; your AWS region &gt;&gt;.amazoncognito.com/oauth2/token&quot;&lt;/span&gt;
callback_uri &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://www.google.com/authenticate&quot;&lt;/span&gt;
client_id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;&amp;lt; your app client id &gt;&gt;&apos;&lt;/span&gt;
client_secret &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;&amp;lt; your app client secret &gt;&gt;&apos;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambda_handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    authorization_code &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;pathParameters&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;code&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;grant_type&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;authorization_code&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;code&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; authorization_code&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;redirect_uri&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; callback_uri&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    access_token_response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; requests&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;post&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;token_url&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; verify&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; allow_redirects&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; auth&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;client_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; client_secret&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; json&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;loads&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;access_token_response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;with your &lt;strong&gt;Domain Name&lt;/strong&gt; (like we did above), your &lt;strong&gt;App Client ID&lt;/strong&gt;, and your &lt;strong&gt;App Client Secret&lt;/strong&gt;. You can find this following information in the Amazon Cognito service, in the &lt;code class=&quot;language-text&quot;&gt;General settings &amp;gt; App clients&lt;/code&gt; menu in your &lt;strong&gt;CookRecipePool&lt;/strong&gt; :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5498e7859b08c4f6a8822c5476344c5a/d7ba6/appclients.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 40.54054054054054%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAABLUlEQVQoz4WS6W6DQAyEef+Ha3/TpjlEICzXHuwCy5GpbYkkqqo20idbXmkYj5P0IeCSZSirCs57hHEUWq1xU0rmZV1TXz16RXCvZK6ePdWEBa9Fgc4Y2L6HHwZhilEYpwmRaowz4vw/Cbs6fB2Qfn7geDo9RJd1hae3um6k8u9+v2PdNmx/QA4HWqOFdh6NcTB9gKeVZ/panuc4Xy4wtL4mWJjn7JjrbyTOtjimb+jUGZO7YXClOJyXBRXlk3G+ZQlDkXiKZ6H5zi7+ShK8xil9R1seMdgCwT4FawqaBSsK2xiLruukZ/iNXU+U8SuJtg7nLJd1wzTTulEEOeCmaaBEQMn6ii4dyCXjfcBI0bw6ZkjQIrte5dKt7uQvswuyI85tZ6A3PszOxvw4yjeHM2YzXZAeBQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;app clients&quot;
        title=&quot;app clients&quot;
        src=&quot;/static/5498e7859b08c4f6a8822c5476344c5a/fcda8/appclients.png&quot;
        srcset=&quot;/static/5498e7859b08c4f6a8822c5476344c5a/12f09/appclients.png 148w,
/static/5498e7859b08c4f6a8822c5476344c5a/e4a3f/appclients.png 295w,
/static/5498e7859b08c4f6a8822c5476344c5a/fcda8/appclients.png 590w,
/static/5498e7859b08c4f6a8822c5476344c5a/efc66/appclients.png 885w,
/static/5498e7859b08c4f6a8822c5476344c5a/d7ba6/appclients.png 1107w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Once you have updated the Lambda function, you can save it. So now we will test our Lambda Function. Go back to your Log-in URL :&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;https://&amp;lt;&amp;lt; your domain name &amp;gt;&amp;gt;.auth.&amp;lt;&amp;lt; your AWS region &amp;gt;&amp;gt;.amazoncognito.com/login?response_type=code&amp;amp;client_id=&amp;lt;&amp;lt; your app client ID&amp;gt;&amp;gt;&amp;amp;redirect_uri=&amp;lt;&amp;lt; your redirect URI&amp;gt;&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Now you have 2 possibilities:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Sign in as &lt;strong&gt;your username&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Re-login with the credentials you provided during the subscription.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 517px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a954d69ec781407515c4e510ac96d4b0/fa2f5/signin_as.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.05405405405405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABvklEQVQoz6WTTWsTURSG8w/cK4rd+wtciktx4z9w5+dWXAliJskk08SFu0AWWWhrzEymtkI0NUHa0tiNzmQccJLUxAREBM3HNB+Lx3tnal1IC60XXt5zDu95OZx7bySTyZBOp0mlUieCpmkHLL0iMslms1SrVSqVyokge03TDIwjqqqSy+VwXRfLsrBt+1iQPbK3VquRSCRCw3w+T7f7Fa/ZpNlqHwtes0Wn06Ver4eG8XgcXdf539Pv9ULDWCzOqlli3fnOw8IHkisNVLNBomSTWfvE4qqD9tIJ6jKXsWra+2gQMyyevPb46HpoSZVIVIlRXlvh/pLFqetLnL9jcO62zpmbRS4+KHMt/Y7LyjqXHr3hqlrlSvItC3cNzt7SA93pGy+4cO8VtR2Hx4upcEKzZOD0hzzfamPudDDed0S8y7LIJcv6040WzzbaLG+GtWL9CyWhLW7vUra/4X5ukZQTHrbDwXjK0J/hT+ZMpnN+DPb4OZqyJ/Jfgv/ZYb/391IKhQKzuRAOhgxHI4Ex43EI3/cF+wEH8T6PhEZqB6JnMp3heV5oKH+JfDqKohCNRgP+Ex8N5UArIQeTv+U3ZH/AbwZedGwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;signin as&quot;
        title=&quot;signin as&quot;
        src=&quot;/static/a954d69ec781407515c4e510ac96d4b0/fa2f5/signin_as.png&quot;
        srcset=&quot;/static/a954d69ec781407515c4e510ac96d4b0/12f09/signin_as.png 148w,
/static/a954d69ec781407515c4e510ac96d4b0/e4a3f/signin_as.png 295w,
/static/a954d69ec781407515c4e510ac96d4b0/fa2f5/signin_as.png 517w&quot;
        sizes=&quot;(max-width: 517px) 100vw, 517px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Please log-in with your credentials, and pick up the &lt;strong&gt;authorization code&lt;/strong&gt; from the redirected URL :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f8738ffa60569df8a2f1d09170fef37f/cc488/redirected_code.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.02702702702703%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABSklEQVQoz62Qy07CUBCG+wJGY9yZGKOC3KwV0YUvZwggUAoF0Vdyy8K48bJyR2uDLS1G2n4eCijBS8R4ki//ZOacf+aMJGePyCk5Tg5ypBUFWT5mN6mwnd4lnVwmFVtiK75KLLEiWEOR18kebhBP7JFIZchkUiJOIu9n2NxJINUaTaqFEu1ylYqmoWmXFM9U8moDtVKmki9xWtDIF1UKJZVGrcV5W0etN6nrOq1WnZpWo32hU6yoSPzzkYIgIPD9CH8UC3w/GMfT/BxRfnJ3llFNCsOQ74APnT9RPuTTmx+/PDULhBjPPqFn470McPvOuP7ecObLvzEcCuncDxneXdG5feDx5npUFI3Cv0xItJ+B5/AqduQO/C8WsNCEY8Nu18A0Tawnk16vh+M42LZNv9+f4Ea6gGEXwzAwhOlILcsSu3TxPA9X4E14A3jFyNwqG9WpAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;redirected code&quot;
        title=&quot;redirected code&quot;
        src=&quot;/static/f8738ffa60569df8a2f1d09170fef37f/fcda8/redirected_code.png&quot;
        srcset=&quot;/static/f8738ffa60569df8a2f1d09170fef37f/12f09/redirected_code.png 148w,
/static/f8738ffa60569df8a2f1d09170fef37f/e4a3f/redirected_code.png 295w,
/static/f8738ffa60569df8a2f1d09170fef37f/fcda8/redirected_code.png 590w,
/static/f8738ffa60569df8a2f1d09170fef37f/efc66/redirected_code.png 885w,
/static/f8738ffa60569df8a2f1d09170fef37f/cc488/redirected_code.png 928w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;For example, my authorization code is: &lt;code class=&quot;language-text&quot;&gt;53c7105e-09b3-4a93-9062-0cdc74d30bd2&lt;/code&gt; (yours will be different).&lt;/p&gt;
&lt;p&gt;Go back to your Lambda Function and add a &lt;strong&gt;Test Event&lt;/strong&gt;. Click on Test button, and add this following JSON:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;pathParameters&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;&quot;code&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&amp;lt;&amp;lt; put your authorization code here&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;like below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/69c6b81a6feeedd6011aa24ef1790843/dd104/testcode.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 24.324324324324326%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABJ0AAASdAHeZh94AAAAq0lEQVQY05WPyQ6DMBBD+f9PrKoeECrNAllIyUZwhzQHpPbC4cmOkrEz3YsxSClRSkHZ969eoc3knGGXBd2sFHwI2OliuxrWSBQWYsTiHDrGOYy1NfD38f6Xo/hM/eG2YTYUyIWA0garD9SSEKnpaIspwkdPPtAGTel8kHOqK55JKUNqCrzdHxiYRT9qPLnBKAyexDgpDGKq9Ew0LzFwWQdn88akiaZuDeQdPkV9hVvQ1pDSAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;test event authorization code&quot;
        title=&quot;test event authorization code&quot;
        src=&quot;/static/69c6b81a6feeedd6011aa24ef1790843/fcda8/testcode.png&quot;
        srcset=&quot;/static/69c6b81a6feeedd6011aa24ef1790843/12f09/testcode.png 148w,
/static/69c6b81a6feeedd6011aa24ef1790843/e4a3f/testcode.png 295w,
/static/69c6b81a6feeedd6011aa24ef1790843/fcda8/testcode.png 590w,
/static/69c6b81a6feeedd6011aa24ef1790843/efc66/testcode.png 885w,
/static/69c6b81a6feeedd6011aa24ef1790843/dd104/testcode.png 1064w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Save your Test Event, and hit the Test button again. Congrats! You should have a response with all your tokens :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/96a9e2a46e8a4d67ebe60a50e150af7a/00b3d/gettoken.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 42.567567567567565%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABc0lEQVQozz2R15acMBBE+f8vtL3rwIByFmFmn8qlhtmHezqoEK3qSbsE7SKs89DaIqaMvu3offumtY5KYszQxsJYB2s9jHFw/M65wNxKnH7++YHPfx/4PX/i198PuOzRjoqyZ6HuBbknhBqExDwySq945C2hn03qehRMi5+h4gpXDUwx8FtAPRPK4FmuSOpNexX0r0ruyPrdy2fElCqfbDRijnxulBgSpxl5raw5SeRkjOOs9YZt7+g327EJ+7EjNj7ZR495fmBdNVE3q8TRX5YVSmmimC+3VkENtKHvBgv1jp4OK6ZcM0WLLMTT1CGw9jL7bXoIgR84ORvmp0gbSpVltdqYF7yeL2xnx2QC/+4UcktCLHwuF+PJiFKTVKMQB6x9cnL+1o5e6pxwcTMexFcrOC4m7QHbV6PhlZGTcDmrf8BmjdA4NXX1mS+NLOjSjd6kwiqiciQh75HbzHLJYFw6+g87I3Z/a7jts3xrRPe8LvwPEmSmLO7pWEMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;test event success&quot;
        title=&quot;test event success&quot;
        src=&quot;/static/96a9e2a46e8a4d67ebe60a50e150af7a/fcda8/gettoken.png&quot;
        srcset=&quot;/static/96a9e2a46e8a4d67ebe60a50e150af7a/12f09/gettoken.png 148w,
/static/96a9e2a46e8a4d67ebe60a50e150af7a/e4a3f/gettoken.png 295w,
/static/96a9e2a46e8a4d67ebe60a50e150af7a/fcda8/gettoken.png 590w,
/static/96a9e2a46e8a4d67ebe60a50e150af7a/efc66/gettoken.png 885w,
/static/96a9e2a46e8a4d67ebe60a50e150af7a/c83ae/gettoken.png 1180w,
/static/96a9e2a46e8a4d67ebe60a50e150af7a/00b3d/gettoken.png 1745w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The next step is to configure our route to invoke our lambda. Let’s navigate to &lt;code class=&quot;language-text&quot;&gt;Services &amp;gt; Networking &amp;amp; Content Delivery &amp;gt; API Gateway&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Select our API, &lt;strong&gt;cook-recipes-api&lt;/strong&gt;, and add a new route :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e60da3a11e0942b695ef69083bf623d1/df438/tokenroute.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABJ0AAASdAHeZh94AAAAjUlEQVQY042PWQrDMAxEff8z9RD96AEKcYr9k8WrvJSprTiQ/kXwGGvQyEhMUkLOH0xyxm4MrHMw1rLeos8Oek4sywqlFLTWSCmhlMKknJnctfl5vPPFS39eAsUA4UNAjARqA5Fo/OZAdPTdZ+jC8PrCWr84qzbEbo7znPes67Yxvb9Fy2y2Zd9PmNcDP2caNRyWZX6oAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;token route&quot;
        title=&quot;token route&quot;
        src=&quot;/static/e60da3a11e0942b695ef69083bf623d1/fcda8/tokenroute.png&quot;
        srcset=&quot;/static/e60da3a11e0942b695ef69083bf623d1/12f09/tokenroute.png 148w,
/static/e60da3a11e0942b695ef69083bf623d1/e4a3f/tokenroute.png 295w,
/static/e60da3a11e0942b695ef69083bf623d1/fcda8/tokenroute.png 590w,
/static/e60da3a11e0942b695ef69083bf623d1/efc66/tokenroute.png 885w,
/static/e60da3a11e0942b695ef69083bf623d1/c83ae/tokenroute.png 1180w,
/static/e60da3a11e0942b695ef69083bf623d1/df438/tokenroute.png 1556w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Once your route is created and attach our lambda function by clicking &lt;strong&gt;Attach integration&lt;/strong&gt; :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0298796a2019fa0dcb0292d468260663/5e4a4/attachintegration.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 34.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABJ0AAASdAHeZh94AAAA9UlEQVQoz4WR226EMAxE8/9f2S1tYSGFkDuXMLWdRaK8rKWRUZQZnxj12TRovr7hQxA572GdE/G3j/Vstvat2KParsPH4wHuP22HZ99jnCa5oLUGDxwGjRCjKF76XexTzhERmZnCvahiSmKa51lCOTznjLLvVaVI3y/atg2JfCqEKE89jgMHUDtppQscboz5R+FfK2EPD2EtyyIeLsWpMWXcq5S97pPpXaWvgUGGcD/pmPgEUcZHtHqCTSvSdiCuBZG6XzYJMfTsRBQ8mGlOShaT3Us5CrJ5F8VLoMur0E2Twe841h81Wxpg0Q8DNJ3xrjOFXvUHpfod59HO7zwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;attach integration&quot;
        title=&quot;attach integration&quot;
        src=&quot;/static/0298796a2019fa0dcb0292d468260663/fcda8/attachintegration.png&quot;
        srcset=&quot;/static/0298796a2019fa0dcb0292d468260663/12f09/attachintegration.png 148w,
/static/0298796a2019fa0dcb0292d468260663/e4a3f/attachintegration.png 295w,
/static/0298796a2019fa0dcb0292d468260663/fcda8/attachintegration.png 590w,
/static/0298796a2019fa0dcb0292d468260663/efc66/attachintegration.png 885w,
/static/0298796a2019fa0dcb0292d468260663/c83ae/attachintegration.png 1180w,
/static/0298796a2019fa0dcb0292d468260663/5e4a4/attachintegration.png 1403w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Click on &lt;strong&gt;Create and Attach integration&lt;/strong&gt; and find your Lambda function (RecipeCookAuthenticate) to attach to your route :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3b16b85e0af371d2f9c7b2d433b82bdd/ae21e/createintegration.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 47.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABK0lEQVQoz4WS6W6DMBCE/f5P2R9NGsLlGx/AdNaEKJUSFeljrfV6j7GVdQ7TNGEYRsxaw1qLlBLWdUWt9SOllGYl7hUVYoQgiXPOqHRmBv/HsiwobwqpeZ5xuVzQdR0iE6e0MDi2Aw12e67jC83/Zk/pmPA9eVxHgykW6FRhyw5Xd6Rc4Nj5Md6Kfd8b67bBe9+mOrvc6BOUCRG9DeiNx+ACRhehY4YhUtH5AB9CkyVREkE6E59j0hAOyUR3QWlexM/1B7fbDYEBtZamZSFim2aPROchIZ/7D54JpZLWhiOEv7f3QMZ4fhyXv8O+g3tKdOj74eiqHAkH4/B1H9DRTtRYpwKTK3Vd4cpnLFGik7w96XRrVQBHXa7dHaN0vvAmWSiRLE/qA4UsLPgLE0K9WxVyQs4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;create integration&quot;
        title=&quot;create integration&quot;
        src=&quot;/static/3b16b85e0af371d2f9c7b2d433b82bdd/fcda8/createintegration.png&quot;
        srcset=&quot;/static/3b16b85e0af371d2f9c7b2d433b82bdd/12f09/createintegration.png 148w,
/static/3b16b85e0af371d2f9c7b2d433b82bdd/e4a3f/createintegration.png 295w,
/static/3b16b85e0af371d2f9c7b2d433b82bdd/fcda8/createintegration.png 590w,
/static/3b16b85e0af371d2f9c7b2d433b82bdd/efc66/createintegration.png 885w,
/static/3b16b85e0af371d2f9c7b2d433b82bdd/c83ae/createintegration.png 1180w,
/static/3b16b85e0af371d2f9c7b2d433b82bdd/ae21e/createintegration.png 1537w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We will test now if our API Gateway integration works. Open a new browser tab with your Cognito log-in page :&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;https://&amp;lt;&amp;lt; your domain name &amp;gt;&amp;gt;.auth.&amp;lt;&amp;lt; your AWS region &amp;gt;&amp;gt;.amazoncognito.com/login?response_type=code&amp;amp;client_id=&amp;lt;&amp;lt; your app client ID&amp;gt;&amp;gt;&amp;amp;redirect_uri=&amp;lt;&amp;lt; your redirect URI&amp;gt;&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;And sign-in one more time. Pick-up the code, but now open a new browser tab with your API Gateway URL.&lt;/p&gt;
&lt;p&gt;The URL should look like:
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;&amp;lt; your api gateway base url &amp;gt;&amp;gt;/token/&amp;lt;&amp;lt; your authorization code &amp;gt;&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Finally, our API endpoint to retrieve our access token works successfully:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bb0c80f806a1bf5c8cf8ab46d2af80f5/8963a/apitoken.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 17.567567567567565%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABJ0AAASdAHeZh94AAAAsklEQVQY01XLyw6CMBAFUP7/a9SYaFz7BRgTI4g7QxwLpS2PPvBaaElwcXLvtDMJMYZaKpyfAqdM4HirsU3f2F1oto+5SQmH6wfUKFRCgXnEBV7EwIVExTlKIiRdKaGpA/gANDqQBlAmZGtDnwgDxwbYSsNxz+fIzdxH37+1QWILCZNLDLlAf1806Kc5i3Ps0472zMPfFP90Fv4S2/QYe4exs5GL7Cpt3PHa9Y4L7ws//wAflDCS/tWw9AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;api get token&quot;
        title=&quot;api get token&quot;
        src=&quot;/static/bb0c80f806a1bf5c8cf8ab46d2af80f5/fcda8/apitoken.png&quot;
        srcset=&quot;/static/bb0c80f806a1bf5c8cf8ab46d2af80f5/12f09/apitoken.png 148w,
/static/bb0c80f806a1bf5c8cf8ab46d2af80f5/e4a3f/apitoken.png 295w,
/static/bb0c80f806a1bf5c8cf8ab46d2af80f5/fcda8/apitoken.png 590w,
/static/bb0c80f806a1bf5c8cf8ab46d2af80f5/efc66/apitoken.png 885w,
/static/bb0c80f806a1bf5c8cf8ab46d2af80f5/c83ae/apitoken.png 1180w,
/static/bb0c80f806a1bf5c8cf8ab46d2af80f5/8963a/apitoken.png 1918w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The next step will be to configure our Client-Side App.&lt;/p&gt;
&lt;h3&gt;Fifth step: Configure the ReactJS app with S3/Cloudfront&lt;/h3&gt;
&lt;p&gt;I just created a sample ReactJS application which is available in my &lt;a href=&quot;https://github.com/JStw&quot;&gt;Github&lt;/a&gt;. To get the app, you can git clone my project :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;batch&quot;&gt;&lt;pre class=&quot;language-batch&quot;&gt;&lt;code class=&quot;language-batch&quot;&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;git&lt;/span&gt; clone git@github.com:JStw/recipe-app.git&lt;/span&gt;

&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;or&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;git&lt;/span&gt; clone https://github.com/JStw/recipe-app.git&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;One the application has been cloned, go to the &lt;strong&gt;recipe-app&lt;/strong&gt; folder and run a &lt;code class=&quot;language-text&quot;&gt;npm install&lt;/code&gt;. When your &lt;strong&gt;node_modules&lt;/strong&gt; will be installed, you can open the &lt;code class=&quot;language-text&quot;&gt;App.js&lt;/code&gt; file and edit this following lines :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;API_BASE_URL&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;&amp;lt; put your api base url here &gt;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;COGNITO_BASE_URL&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;&amp;lt; put the cognito base url here &gt;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;APP_REDIRECT_URI&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;&amp;lt; put your cloudfront url here &gt;&gt;/authenticate&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;APP_CLIENT_ID&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;&amp;lt; put your amazon app client id here &gt;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;API&lt;em&gt;BASE&lt;/em&gt;URL&lt;/strong&gt; is your API Gateway Invoke URL.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;COGNITO&lt;em&gt;BASE&lt;/em&gt;URL&lt;/strong&gt; is your Amazon Cognito domain name (available in your User Pool &gt; Domain Name)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;APP&lt;em&gt;REDIRECT&lt;/em&gt;URI&lt;/strong&gt; is the URL we configured in our User Pool (The Callback URL)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;APP&lt;em&gt;CLIENT&lt;/em&gt;ID&lt;/strong&gt; is the identifier also present in your User Pool &gt; App Client Settings.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For example, for me the updates will be :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;API_BASE_URL&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;  https://eq0umxfk86.execute-api.eu-west-2.amazonaws.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;COGNITO_BASE_URL&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;https://cook-recipes-app.auth.eu-west-2.amazoncognito.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;APP_REDIRECT_URI&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;https://www.google.com/authenticate&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;APP_CLIENT_ID&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;13ft34s2dt7nn0ef0k4p512hgp&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once these 4 variables have been updated, save the &lt;code class=&quot;language-text&quot;&gt;App.js&lt;/code&gt; file, and run an &lt;code class=&quot;language-text&quot;&gt;npm build&lt;/code&gt;. When this command has finished, you should see a &lt;code class=&quot;language-text&quot;&gt;build&lt;/code&gt; folder.&lt;/p&gt;
&lt;p&gt;Now we will create an S3 bucket to host our application. Let’s navigate to &lt;code class=&quot;language-text&quot;&gt;Services &amp;gt; Storage &amp;gt; S3&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Once you are here, create a bucket (bucket name should be unique across the world), so for me, I’ll choose &lt;code class=&quot;language-text&quot;&gt;cook-recipe-app&lt;/code&gt; but you can provide another name.&lt;/p&gt;
&lt;p&gt;Leave the default configuration as is, and hit the &lt;code class=&quot;language-text&quot;&gt;Create&lt;/code&gt; button. Then, you have to upload all our &lt;code class=&quot;language-text&quot;&gt;build&lt;/code&gt; folder content in your S3 bucket. Do not forget to upload also the &lt;code class=&quot;language-text&quot;&gt;static&lt;/code&gt; folder with the &lt;strong&gt;js&lt;/strong&gt; and &lt;strong&gt;css&lt;/strong&gt; folder.&lt;/p&gt;
&lt;p&gt;Your bucket should look like below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d0c0a8d2e7da0e6ac7e0f502c86e7a4f/3f919/s3-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 42.567567567567565%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABR0lEQVQoz4WQX0vDMBTF8/2/hgz37vag20CfHHN7UcsmiIiIo6xb2zRJ0zbt8d5sLVVRAz/un3BPTq54/9hicR9g8bDGKthgGTxh+djGte+vX16h8xzKmH8RpVG4vr3D+egKg9EEg/GU8gmGlzcYjic4G88wm6+QW+tFGfMD2+Ui2EpsohyhdvjrNE2Dpq6PtDlHwjnnqaknps8xLjZ7zN8SWHKRGossL1CUJWxLcawrV6GqKpRERQIcub8/HBAnia+F1ZLerwBX+m/ZwvrYR2YZpFJ+mOuMco5KaySp7NbgBfeHmAYUFc7br0/f6FOQQ8NL18r/oiThts90KyFEFEXIyEG/+R0pJXa7HcIw9Lkih9znyPUXwYT+npNd76636D58z4Npmnqn7JL7HPmOTzsr4jjuXvwNTbtiMX6cBc3JAItx3Rf8BP1os+IXdeIqAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;s3 - 1&quot;
        title=&quot;s3 - 1&quot;
        src=&quot;/static/d0c0a8d2e7da0e6ac7e0f502c86e7a4f/fcda8/s3-1.png&quot;
        srcset=&quot;/static/d0c0a8d2e7da0e6ac7e0f502c86e7a4f/12f09/s3-1.png 148w,
/static/d0c0a8d2e7da0e6ac7e0f502c86e7a4f/e4a3f/s3-1.png 295w,
/static/d0c0a8d2e7da0e6ac7e0f502c86e7a4f/fcda8/s3-1.png 590w,
/static/d0c0a8d2e7da0e6ac7e0f502c86e7a4f/efc66/s3-1.png 885w,
/static/d0c0a8d2e7da0e6ac7e0f502c86e7a4f/c83ae/s3-1.png 1180w,
/static/d0c0a8d2e7da0e6ac7e0f502c86e7a4f/3f919/s3-1.png 1771w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d4fcbbe8d84cb46e2cdb7c068ba65b34/e7aec/s3-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 10.81081081081081%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABJ0AAASdAHeZh94AAAAVElEQVQI10VLCQ7AIAjz/79VxCGijJIdTZqmVxERb6354OHM/BG5n+OAmeWm1pqKTlWjPk5EqQC0yJx+xQAn2/tn+LWWr1CcsXk5w2t0oDwZ9Z7bG3VbnI4JwFweAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;s3 - 2&quot;
        title=&quot;s3 - 2&quot;
        src=&quot;/static/d4fcbbe8d84cb46e2cdb7c068ba65b34/fcda8/s3-2.png&quot;
        srcset=&quot;/static/d4fcbbe8d84cb46e2cdb7c068ba65b34/12f09/s3-2.png 148w,
/static/d4fcbbe8d84cb46e2cdb7c068ba65b34/e4a3f/s3-2.png 295w,
/static/d4fcbbe8d84cb46e2cdb7c068ba65b34/fcda8/s3-2.png 590w,
/static/d4fcbbe8d84cb46e2cdb7c068ba65b34/efc66/s3-2.png 885w,
/static/d4fcbbe8d84cb46e2cdb7c068ba65b34/c83ae/s3-2.png 1180w,
/static/d4fcbbe8d84cb46e2cdb7c068ba65b34/e7aec/s3-2.png 1726w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Once your files have been added, we will configure S3 to host a Web Application. For that, go to the root folder of your S3 Bucket, click on the &lt;strong&gt;Properties&lt;/strong&gt; tab, and then &lt;strong&gt;Static website hosting&lt;/strong&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Click on &lt;strong&gt;Use this bucket to host a website&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Specify &lt;strong&gt;index.html&lt;/strong&gt; for the Index document.&lt;/li&gt;
&lt;li&gt;Specify also &lt;strong&gt;index.html&lt;/strong&gt; for the error document.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;and then hit &lt;strong&gt;Save&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Before accessing our S3 URL, we have to grant public read access for everyone. For that, click on your bucket &lt;strong&gt;Permissions&lt;/strong&gt;, and then select the first tab, &lt;strong&gt;Block public access&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Turn off the &lt;strong&gt;Block public access&lt;/strong&gt; (the first option checked) and all the other options will uncheck.&lt;/p&gt;
&lt;p&gt;Once it is done, hit &lt;strong&gt;Save&lt;/strong&gt; and confirm the action by tapping &lt;strong&gt;confirm&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3769c64c5e5a7e4c22e6a0a071f80e40/8d7b0/block-access.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 36.486486486486484%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABJ0AAASdAHeZh94AAAA0ElEQVQoz3WRgQ6DIAxE+f8/229syYyighEUVHLjOjEuTpNnSyjXcqi6riE0DaqqgtYafW/QdV2OvcSSl3XbtsKRsyaf8d5Bee9hjIG1FvM8Y5rI9ANruBdj/MuyLHjZgMfTQoUQpDO7UHQYhgs2Q8Ft225xYcHbeqiY1cdxFDEedM7JmlOx2UwOsXQRWtdVSGlDWuN3wo4T7r7oTJP9ZE4rCmzCq53FUko4f9xX/PFaxUdiSF7LQ+yCzBnp2Z0gJxVBUsw9x7PpJVLkzkfWfABGEB2fBhE5gAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;block access&quot;
        title=&quot;block access&quot;
        src=&quot;/static/3769c64c5e5a7e4c22e6a0a071f80e40/fcda8/block-access.png&quot;
        srcset=&quot;/static/3769c64c5e5a7e4c22e6a0a071f80e40/12f09/block-access.png 148w,
/static/3769c64c5e5a7e4c22e6a0a071f80e40/e4a3f/block-access.png 295w,
/static/3769c64c5e5a7e4c22e6a0a071f80e40/fcda8/block-access.png 590w,
/static/3769c64c5e5a7e4c22e6a0a071f80e40/efc66/block-access.png 885w,
/static/3769c64c5e5a7e4c22e6a0a071f80e40/c83ae/block-access.png 1180w,
/static/3769c64c5e5a7e4c22e6a0a071f80e40/8d7b0/block-access.png 1723w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Finally, we have to add a &lt;strong&gt;Bucket Policy&lt;/strong&gt; to make our bucket content publicly available.&lt;/p&gt;
&lt;p&gt;Click on &lt;strong&gt;Bucket Policy&lt;/strong&gt; and add this JSON policy :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Sid&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;PublicReadGetObject&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Principal&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;s3:GetObject&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:s3:::&amp;lt;&amp;lt; put your bucket name here &gt;&gt;/*&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;like below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0fe7b9d15c3861d4c47a87e16f0103a5/9937c/bucketpolicy.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.891891891891895%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAABCElEQVQoz5WRTUvEMBCG88O9iDcvXvQiIl78GaIgKH4t6Fm7pV3XJmmb73TX7vY1qVoW9NANPMxkeHknmSHOSJjqA+w9A8unoHkCOpuCzVLwsgQLFJyjYAw0xHinJe9zysvvWPJBR5xvoKyD0Aa1Mn0e0dZDhZrSGr5pRkPyeYF5wSCVRiUkhFSoA9GsFgommMfTdd0oyP7JOW4mL5BSgFcVhFJ9p2a5HPCLxWjIzsExLm4fYJ3Fa5IgSdPAFAWlkOG7ypitILuHp7i8e0LbfiLNMrxFs7CATZG2duC/2iZk7+gM14/PWK9XP5v8nadAWdew3sOFEYylf+HV/QTtqoVx7o8gGm7DF4zzXjFd8G30AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;bucket policy&quot;
        title=&quot;bucket policy&quot;
        src=&quot;/static/0fe7b9d15c3861d4c47a87e16f0103a5/fcda8/bucketpolicy.png&quot;
        srcset=&quot;/static/0fe7b9d15c3861d4c47a87e16f0103a5/12f09/bucketpolicy.png 148w,
/static/0fe7b9d15c3861d4c47a87e16f0103a5/e4a3f/bucketpolicy.png 295w,
/static/0fe7b9d15c3861d4c47a87e16f0103a5/fcda8/bucketpolicy.png 590w,
/static/0fe7b9d15c3861d4c47a87e16f0103a5/efc66/bucketpolicy.png 885w,
/static/0fe7b9d15c3861d4c47a87e16f0103a5/9937c/bucketpolicy.png 1156w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Your static website is now configured, so we can test our S3 bucket URL. Your URL should be like :&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;https://&amp;lt;&amp;lt; your bucket name &amp;gt;&amp;gt;.s3.&amp;lt;&amp;lt; your region &amp;gt;&amp;gt;.amazonaws.com&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;For example, for me it will be:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;https://cook-recipe-app.s3.eu-west-2.amazonaws.com/index.html&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Ok let’s test :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/da59a89d149845bbbb712e7f539bb167/5bd27/appdisplay.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 13.513513513513512%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABJ0AAASdAHeZh94AAAAaklEQVQI16XMOQqAMBQE0BxTBRVcQC0sPJlLNO7LtUzC6FewEwuLx/yB4TPR9uiHCbxpkZccRdWc+HVXtYDoBkzz+mqkXLZrRz9YnGYgYZLCdHxYbvCgTgzb+0Q7x4/A9l1CypvW+helFA7EgbkGatEk9AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;s3 app displaying&quot;
        title=&quot;s3 app displaying&quot;
        src=&quot;/static/da59a89d149845bbbb712e7f539bb167/fcda8/appdisplay.png&quot;
        srcset=&quot;/static/da59a89d149845bbbb712e7f539bb167/12f09/appdisplay.png 148w,
/static/da59a89d149845bbbb712e7f539bb167/e4a3f/appdisplay.png 295w,
/static/da59a89d149845bbbb712e7f539bb167/fcda8/appdisplay.png 590w,
/static/da59a89d149845bbbb712e7f539bb167/efc66/appdisplay.png 885w,
/static/da59a89d149845bbbb712e7f539bb167/c83ae/appdisplay.png 1180w,
/static/da59a89d149845bbbb712e7f539bb167/5bd27/appdisplay.png 1432w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Congrats! Our S3 application works ;-) According to the S3 documentation :&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Your website is available at the Amazon S3 website endpoint. However, you might have a domain, such as example.com, that you want to use to serve the content from the website you created. You might also want to use Amazon S3 root domain support to serve requests for both &lt;a href=&quot;http://www.example.com&quot;&gt;http://www.example.com&lt;/a&gt; and &lt;a href=&quot;http://example.com&quot;&gt;http://example.com&lt;/a&gt;. This requires additional steps. For example, see Configuring a static website using a custom domain registered with Route 53.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For more information, you can &lt;a href=&quot;https://docs.aws.amazon.com/AmazonS3/latest/dev/HostingWebsiteOnS3Setup.html&quot;&gt;read the official documentation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If you click on the &lt;strong&gt;Serverless API&lt;/strong&gt; header menu, you will be redirected to the Home page, and you should see a link &lt;strong&gt;Please log-in to see recipes list&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;If you click on this link, you normally will be redirected to the Amazon Cognito Log-in page.&lt;/p&gt;
&lt;p&gt;Let’s tackle the final step, the creation of our Cloudfront distribution.&lt;/p&gt;
&lt;h3&gt;Final step: Create the Cloudfront distribution&lt;/h3&gt;
&lt;p&gt;We are close to the end guys! Let’s navigate to &lt;code class=&quot;language-text&quot;&gt;Services &amp;gt; Networking &amp;amp; Content Delivery &amp;gt; Cloudfront&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The first step is to &lt;strong&gt;Create Distribution&lt;/strong&gt;. We will choose the first option (Web delivery method).&lt;/p&gt;
&lt;p&gt;Now, we have to configure our Cloudfront distribution. We will just update a few of them :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Origin Settings :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Origin Domain Name should be your Amazon S3 Bucket previously created.&lt;/li&gt;
&lt;li&gt;Leave the rest as is.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Default Cache Behavior Settings :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Redirect HTTP to HTTPS&lt;/li&gt;
&lt;li&gt;Allowed methods: GET, HEAD, OPTIONS&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For all the other configuration, leave as is. Just update the &lt;strong&gt;Default Root Object&lt;/strong&gt; by putting &lt;strong&gt;index.html&lt;/strong&gt;, and finally, you can create your distribution.&lt;/p&gt;
&lt;p&gt;Once it is done, it will take some time to create and deploy your distribution. Meanwhile, click on your distribution in the list, and &lt;strong&gt;*Distribution Settings&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Go to the &lt;strong&gt;Errors Pages&lt;/strong&gt; tab and we will create some custom error response :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ed66b4347877f2e6c1cad4882fa71c7a/914c7/customer-error.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABg0lEQVQoz42SW0vDQBCF81f0RUEQpCAIVqmKlfrgS8V/W7F3KT6JCCIJLbVpkzT3JmnS5Liz6ZZaL7hwspNlcuab2Uhb+0WcX1dxcnmDncIZSpU7HBxXsH9U5nGxXMXp1S12CyXsHV5gm+X/Janbe0Ktdo92u4OHRgudxx5a7S4arS7f68026o0mnl9eISsDvL3LTMqvkoJgBsuy4LouHMdmcuB7eWxZJlwWR1GI/y6JzNTxGLquYcx2WZHR7w8wGo2gyDI0TUeWZUiSBHEcL5UgTfOzaD5ncbqSRK70Ab0QHZmanNhjRXSoqspMNd4BiQB83+c0YRDAMKYQHpyQHjOWQInU4mQygczIdMNAGIa80GKx4DRCdEaLaL2l+RdD+mA6ncK2bW5MlERBRCJxfYmzmLVLnXwzzLKUDT7iBsKI6Kjl+caMSCtDRuhvEoogSWIMhx98ZnQhjuvwiyLi9ZbJhHY+Q1bUNM2fDYkkn6OV/zqsMl2GGIUQGXiet2pZxMLnE4bw07tf27e/AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;custom error&quot;
        title=&quot;custom error&quot;
        src=&quot;/static/ed66b4347877f2e6c1cad4882fa71c7a/fcda8/customer-error.png&quot;
        srcset=&quot;/static/ed66b4347877f2e6c1cad4882fa71c7a/12f09/customer-error.png 148w,
/static/ed66b4347877f2e6c1cad4882fa71c7a/e4a3f/customer-error.png 295w,
/static/ed66b4347877f2e6c1cad4882fa71c7a/fcda8/customer-error.png 590w,
/static/ed66b4347877f2e6c1cad4882fa71c7a/efc66/customer-error.png 885w,
/static/ed66b4347877f2e6c1cad4882fa71c7a/914c7/customer-error.png 978w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Let’s create this custom error, and go back to your Cloudfront distributions list. It should be still in progress, but it’s ok because we have a few more configuration to do.&lt;/p&gt;
&lt;p&gt;As you can see, we have a CloudFront domain name available :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1406e05b1e420662cb72bd525d6a12e1/a5a94/cdname.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 8.783783783783782%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABJ0AAASdAHeZh94AAAAfElEQVQI1x2NyQ6DIABE/f//I5EStGxqWWoVTby9iod3mMksnZQSpRSD1oyD5j2OGGOYpolaK9u24ZzDe4+1lhAC+s42r2lnHeqlEELQ95IupcR5nvg5Y0Iil5VlmW8+lFyewX3fua6LUspDOzqOgxgj6ZtZ648U727O/AFw5ZRJgVYGIQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cloudfront distr name&quot;
        title=&quot;cloudfront distr name&quot;
        src=&quot;/static/1406e05b1e420662cb72bd525d6a12e1/fcda8/cdname.png&quot;
        srcset=&quot;/static/1406e05b1e420662cb72bd525d6a12e1/12f09/cdname.png 148w,
/static/1406e05b1e420662cb72bd525d6a12e1/e4a3f/cdname.png 295w,
/static/1406e05b1e420662cb72bd525d6a12e1/fcda8/cdname.png 590w,
/static/1406e05b1e420662cb72bd525d6a12e1/efc66/cdname.png 885w,
/static/1406e05b1e420662cb72bd525d6a12e1/c83ae/cdname.png 1180w,
/static/1406e05b1e420662cb72bd525d6a12e1/a5a94/cdname.png 1657w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;For example, for me, it’s: &lt;code class=&quot;language-text&quot;&gt;d39y0kvui8eeum.cloudfront.net&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;If you remember we put some “fake URL” in our RecipeUserPool in Amazon Cognito. So now, we will update our Cognito settings with our Cloudfront Domain Name.&lt;/p&gt;
&lt;p&gt;Click on the &lt;code class=&quot;language-text&quot;&gt;Services&lt;/code&gt; dropdown, and search &lt;strong&gt;Cognito&lt;/strong&gt;. Once is done, go to your &lt;strong&gt;App Clients Settings&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Finally, update both Sign-in and Sign-out links like below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1727b8404d4cd3d7946041a954eebbb4/078fe/signin-signout.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.02702702702703%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABKklEQVQoz51SCW6DMBDk/28kJQqHTTjCZQzlmO6YgmiUSG1XGq3P9YxnvWVZsK7rSzDOY2t7pGmKsixRlAWatnXjum5QFAW6roO3H34Vz3uDtbher7hcLvB9H1EU4SMIEMhaGIZo5QGPh8IohNYacRxDKQWVJEjvd1fE2FEY1LDDcBSmqnmeMU3TgT28z2lGXj5QCuVC6BvTHxfIcJI8juMx5947Neu6wOPhu7Cpqsr9A9lwXEn+T3hWJCciMc9zlyl5z5TZGYO+7w+Y7znzD8ia7c1WkB9KaHFwkCJc4yUW40d3p4t0cs9nuIdMt0mO4wS3W4gojpBlmWNLU5hpVtM0mxlv2msH9x1DMlNauZ56do/zv8AxVEq7niLYuDRJ69Sxe4hBu+u/wRfzZwdS0Pjj/wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;update sign in sign ou&quot;
        title=&quot;update sign in sign ou&quot;
        src=&quot;/static/1727b8404d4cd3d7946041a954eebbb4/fcda8/signin-signout.png&quot;
        srcset=&quot;/static/1727b8404d4cd3d7946041a954eebbb4/12f09/signin-signout.png 148w,
/static/1727b8404d4cd3d7946041a954eebbb4/e4a3f/signin-signout.png 295w,
/static/1727b8404d4cd3d7946041a954eebbb4/fcda8/signin-signout.png 590w,
/static/1727b8404d4cd3d7946041a954eebbb4/efc66/signin-signout.png 885w,
/static/1727b8404d4cd3d7946041a954eebbb4/078fe/signin-signout.png 934w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;(Do not forget to provide your Cloudfront distribution name and not mine)&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Save your changes, and now go to &lt;code class=&quot;language-text&quot;&gt;Services &amp;gt; Networking &amp;amp; Content Delivery &amp;gt; API Gateway&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Find your API and open the &lt;strong&gt;CORS&lt;/strong&gt; menu in the left tab. Configure CORS like below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/46f1d9ab36cf14c7d958fe1fba7415e6/ae21e/corsconfig.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.35135135135135%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABD0lEQVQoz6VSW3KEMAzL/c/Ru/Qc/WBm2R8CzjuAaqVQ6MJ+1YOGJFZs2Y4ZrEXXdej7J1JKyDn/CyZqEAZKuknb+vfsjNOl4zwj5NrAfa0VhgQuSimY5xnN1lW/AzT6qnLOvPWGZ3yMsOIwTILReeSqF+cFy3IghADxvvGs8oLeOfsJinLKMRIT+tHhueFhBT6Xi4IpZvTWIdXlVt0OEzWb9w4izBwu5RJUQJ5zDpP8KLzjZG1HU8jsrUcKOuaXcujb/fXE+1OynjGpCTqpuA1mb+ydMWDZhkLuOzNsOCMTRYn1RQlBxcNgtWS/PZ1yUbiwbAZkT0R7I1t/3oH94xSJnS/Cv7QXMjy+MH5+4Bvx0Q80Q7GTdAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cors settings&quot;
        title=&quot;cors settings&quot;
        src=&quot;/static/46f1d9ab36cf14c7d958fe1fba7415e6/fcda8/corsconfig.png&quot;
        srcset=&quot;/static/46f1d9ab36cf14c7d958fe1fba7415e6/12f09/corsconfig.png 148w,
/static/46f1d9ab36cf14c7d958fe1fba7415e6/e4a3f/corsconfig.png 295w,
/static/46f1d9ab36cf14c7d958fe1fba7415e6/fcda8/corsconfig.png 590w,
/static/46f1d9ab36cf14c7d958fe1fba7415e6/efc66/corsconfig.png 885w,
/static/46f1d9ab36cf14c7d958fe1fba7415e6/c83ae/corsconfig.png 1180w,
/static/46f1d9ab36cf14c7d958fe1fba7415e6/ae21e/corsconfig.png 1537w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;You just need to allow your Cloudfront Domain Name in your API Origins, but also the &lt;strong&gt;Authorization&lt;/strong&gt; header.&lt;/p&gt;
&lt;p&gt;Once it’s done, save your changes. &lt;/p&gt;
&lt;p&gt;If you remember, we wanted to protect our API /recipes endpoint because now, everyone can access it.&lt;/p&gt;
&lt;p&gt;Stay on the API Gateway service, but this time open the &lt;strong&gt;Authorization&lt;/strong&gt; menu.&lt;/p&gt;
&lt;p&gt;Find your GET &lt;code class=&quot;language-text&quot;&gt;/recipes&lt;/code&gt; endpoint, and click on &lt;strong&gt;Create and Attach Authorizer&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Configure your &lt;strong&gt;Authorizer&lt;/strong&gt; like below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/39d4120468fe317d2fb1067fb4cf90e6/37523/authsettings.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 98.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABJ0AAASdAHeZh94AAACdUlEQVQ4y5WUiXKjMAyG/f4PuJ1t2jRtwxEwEIPBB8e/kghtupvsdpn5RkjYQpetrLVI0gxZlkNrjbIscUxSNM0ZMUb4EBD+A2Vth91uh8fHRxwOB7zs93j48YAkSTBPEyItGmMg56tciVfyK2rwFAWAQPhlhd/dDHR+QheYGV2cV0m0F1tL340fv6BaF5EZh+e0xEumsc8bPOsBT9phpz0O1YDXosFTqvFM31/yitbU2GcVdE9OInAOnyhLDhs/o7QBRedRkCz7CQUtPhElwfbcDCi7IOvYke4jajfJ3muU8x7ZqcDgAyZKd5xmYZqXT8j+wYwP+3gD5clhVddozgbccdO2wkQNWZYF8zxjITYpLFfyN1SgznTkSFc1jU0lo3MqKGLnxOF0cfZdFM+Otb1Ex4454kAjsUV4C9443UE5iuT9mOBEdUxpuIfBYRzHdaiprs55keu7E50d3nskwrbt5GRwHbmeuqpWSfTDID/ZYJ1/eC9KxZEYY6huJR07jaJcJesF1VM2X9Lc4HKMxHQDSZmjqSgq3nzr4bpdv1/rf6TMtak5XeJsWrRdJ/DosG6oHF1nyWblXXS76e3HWmN4vVlryOOS5SdpDt88SZqSnouNb54jXRTp5UZiOzeQ176+vVEwjaTKpYuUocxh3/dS7K17f0tp+UfacvT4bzlFw465pgM5t/QuXe2HL53mORXdrbqsd2v3GenydnZDHCXsOE4yd8HzPTgK6yzy0EdwENts8gUsiM1Dncn41rTYpQX2RSX8TKhWdoCjzTxGBY0R1/o7jzLk8NT2OOoGSXVG2hi865quLUonrDPK3eMo7h3Fa34B+08RHckS10wAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;authorizer settings&quot;
        title=&quot;authorizer settings&quot;
        src=&quot;/static/39d4120468fe317d2fb1067fb4cf90e6/fcda8/authsettings.png&quot;
        srcset=&quot;/static/39d4120468fe317d2fb1067fb4cf90e6/12f09/authsettings.png 148w,
/static/39d4120468fe317d2fb1067fb4cf90e6/e4a3f/authsettings.png 295w,
/static/39d4120468fe317d2fb1067fb4cf90e6/fcda8/authsettings.png 590w,
/static/39d4120468fe317d2fb1067fb4cf90e6/37523/authsettings.png 720w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Be careful, your &lt;strong&gt;Issuer URL&lt;/strong&gt; will be different. If you remember one of the first Cognito schemas, we need to integrate our user pool with an identity pool.&lt;/p&gt;
&lt;p&gt;For that, we will use the Cognito IDP URL. Your Issuer URL should be like :
&lt;code class=&quot;language-text&quot;&gt;https://cognito-idp.&amp;lt;region&amp;gt;.amazonaws.com/&amp;lt;YOUR_USER_POOL_ID&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;You can find your &lt;strong&gt;user pool id&lt;/strong&gt; in the Cognito service, in the general settings :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ca37dc8519f824c7cb9a9854d013837d/aa08e/userpoolid.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 14.18918918918919%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABJ0AAASdAHeZh94AAAAmklEQVQI142N2wrCMBBE8/f64nf4KxbaesMWH6y3oiWtCba5iTTjporgmwuHYWdmWRbPV4jiFMmCNCFdrnHlHMY5KGP+4EE8iXefnbczFFmEcpfiXuWQlw3aVlBooamgrf3l44WHxgVtaC9hrBh8dqsKnPYZykMOwY9witORGsLe9/AAvPdfwiitwesaXTeFlCMIMYaQE+rXeAHw3OI+dFbEDAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;user pool id&quot;
        title=&quot;user pool id&quot;
        src=&quot;/static/ca37dc8519f824c7cb9a9854d013837d/fcda8/userpoolid.png&quot;
        srcset=&quot;/static/ca37dc8519f824c7cb9a9854d013837d/12f09/userpoolid.png 148w,
/static/ca37dc8519f824c7cb9a9854d013837d/e4a3f/userpoolid.png 295w,
/static/ca37dc8519f824c7cb9a9854d013837d/fcda8/userpoolid.png 590w,
/static/ca37dc8519f824c7cb9a9854d013837d/efc66/userpoolid.png 885w,
/static/ca37dc8519f824c7cb9a9854d013837d/aa08e/userpoolid.png 967w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The last Authorizer settings is the &lt;strong&gt;Audience one&lt;/strong&gt;. You just need to provide your &lt;strong&gt;App Client ID&lt;/strong&gt;. Once it’s done, hit &lt;strong&gt;Create and Attach&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/72391e01e9f26c1d86925fb1b698e94b/a8c87/authjwt.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 47.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABIElEQVQoz41Ra3OEIAzk///CfujcXKfWF4gKinqC2ySnrXN9ZmYluMuSBJXnb8iuF2QvF3S2gW1baGPQdh2c9+id+xNnnWqMhs5foYsMdZnDWIuaDG37aXg+wPlvF6nGtsjyElWtkZcVnPOIMaKjCouiQFVVhJr4WvaODjEfQoAx9468H2DJZxxHKP4wmUgU4yridV0xDAM8gblt2wR8CXNHjMRN8yw58xyqcQFXrfFUPyOQ1i8J/paofE8VGHR9L+YzHVyW5cvKOMx4VWOYYNoegYhI/9e0CQaq3NOs2IzzlNJHpWeDRyhuk/m7Ztub2aRdblEMBaPM6MB3ZmJ4nsk5eD5s6PbX49b+E2om4bo/hIDyG63TNAmOipZH3Q94Byhwuma0Ni9JAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;auth jwt&quot;
        title=&quot;auth jwt&quot;
        src=&quot;/static/72391e01e9f26c1d86925fb1b698e94b/fcda8/authjwt.png&quot;
        srcset=&quot;/static/72391e01e9f26c1d86925fb1b698e94b/12f09/authjwt.png 148w,
/static/72391e01e9f26c1d86925fb1b698e94b/e4a3f/authjwt.png 295w,
/static/72391e01e9f26c1d86925fb1b698e94b/fcda8/authjwt.png 590w,
/static/72391e01e9f26c1d86925fb1b698e94b/efc66/authjwt.png 885w,
/static/72391e01e9f26c1d86925fb1b698e94b/c83ae/authjwt.png 1180w,
/static/72391e01e9f26c1d86925fb1b698e94b/a8c87/authjwt.png 1538w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;As you can see, your &lt;code class=&quot;language-text&quot;&gt;/recipes&lt;/code&gt; endpoint is now protected with a JWT Authorizer. It means that if we re-open a browser tab, and try to get our cook recipe list one more time :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b8f1802a8e409c8bf14b103e0f12de22/078fe/unauthorized.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 10.81081081081081%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABJ0AAASdAHeZh94AAAAYUlEQVQI13WO2w7AIAhD/f8/1blFwSXgrRPe90AaTktDKKWgtRcpXaiV0PuAancWYzysgohczSdiEDOYG3LO5y7hvh/3VBXBwlbKJ2Rqu4hi740xxu/MOb1ARM4T3dlaCx+f1Zqqcb1g6AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;unauthorized&quot;
        title=&quot;unauthorized&quot;
        src=&quot;/static/b8f1802a8e409c8bf14b103e0f12de22/fcda8/unauthorized.png&quot;
        srcset=&quot;/static/b8f1802a8e409c8bf14b103e0f12de22/12f09/unauthorized.png 148w,
/static/b8f1802a8e409c8bf14b103e0f12de22/e4a3f/unauthorized.png 295w,
/static/b8f1802a8e409c8bf14b103e0f12de22/fcda8/unauthorized.png 590w,
/static/b8f1802a8e409c8bf14b103e0f12de22/efc66/unauthorized.png 885w,
/static/b8f1802a8e409c8bf14b103e0f12de22/078fe/unauthorized.png 934w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This time we should be identified to access our recipe list.&lt;/p&gt;
&lt;p&gt;Ok so now I think our Cloudfront distribution should be available, so go back to your distribution list.&lt;/p&gt;
&lt;p&gt;Copy/paste your Cloudfront Domain Name and open it in your browser :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2c036aed1f05b6fc9fac8d5a7d1eb43b/97655/cdn.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 36.486486486486484%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABJ0AAASdAHeZh94AAABL0lEQVQoz32Q60oCURSF55260Q0p6UdEGRVS9AT9kMhrXhJ6xdJGx4FEHAdnxsgbBs6crzNjTmXhhu+sfdhrHxZH0bRXmk0DVdWpVhu0211aLZNer49f4/EYdzrFdV0GgwEfkwmO0+P5qUalUkPXm5imjWFYdDoWSjpfIlt4IJUrkswWZF8OKJQfA73L5Enfl4L5bSrHTSJJIpmR3vzXrEiuWA5R1rb3mLO+sx/oymaE6GGM2MUVR6dxjs8vOYtfcyJ1M3LAxm408M79q1vfbyhdy2aGFWI7Do2G/IIXlYauo8leVWvU6xp1TX6LYWDZP3fsEIUl5XkiUP8UQuBJXM9btoLiScMiCI+3kcDsC5yhwB7O1HyXOoKpK6Tl757PPwmlWYS5mF1+46edp17kE5yB1LU8d6OkAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;cdn works&quot;
        title=&quot;cdn works&quot;
        src=&quot;/static/2c036aed1f05b6fc9fac8d5a7d1eb43b/fcda8/cdn.png&quot;
        srcset=&quot;/static/2c036aed1f05b6fc9fac8d5a7d1eb43b/12f09/cdn.png 148w,
/static/2c036aed1f05b6fc9fac8d5a7d1eb43b/e4a3f/cdn.png 295w,
/static/2c036aed1f05b6fc9fac8d5a7d1eb43b/fcda8/cdn.png 590w,
/static/2c036aed1f05b6fc9fac8d5a7d1eb43b/97655/cdn.png 819w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If you try to click on the &lt;strong&gt;List Recipes&lt;/strong&gt; navbar link, you should have a message: “You are not supposed to be here”.&lt;/p&gt;
&lt;p&gt;Ok so, let’s sign-in by clicking &lt;strong&gt;Please log-in to see recipes list&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Hey! Why do we have this error ?!&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/93db98753c7ab0e23eebe454db6f6e6a/c23ad/errorcognito.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 26.351351351351354%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABJ0AAASdAHeZh94AAAAyUlEQVQY022QTQqDQAyFPb6/+Au6duUFFLyAgug4o4KHEEUU16/N0Npqu/hIJnkvZKIIIcAahq7rIAQhZM65QFVVKMsSdV2DMYamaST0btsW3UvPOUff9xjHEYphGLhjmiZUVUUcx8jzHGmaIssyCeVUS5IEmqY9tR+frutQHMfBHc/zpJi2O44Dy7KczPOMfd8xDAMsy4LruhLyUfwZaNu2bNCGRVFg2zZM03RhXVd5FvrJ3f934Dv6vo8oihCG4QWqBUFwar95ANteLjSBpbCeAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;error cognito&quot;
        title=&quot;error cognito&quot;
        src=&quot;/static/93db98753c7ab0e23eebe454db6f6e6a/fcda8/errorcognito.png&quot;
        srcset=&quot;/static/93db98753c7ab0e23eebe454db6f6e6a/12f09/errorcognito.png 148w,
/static/93db98753c7ab0e23eebe454db6f6e6a/e4a3f/errorcognito.png 295w,
/static/93db98753c7ab0e23eebe454db6f6e6a/fcda8/errorcognito.png 590w,
/static/93db98753c7ab0e23eebe454db6f6e6a/efc66/errorcognito.png 885w,
/static/93db98753c7ab0e23eebe454db6f6e6a/c83ae/errorcognito.png 1180w,
/static/93db98753c7ab0e23eebe454db6f6e6a/c23ad/errorcognito.png 1193w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If you remember in our ReactJS application, we updated this variables :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;API_BASE_URL&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;https://eq0umxfk86.execute-api.eu-west-2.amazonaws.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;COGNITO_BASE_URL&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;https://cook-recipes-app.auth.eu-west-2.amazoncognito.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;APP_REDIRECT_URI&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;https://www.google.com/authenticate&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;APP_CLIENT_ID&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;13ft34s2dt7nn0ef0k4p512hgp&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The problem is our &lt;strong&gt;APP&lt;em&gt;REDIRECT&lt;/em&gt;URI&lt;/strong&gt; has changed because we put the Cloudfront URL.&lt;/p&gt;
&lt;p&gt;So we have to update the &lt;strong&gt;APP&lt;em&gt;REDIRECT&lt;/em&gt;URI&lt;/strong&gt; by putting our Cloudfront URL like below :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;APP_REDIRECT_URI&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;https://d3lzprsa47l9ig.cloudfront.net/authenticate&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Yes, we need to rebuild once more time ^.^&lt;/p&gt;
&lt;p&gt;Run an &lt;code class=&quot;language-text&quot;&gt;npm build&lt;/code&gt;. And re-upload your &lt;code class=&quot;language-text&quot;&gt;build&lt;/code&gt; folder content to our S3 bucket. I suggest to delete the entire content and re-upload all the fresh content built.&lt;/p&gt;
&lt;p&gt;Before returning to our Cloudfront App, we updated our ClientSide App with our new Cloudfront Callback URL, but we should also update our Lambda which is exchanging our authorization code with an access token.&lt;/p&gt;
&lt;p&gt;Open &lt;code class=&quot;language-text&quot;&gt;Services &amp;gt; Compute &amp;gt; Lambda&lt;/code&gt;, and open your &lt;strong&gt;RecipeCookAuthenticate&lt;/strong&gt; lambda function.&lt;/p&gt;
&lt;p&gt;Change this line and replace the google URL by your CloudFront URL :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;callback_uri &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://d3lzprsa47l9ig.cloudfront.net/authenticate&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ok so now if we go back to our Cloudfront App, let’s re-try by clicking the sign-in app link and now we can Log-in properly :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 491px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d539198e7ea08938f87bec64df5cfb94/13566/authworks.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 101.35135135135135%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABJ0AAASdAHeZh94AAACsklEQVQ4y61TW28SQRjlwcR3E9vE3+Gbv8FfYHwzUf+CvpiUNlTaBIomPrRANaExXkrBii20tNXGh1bbYsVW5SaXhV12ueyCwMIeZwaWLm1NWuOXPXyzZ745e+abweR2u7Gzs4Pt7e1/wtbWFvb29jA3N4fx8XGYXC4X9vf3GWlEJBI5FcZ5mnd3dxGNRuHxeGCxWGCiyqIoIp/Po1AonBscx0GSJCwsLGBsbAwmn88HGq1WC1pHg9puo9PpQNO0HjrsXef0sY42qaexsrICs9ncFSyXy4jF4ygWRWQyGWSzGaRSKeYglUoikUgiTsBxOcYnk0nEYjHG8zzPBIPBIEZHR2GiVqk7QeCJYBGyouBfIhQKHQk2Gg32JaEoMLd0G32oKtQejLzOUTMDDufn5xlRqymQZRmlUhn1ev3Ufp0GKjogSHuoEKF0Ok16lEeJODyL0PFDGexhs0muTYFdH6VWI0UddtrtM0Dfcr+H+paVagWVSpn0sES20eq1WiOPdj6HPuKwWlcRz0nIChVwYhU5UUa2SNogVFGs1JnbZotAPYnfzZ5DXdDr9TJCVdtdR/SXXmLqgGz9rNF3GFj0Y/O7CKvvKx4tHWDq3QEcBjxeOsRU4BvsBLa3g6CcxfsFoaiAtdXeP2VteRH3nkdw4YYHV+6+xtDtlwSvMEzypVsvcO3BMq4/DOPq/QAuE26YzA31Mq2/eNODO67P+LC+ipERIhh448OnRAlPgoeYXY/BvfYTLoLZjTh7f/Y+Ac9mko2dqz/wdCPWr6OZrvsYKx051E/ZGLLEg8/9QkUsQOI5CFwaZYHc0YoCXpKh1Bsn1izrPfT7/fgfEQ6Huw7tdjucTiemp6f7mJmZ+QuO5oz1dL3D4cDk5CRMExMTTJnaNcLI6WOzuTum+Xit1WqFzWbDH7VWb0M5PQC1AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;login ok&quot;
        title=&quot;login ok&quot;
        src=&quot;/static/d539198e7ea08938f87bec64df5cfb94/13566/authworks.png&quot;
        srcset=&quot;/static/d539198e7ea08938f87bec64df5cfb94/12f09/authworks.png 148w,
/static/d539198e7ea08938f87bec64df5cfb94/e4a3f/authworks.png 295w,
/static/d539198e7ea08938f87bec64df5cfb94/13566/authworks.png 491w&quot;
        sizes=&quot;(max-width: 491px) 100vw, 491px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So, enter your credentials and sign-in.&lt;/p&gt;
&lt;p&gt;As you can see this time, we do not have been redirected to the Google fake page to get our authorization code, it has been redirected to our app :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4d5039050f5887a82d28fd724f340adc/fe8a7/get_authcode.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABJ0AAASdAHeZh94AAAAl0lEQVQY053MywqCUBSFYd+xhC5kgYUI1SNVcjzmJRULei49OHGgf0chqAYRbfhYe7D2Ni5ZQRinRElGcbuT5lfkOUaGCZ4IOJwER09qPkKG+EGsRQit7w27jIaMkhxjPLV4Gk0WWLaD7WxZuzs27h5zvsKcLX9m8DFN01DXNV3X8c8Y/eGr/llVKZRSlGVJpbNt3zvfPACW0AMTJTs72QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;get auth code from app&quot;
        title=&quot;get auth code from app&quot;
        src=&quot;/static/4d5039050f5887a82d28fd724f340adc/fcda8/get_authcode.png&quot;
        srcset=&quot;/static/4d5039050f5887a82d28fd724f340adc/12f09/get_authcode.png 148w,
/static/4d5039050f5887a82d28fd724f340adc/e4a3f/get_authcode.png 295w,
/static/4d5039050f5887a82d28fd724f340adc/fcda8/get_authcode.png 590w,
/static/4d5039050f5887a82d28fd724f340adc/efc66/get_authcode.png 885w,
/static/4d5039050f5887a82d28fd724f340adc/c83ae/get_authcode.png 1180w,
/static/4d5039050f5887a82d28fd724f340adc/fe8a7/get_authcode.png 1223w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;And finally, you will be redirected to the home page, authenticated :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/437eb51fec4eb8cce93aaf810bb34f98/f2331/authok.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 14.864864864864865%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABJ0AAASdAHeZh94AAAAbElEQVQI153LYQqCMBxA8d2qhDLIUUkkhLcXsqbuv46wzdpzdILqwe/jU7puOJyvnC4tm/2R1bai2OmfrEv9ecuqRj2MYRhGTHbr73S9ZZwcVgRrvzNlIg5xT1RKiRgj3ntCCMyvRHhDzP5pARhKu+9T0531AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;auth ok&quot;
        title=&quot;auth ok&quot;
        src=&quot;/static/437eb51fec4eb8cce93aaf810bb34f98/fcda8/authok.png&quot;
        srcset=&quot;/static/437eb51fec4eb8cce93aaf810bb34f98/12f09/authok.png 148w,
/static/437eb51fec4eb8cce93aaf810bb34f98/e4a3f/authok.png 295w,
/static/437eb51fec4eb8cce93aaf810bb34f98/fcda8/authok.png 590w,
/static/437eb51fec4eb8cce93aaf810bb34f98/efc66/authok.png 885w,
/static/437eb51fec4eb8cce93aaf810bb34f98/c83ae/authok.png 1180w,
/static/437eb51fec4eb8cce93aaf810bb34f98/f2331/authok.png 1427w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Click on the &lt;strong&gt;List Recipes&lt;/strong&gt; now, and you should see your data :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/dec3e40414359eca12cf0352dcac5e24/5faa8/recipes.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 27.027027027027025%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABJ0AAASdAHeZh94AAAAjUlEQVQY052OSwvCMBCE86dVajGllRY8+C/bQpqHwR5CnqMJevDWOjB8C7s7u6RurqDdgOF2B217nOoG1aUtPFQUx/M2064ve8Rai5QSvHcIIXxqj39FpnkGYwukUuBCQGtd+FzXEp6P7DEZx+kdyKDUAwvnEFKWRlYO/HKrSQ7IXznnYIwpjDH+DO3RC7cga64sZU5iAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;data&quot;
        title=&quot;data&quot;
        src=&quot;/static/dec3e40414359eca12cf0352dcac5e24/fcda8/recipes.png&quot;
        srcset=&quot;/static/dec3e40414359eca12cf0352dcac5e24/12f09/recipes.png 148w,
/static/dec3e40414359eca12cf0352dcac5e24/e4a3f/recipes.png 295w,
/static/dec3e40414359eca12cf0352dcac5e24/fcda8/recipes.png 590w,
/static/dec3e40414359eca12cf0352dcac5e24/efc66/recipes.png 885w,
/static/dec3e40414359eca12cf0352dcac5e24/c83ae/recipes.png 1180w,
/static/dec3e40414359eca12cf0352dcac5e24/5faa8/recipes.png 1444w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Good job! We are done now ;-)&lt;/p&gt;
&lt;p&gt;Let’s summarize what you achieve during this tutorial :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You created a DynamoDB table.&lt;/li&gt;
&lt;li&gt;You created a Lambda function to retrieve DB items.&lt;/li&gt;
&lt;li&gt;You created an API with API Gateway to invoke the lambda to get the items from the database.&lt;/li&gt;
&lt;li&gt;You configured Amazon Cognito with the Authorization Code OAuth flow.&lt;/li&gt;
&lt;li&gt;You created a second lambda to exchange the authorization code with the access token.&lt;/li&gt;
&lt;li&gt;You added a new route to trigger this token exchange lambda.&lt;/li&gt;
&lt;li&gt;You deployed a ReactJS application, hosted it in AWS S3, and configuring a Bucket Policy to publicly access it.&lt;/li&gt;
&lt;li&gt;You created a Cloudfront application deserving the S3 bucket.&lt;/li&gt;
&lt;li&gt;You created and attach an Authorizer to your API Gateway route.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Well done! I think you can play a little bit with it, but you did a great job and played with many AWS services :)&lt;/p&gt;
&lt;p&gt;I hope this tutorial was helpful for you if you liked it do not forget to share ;)&lt;/p&gt;
&lt;p&gt;See you next time!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Serverless App with AWS in ReactJS, using Lambda & API Gateway - Final part]]></title><description><![CDATA[Hey hello there! If you didn’t read the previous post, I suggest you to read it before continuing. If you did, perfect, let’s continue…]]></description><link>https://jstw.github.io/serverless-api-with-lambda-part-3/</link><guid isPermaLink="false">https://jstw.github.io/serverless-api-with-lambda-part-3/</guid><pubDate>Sun, 31 May 2020 11:12:03 GMT</pubDate><content:encoded>&lt;p&gt;Hey hello there! If you didn’t read the previous post, I suggest you to &lt;a href=&quot;./../serverless-api-with-lambda-part-2&quot;&gt;read it&lt;/a&gt; before continuing. If you did, perfect, let’s continue ;)&lt;/p&gt;
&lt;p&gt;The last part is to integrate our Lambda Functions previously created, in the AWS API Gateway service. Find this service, by opening &lt;code class=&quot;language-text&quot;&gt;Services &amp;gt; Networking &amp;amp; Content Delivery &amp;gt; API Gateway&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Let’s create an API by clicking the &lt;code class=&quot;language-text&quot;&gt;Create API&lt;/code&gt; button.&lt;/p&gt;
&lt;p&gt;We can choose some types for our API, but in this case, we want to create an HTTP API. So let’s keep the first selected option.&lt;/p&gt;
&lt;p&gt;Provide a name, &lt;strong&gt;blog-api&lt;/strong&gt; for example, and let’s integrate our Lambdas by adding them one by one in the &lt;code class=&quot;language-text&quot;&gt;Create and configure integrations&lt;/code&gt; like below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3ade922f177a4cdbe7485a33910babb2/ee3fb/integration1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.05405405405405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABWElEQVQoz31SCXKEMAzL/z/Z3eWm4QqEM6xrGcJkO7QwmmCBjSxbaa0pThJKkpQejyclaUpffKZZTsuy0DzPn7jjTn6cJlLWWhqGQWCMoYFjY3oC75y7sG0bresqP8HpYw/EeKeqqqLXK6I4jimKYlEa4ZnxfL4O8PuiKCnLMsrygtI0o7woOM7l+yzPpTPT96SgrGlaattOFPZMhvDq930XvN9vOaH6OgNO9fxxWX5L0n8XCv2FjVv21qhxHEWdVxB6EnrooCAACmEYdpqprBrxHvmq64z4hQmhiNaVeNa0rST9LuZbQ7G6rkkbS7VlEdvBqe30Yg8SvDrx6w6Bd2zGYQnfK+ep5dyfy/TAM/+DO1zq3UYDD286ayhMFquwsG8gENdNQ+M4SfG7op6DXd+dpUR3LGo+hmJ5KPAN/aModgk7h8nDR3e297HkDHSFQUwL++f2i/sBD0lXQX6aNpkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Integration 1&quot;
        title=&quot;Integration 1&quot;
        src=&quot;/static/3ade922f177a4cdbe7485a33910babb2/fcda8/integration1.png&quot;
        srcset=&quot;/static/3ade922f177a4cdbe7485a33910babb2/12f09/integration1.png 148w,
/static/3ade922f177a4cdbe7485a33910babb2/e4a3f/integration1.png 295w,
/static/3ade922f177a4cdbe7485a33910babb2/fcda8/integration1.png 590w,
/static/3ade922f177a4cdbe7485a33910babb2/efc66/integration1.png 885w,
/static/3ade922f177a4cdbe7485a33910babb2/ee3fb/integration1.png 1144w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/03266e80dde87402388cff82018de7d7/72372/integration2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABSUlEQVQoz51SXZODIAz0///N60OtWuEEAQH3slF7Ou29XGYySsjHZpfGzzP6fkDOGbVWLMuinktBkfObl+3L3BAi3Bxwf/TyH+SuoHHO4X5vMTMgScZatG0La7+laH1rWLVpQZKhxlgMU8DTRSwCiLGGaGKML1T8TjKEyOu6aoOLS+xoyK1WOdOIPCVtuHXmRd0vD3trdnLma00t8N4rQl2Zh0fXKTImcHXSEFPaC/5u6qTWuIB2MIruwqH3s04ZR4Ov2w1d1+8ilKtTOMnjYHJofYRPpCoLdQkNk2gHmsPWY+WdiovvK5+NZ3LaBBGEylKQekFUPz+bk9rkPgiqfniCfXTlaV+ZAU7hGp1wyrgq+oE7DlN6jMHDerRmE2VRhMIFeSPBbEoxeJ4mtxV/QJZz0TwKsdG0rctYwzf4HEcVgU3/Y79vseAHzUFfEdYNdfwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Integration 2&quot;
        title=&quot;Integration 2&quot;
        src=&quot;/static/03266e80dde87402388cff82018de7d7/fcda8/integration2.png&quot;
        srcset=&quot;/static/03266e80dde87402388cff82018de7d7/12f09/integration2.png 148w,
/static/03266e80dde87402388cff82018de7d7/e4a3f/integration2.png 295w,
/static/03266e80dde87402388cff82018de7d7/fcda8/integration2.png 590w,
/static/03266e80dde87402388cff82018de7d7/efc66/integration2.png 885w,
/static/03266e80dde87402388cff82018de7d7/72372/integration2.png 1149w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Now our Lambdas are integrated. Let’s create our &lt;strong&gt;routes&lt;/strong&gt; and configure them like this :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/464f518bbd960c472e3bf9cd78dfb6ed/e9d87/routeconfig1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 44.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABTUlEQVQoz4VSSW7DMAz0/1/QW5/SQx/QQ48BiqRJbMu1tXnRYitTUo4DpEhbAQNRNDXkjFwYa9FJCaU0OB7HEcMfGH/JjdOEYRhQKKVwPJ4gRAOtDVJKWJYlY4tTWm65R4gxYiZ471ForVHVdSasaS+rCudzuaK8guLT6YyqqvPO57KkOoIQAqJp8pTzPKPo+x5t26HtVhhjIMkCtqHr5Bp3qyWsYMtJUsY5noqn5JUJWbdz7pbgoon8+Lm4zlIz791d/nK5IISQ7bkRWpqSfWDi3PVasBC2/VA12B1LGD/DhiVDTgGT82DbQvBEGFFMRMLymJS7bV3TlSyDzkIZfIov1NLAEuk4J/RxwUzf6Qb4ZiQU/KvYfp2S40foSUVD5h/2B3h3Lzl7LxX0yxPU6/NK+B+4WUuPwa/JikKI2RZHD6LJV0UwH28w+3d8A2wwtGeZKWU/AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Route Config example&quot;
        title=&quot;Route Config example&quot;
        src=&quot;/static/464f518bbd960c472e3bf9cd78dfb6ed/fcda8/routeconfig1.png&quot;
        srcset=&quot;/static/464f518bbd960c472e3bf9cd78dfb6ed/12f09/routeconfig1.png 148w,
/static/464f518bbd960c472e3bf9cd78dfb6ed/e4a3f/routeconfig1.png 295w,
/static/464f518bbd960c472e3bf9cd78dfb6ed/fcda8/routeconfig1.png 590w,
/static/464f518bbd960c472e3bf9cd78dfb6ed/efc66/routeconfig1.png 885w,
/static/464f518bbd960c472e3bf9cd78dfb6ed/e9d87/routeconfig1.png 1176w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Please be sure to have the same URL as below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7198b48cd5e26caa026248d8c7d851f0/72372/routeconfig.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABJ0AAASdAHeZh94AAABiklEQVQoz5WT6W6EMAyE9/1fs1zbhXBfIeD6c0iF+q9Ilp3gY2YMr7ZtJctzqd5v+dS1rNsm67r+37RuUf+apklqbdR1nQzDKOE45LgthBDj5O84PM+3ee9l33d59X0vRVmalWVlPsvyaHn0eV5YXBSFxV9fmZ2Jya+qSkE1sSGoOLRtJ861ggRN4wxxq9Z1vTi9c87Z+7ppLO77wXKWZZHzPIXnuq5IeRwnu4AKxdz9faZ5toa8ux73NNmVrlfaNH4xAUGPI5gH0bKsBp/EcGs2a0OYWK6eKbYcNVDD9DwVIZvZ9JIkGoyKAJQk9cMgQQtPRbGucRjSUEND7+MyoM9AQ8jKZ0X5bEic6Bga9Zsio5AGFIIamrs17E0SazjflEnYtv13CSChOUkYed+f2jwDIkJvhrbswSgbwvlGuHubBNXunpr0Io/77dYwMUIuy51mk8c0dIoGjfhA0YJpgxaDBtq2SS1EeBClu7QwNs9A+2woavS7YgqbThSBj3/+NUm751+TGCQJfgAU1qMVV3rTRAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Route Config&quot;
        title=&quot;Route Config&quot;
        src=&quot;/static/7198b48cd5e26caa026248d8c7d851f0/fcda8/routeconfig.png&quot;
        srcset=&quot;/static/7198b48cd5e26caa026248d8c7d851f0/12f09/routeconfig.png 148w,
/static/7198b48cd5e26caa026248d8c7d851f0/e4a3f/routeconfig.png 295w,
/static/7198b48cd5e26caa026248d8c7d851f0/fcda8/routeconfig.png 590w,
/static/7198b48cd5e26caa026248d8c7d851f0/efc66/routeconfig.png 885w,
/static/7198b48cd5e26caa026248d8c7d851f0/72372/routeconfig.png 1149w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;You can now click on &lt;strong&gt;Next&lt;/strong&gt; and leave the configuration stages as is. Review your API creation, and if it respects all the configuration above, you can hit the &lt;strong&gt;Create&lt;/strong&gt; button.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9dd7fb49ed4873643a7ff78479d12419/098c1/apisuccess.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 47.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABN0lEQVQoz42RO07DQBCG91LcgDMAogpNjCig4iK01BCBKDgIFQUpKQCJJFrbu96Xd5387ExCnkRipE//eFbztLh+OsfFoIfLhzNcEY89prg/Qf/uGMUe+ks9QjE4RXF7iP7NAYTRHk0T4W1EcBEpTBF9x/ofusx0CqT3V7QvzxCjyRhvwyE+vj5hnIVqNHSG1TRLfx3Nb+sxBWUdZOMgaqVQVhWMsei6PFlKDPkhBMQYd+IUC227EZ8TIZTWeeUGPidvGxWkpG2jgsYY/GU8YV3XMNZiNpvNO1HnTLcgbbGMp903UeViUpb4Ho0hy5Indd7vxTNhobvwhFW+oSwrXiPldTbvsoJWbel+uWmbb8jfC/31hc73k7XigM0dZK3hAvkt48JKqShtRD+RNqH7KzXPHU8mPOEPQdOeioftdRkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;API Creation Success&quot;
        title=&quot;API Creation Success&quot;
        src=&quot;/static/9dd7fb49ed4873643a7ff78479d12419/fcda8/apisuccess.png&quot;
        srcset=&quot;/static/9dd7fb49ed4873643a7ff78479d12419/12f09/apisuccess.png 148w,
/static/9dd7fb49ed4873643a7ff78479d12419/e4a3f/apisuccess.png 295w,
/static/9dd7fb49ed4873643a7ff78479d12419/fcda8/apisuccess.png 590w,
/static/9dd7fb49ed4873643a7ff78479d12419/efc66/apisuccess.png 885w,
/static/9dd7fb49ed4873643a7ff78479d12419/c83ae/apisuccess.png 1180w,
/static/9dd7fb49ed4873643a7ff78479d12419/098c1/apisuccess.png 1578w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Good job, your API is now created! You can find your API URL in your &lt;strong&gt;stages&lt;/strong&gt;. It should be in the Invoke URL column.&lt;/p&gt;
&lt;h3&gt;Let’s test the beast!&lt;/h3&gt;
&lt;p&gt;I don’t know what you prefer to test your API, you can CURL or Postman, it’s up to you :)&lt;/p&gt;
&lt;p&gt;I will go for curl :&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;GetArticles:&lt;/strong&gt; &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;batch&quot;&gt;&lt;pre class=&quot;language-batch&quot;&gt;&lt;code class=&quot;language-batch&quot;&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token parameter attr-name&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;token parameter attr-name&quot;&gt;-X&lt;/span&gt; GET &apos;&amp;lt;&amp;lt; your api url&gt;&gt;/articles&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Output:&lt;/em&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d4d144082387abdbabac620bb62eebc1/63ec5/getarticlescurlresult.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 60.13513513513513%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABJ0AAASdAHeZh94AAABXUlEQVQoz6WS55KDMAyEaaHYdNNtjgDv/4x7knKZa5lJZvJD2Bhr2U+Sl80KmUsRTzHKqcRHumE1M6zLsToNR+uyaIl51rCLQjsZKLci3zYoYxCFIZRSSNMUXl3W6BoDnWqM/Yi6rVA1NUo6X5YV67rB2g80TQtjelo79F2Pqigwdh32646iyBEEAaIogpekCYLw9uIHPnzfh+d5EpfLBSF947MoCmkfSqLc+boXx/GvHI8fdV0T2kquSnEyjiO5W2idyJWh6KC1hsqUiP5IfhQe+n7Avu8iyMLWWuR5jiRJROAFke9gVLbNeGz9LvKywCOHjMTOCiq0cw7OOgzkmnGbphHcP3V6JmhwHKcgc+3maUJLtayqStB5JF4WZFTGZkxOYvy3kTuaq/M8ydHN4XEcGIYBWZYJLsf9hy84vSFft6uMDws5Z6nzvXS7bVs5l7FRmpoXPe/yG3j/4hMBFAXuhMws9QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;GetArticles Output&quot;
        title=&quot;GetArticles Output&quot;
        src=&quot;/static/d4d144082387abdbabac620bb62eebc1/fcda8/getarticlescurlresult.png&quot;
        srcset=&quot;/static/d4d144082387abdbabac620bb62eebc1/12f09/getarticlescurlresult.png 148w,
/static/d4d144082387abdbabac620bb62eebc1/e4a3f/getarticlescurlresult.png 295w,
/static/d4d144082387abdbabac620bb62eebc1/fcda8/getarticlescurlresult.png 590w,
/static/d4d144082387abdbabac620bb62eebc1/63ec5/getarticlescurlresult.png 812w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;FindArticleByTitleAndCategory:&lt;/strong&gt; &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;batch&quot;&gt;&lt;pre class=&quot;language-batch&quot;&gt;&lt;code class=&quot;language-batch&quot;&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token parameter attr-name&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;token parameter attr-name&quot;&gt;-X&lt;/span&gt; GET &apos;&amp;lt;&amp;lt; your api url&gt;&gt;/articles/My&lt;span class=&quot;token variable&quot;&gt;%20firs%&lt;/span&gt;20article/Blabla&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Output:&lt;/em&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/406d92d0f0ba7d80f1fe7eb985e351d4/23592/findbyarticlescurlresult.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.972972972972975%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABJ0AAASdAHeZh94AAAAt0lEQVQY041Pyw7CMAxru3V9hY5SGGMTewj+/xdNOk4IkHaw3KS2I4s4RNBA6PseS1owTR3mOeP5uDKfMY4JA2uGewfqb8jriguzdw7GGDhmIkLTNNtbGG2gK719ylpCqQrWBcR4RAgHFgVY60GBYNlE3iOlBCklhBAf2HaeBaec2WTRxhZlJgocFraLSikWii/zX5SwZVnRtpHrzsg8l2DHwSWwHCp1dgdWVY26fqMYtdY/6+zFC75AbPxK020QAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;FindByArticles Output&quot;
        title=&quot;FindByArticles Output&quot;
        src=&quot;/static/406d92d0f0ba7d80f1fe7eb985e351d4/fcda8/findbyarticlescurlresult.png&quot;
        srcset=&quot;/static/406d92d0f0ba7d80f1fe7eb985e351d4/12f09/findbyarticlescurlresult.png 148w,
/static/406d92d0f0ba7d80f1fe7eb985e351d4/e4a3f/findbyarticlescurlresult.png 295w,
/static/406d92d0f0ba7d80f1fe7eb985e351d4/fcda8/findbyarticlescurlresult.png 590w,
/static/406d92d0f0ba7d80f1fe7eb985e351d4/efc66/findbyarticlescurlresult.png 885w,
/static/406d92d0f0ba7d80f1fe7eb985e351d4/23592/findbyarticlescurlresult.png 1031w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;CreateArticle:&lt;/strong&gt; &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;batch&quot;&gt;&lt;pre class=&quot;language-batch&quot;&gt;&lt;code class=&quot;language-batch&quot;&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token parameter attr-name&quot;&gt;-d&lt;/span&gt; &apos;{&lt;/span&gt;
   &quot;title&quot;: &quot;My CURL Article&quot;,
   &quot;category&quot;: &quot;Test&quot;,
   &quot;content&quot;: &quot;An article created via CURL command, awesome!&quot;,
   &quot;author&quot;: &quot;Julien&quot;}&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt; -H &quot;Content-Type: application/json&quot; -X POST &amp;lt;&amp;lt; your api url &gt;&gt;/articles | json_pp&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Output:&lt;/em&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/37594579eda8a2c6fd011704bc5ebef2/68947/createdarticlecurlresult.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABJ0AAASdAHeZh94AAAAo0lEQVQY05WP2xKDMAhEUWMu5mJGY9T//9AtxMl0+tT24QwQYLNQPCJ89UhhxWoCjCNYQzCMswSlR5CxoJEj0XeueuFkaq3Yy45SKs5T6gvbVhBDRFgW5JzhnIPWujHPmj81jaeeG2SthTbvpizFGLGwSH+TmZQSpmnCMAwY2W2PPe+QDN33zW42HOVoy0qpD346tSOC3nu2/bgTxJ0ISe9fwRdJ22rTujO6+QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;CreatedArticle Output&quot;
        title=&quot;CreatedArticle Output&quot;
        src=&quot;/static/37594579eda8a2c6fd011704bc5ebef2/fcda8/createdarticlecurlresult.png&quot;
        srcset=&quot;/static/37594579eda8a2c6fd011704bc5ebef2/12f09/createdarticlecurlresult.png 148w,
/static/37594579eda8a2c6fd011704bc5ebef2/e4a3f/createdarticlecurlresult.png 295w,
/static/37594579eda8a2c6fd011704bc5ebef2/fcda8/createdarticlecurlresult.png 590w,
/static/37594579eda8a2c6fd011704bc5ebef2/efc66/createdarticlecurlresult.png 885w,
/static/37594579eda8a2c6fd011704bc5ebef2/c83ae/createdarticlecurlresult.png 1180w,
/static/37594579eda8a2c6fd011704bc5ebef2/68947/createdarticlecurlresult.png 1281w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;UpdateArticle:&lt;/strong&gt; &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;batch&quot;&gt;&lt;pre class=&quot;language-batch&quot;&gt;&lt;code class=&quot;language-batch&quot;&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token parameter attr-name&quot;&gt;-d&lt;/span&gt; &apos;{&lt;/span&gt;
   &quot;content&quot;: &quot;Oh, this is a curl update ?&quot;,
   &quot;author&quot;: &quot;CURLUser&quot;}&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt; -H &quot;Content-Type: application/json&quot; -X PUT &amp;lt;&amp;lt; your api url &gt;&gt;/articles/My%20CURL%20Article/Test | json_pp&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Output:&lt;/em&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/47dd52da522f8f4e88fac839d982964a/f663d/updatedarticlecurlresult.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 16.89189189189189%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABJ0AAASdAHeZh94AAAAaUlEQVQI142NKxbAIAwEEXwDJKEguP9FtymiqqJi30bMTpxMAV8MaYIxGHsvqHaIVFBvaDpQSkGM8U1K6e2c87lDCPDew3FnMJtUGETVRGrQI7CRQWSyAzr3L6qKtRbmnCYk+xr/jz9yA/qYQEFGSoH6AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;UpdatedArticle Output&quot;
        title=&quot;UpdatedArticle Output&quot;
        src=&quot;/static/47dd52da522f8f4e88fac839d982964a/fcda8/updatedarticlecurlresult.png&quot;
        srcset=&quot;/static/47dd52da522f8f4e88fac839d982964a/12f09/updatedarticlecurlresult.png 148w,
/static/47dd52da522f8f4e88fac839d982964a/e4a3f/updatedarticlecurlresult.png 295w,
/static/47dd52da522f8f4e88fac839d982964a/fcda8/updatedarticlecurlresult.png 590w,
/static/47dd52da522f8f4e88fac839d982964a/efc66/updatedarticlecurlresult.png 885w,
/static/47dd52da522f8f4e88fac839d982964a/c83ae/updatedarticlecurlresult.png 1180w,
/static/47dd52da522f8f4e88fac839d982964a/f663d/updatedarticlecurlresult.png 1511w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DeleteArticle:&lt;/strong&gt; &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;batch&quot;&gt;&lt;pre class=&quot;language-batch&quot;&gt;&lt;code class=&quot;language-batch&quot;&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token parameter attr-name&quot;&gt;-X&lt;/span&gt; DELETE &apos;&amp;lt;&amp;lt; your api url&gt;&gt;/articles/My&lt;span class=&quot;token variable&quot;&gt;%20CURL%&lt;/span&gt;20Article/Test&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Output:&lt;/em&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9e5d339502f41f0215232bb3521d443a/aa61c/deletedarticlecurlresult.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 34.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABJ0AAASdAHeZh94AAAA8UlEQVQoz4WR227EIAxEyRUwSYAEkcvuRun/f+TUuNpKfejm4chIaMZjWw3rCFoJIQec4cSxJbzOiOvKeDwits3jOCbEnDA9n0jMOLLGEZxzsNbCGIO2baUqZx3I8Cc5aKtRNw3cMMH7iGEYWUAMCw0L+x7LPIuJUgp1XQtVVQnlrYi7XNcXzvOFOc6IMbLYoGdx13Uittb8VCJpWMw+oHisDfu+Y+buy5KQc+aEXijmXddDa/3bpPlsqiTVk3ezH4eYpZTEbJomEJGke9eyt4KM95+h9wHruiGEIAsvgpLknehmxL+U62ht5ELN/X5u+QZh/5kLYe5GLgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;DeletedArticle Output&quot;
        title=&quot;DeletedArticle Output&quot;
        src=&quot;/static/9e5d339502f41f0215232bb3521d443a/fcda8/deletedarticlecurlresult.png&quot;
        srcset=&quot;/static/9e5d339502f41f0215232bb3521d443a/12f09/deletedarticlecurlresult.png 148w,
/static/9e5d339502f41f0215232bb3521d443a/e4a3f/deletedarticlecurlresult.png 295w,
/static/9e5d339502f41f0215232bb3521d443a/fcda8/deletedarticlecurlresult.png 590w,
/static/9e5d339502f41f0215232bb3521d443a/efc66/deletedarticlecurlresult.png 885w,
/static/9e5d339502f41f0215232bb3521d443a/aa61c/deletedarticlecurlresult.png 1065w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Perfect our API is working successfully! Let’s download our ReactJS application to test it in live :)&lt;/p&gt;
&lt;p&gt;You can find in my Github account, a sample project which is available to test your API. You can clone it via the command line (if you have git installed) : &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;batch&quot;&gt;&lt;pre class=&quot;language-batch&quot;&gt;&lt;code class=&quot;language-batch&quot;&gt;&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;git&lt;/span&gt; clone git@github.com:JStw/blog-app.git&lt;/span&gt;
// or via https :
&lt;span class=&quot;token command&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;git&lt;/span&gt; clone https://github.com/JStw/blog-app.git&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When it’s done, run an &lt;code class=&quot;language-text&quot;&gt;npm install&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Open the &lt;code class=&quot;language-text&quot;&gt;App.js&lt;/code&gt;, and put your API Gateway base URL in this line :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;API_BASE_URL&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;put your API base URL here (do not put the /)&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Before starting the app, you should enable CORS by adding the &lt;code class=&quot;language-text&quot;&gt;http://localhost:3000&lt;/code&gt; Origin. If you don’t do that, it will be impossible for your app to query your API.&lt;/p&gt;
&lt;p&gt;Navigate to the API Gateway Services, and click on the &lt;code class=&quot;language-text&quot;&gt;CORS&lt;/code&gt; option in the left menu. Edit the configuration, and add &lt;a href=&quot;http://localhost:3000&quot;&gt;http://localhost:3000&lt;/a&gt; to the &lt;strong&gt;Access-Control-Allow-Origin&lt;/strong&gt; list :
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 44.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABCElEQVQoz51R21LFIAzk/z/Nj3DGl+qM2noOECi3NcspFeub6WxhwpLsBvO5rliWV6zrhrjviDH+G0FhnHO4fW3wzmoyPA5COAlj//fyI+9jgijITSnBxFQRMiCpIeWCWitKKShjVbTWkHM+wRx5nVtb53Lf9DPPHwVPL7Xj3RZAk1ULtAm7jkJUqfMeVh1xNO3CYUHmzeYEb+sNi8KF/TycQWtd8aE6Two79A7zMWpB0Z+ViLsE7GqHce3O6IUOyywyePPKMH2wIvBqh9bqoeRnRlVnm7vKYZn2x9ngshHPe0FRdXzNq7IZbCjaeLz6LyfHnoUNBzm/Xpk6zwru1p52h2VMVkd8A9Nywoc90LXAAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;CORS&quot;
        title=&quot;CORS&quot;
        src=&quot;/static/12a59859965ea26fdb376913b55791cd/fcda8/apicors.png&quot;
        srcset=&quot;/static/12a59859965ea26fdb376913b55791cd/12f09/apicors.png 148w,
/static/12a59859965ea26fdb376913b55791cd/e4a3f/apicors.png 295w,
/static/12a59859965ea26fdb376913b55791cd/fcda8/apicors.png 590w,
/static/12a59859965ea26fdb376913b55791cd/efc66/apicors.png 885w,
/static/12a59859965ea26fdb376913b55791cd/c83ae/apicors.png 1180w,
/static/12a59859965ea26fdb376913b55791cd/fba00/apicors.png 1529w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Once it is done, save and go back to the React App project.&lt;/p&gt;
&lt;p&gt;Run &lt;code class=&quot;language-text&quot;&gt;npm start&lt;/code&gt; and when the app will run, it will open a new tab with the following URL: &lt;code class=&quot;language-text&quot;&gt;http://localhost:3000&lt;/code&gt;.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0428526e689ae48b2c17004fd645c92b/d9ed0/webapp1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 48.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABgklEQVQoz41QaU/CQBTsn9IYQSN4YPhgTPzdGpSj3FZoCvSuW1p6wPjeQhv4oHGTydudmfd2dpX75jMen15wfdfEWaWG82r9H9j7KjcPqNQauKRarTdwcXULpTecYDDWoFLtqCN0B2O01SHavSE6fTr3x7+iN2BMwDO4T5vpUFptFa+tDvqjKZlG0jScaHh77+Cj24dpe3CDEI4v/oTtfSNJcyjTLx3jzxm4TjQd2tyAsbIxN1bQFyYWpoOl5Za1AJ8L8NmgKsIICjcfG2QDpVodsLS8wxDvZOAx2Me94TqGEm8ShFGM9QF8juJNiYJnz55LTvgSxGUZPXm328E0TTiODdu2kec5isUac6y7rovj5fs+XMeRPOtxHEte4QEcdekI+QdZlslBDBoJQZphBjJVccl2u0WSJAhERN8jEFHCok8mzMngen5JcgOD92makRZQ8m3JM3ht6Hs8PygDMK8IIeSz+AkW1SAI5O0yAe1LzbLB3jRNpeZRgELjGoahDPQDwanNViQB0z4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Web App&quot;
        title=&quot;Web App&quot;
        src=&quot;/static/0428526e689ae48b2c17004fd645c92b/fcda8/webapp1.png&quot;
        srcset=&quot;/static/0428526e689ae48b2c17004fd645c92b/12f09/webapp1.png 148w,
/static/0428526e689ae48b2c17004fd645c92b/e4a3f/webapp1.png 295w,
/static/0428526e689ae48b2c17004fd645c92b/fcda8/webapp1.png 590w,
/static/0428526e689ae48b2c17004fd645c92b/efc66/webapp1.png 885w,
/static/0428526e689ae48b2c17004fd645c92b/c83ae/webapp1.png 1180w,
/static/0428526e689ae48b2c17004fd645c92b/d9ed0/webapp1.png 1415w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If the port has changed because you have already something running on the 3000 port, please edit your CORS configuration by setting the correct port in your API Gateway.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I hope this article was helpful for you like I said this is my article guys, so it will not be perfect… but if you want to send me feedback do not hesitate to contact me in DM via Twitter or my other social links :) Thank you for your time!&lt;/p&gt;
&lt;h3&gt;Go further&lt;/h3&gt;
&lt;p&gt;Now your API is working, this is some extra-work you can do :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Secure some API calls with Cognito.&lt;/li&gt;
&lt;li&gt;Send SMS / Email to your subscriber’s list&lt;/li&gt;
&lt;li&gt;Customize domain name for your API&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Serverless App with AWS in ReactJS, using Lambda & API Gateway - Part 2]]></title><description><![CDATA[Hey folks! If you didn’t read the previous post, I suggest you to read it  before continuing. If you did, let’s continue! At this step, you…]]></description><link>https://jstw.github.io/serverless-api-with-lambda-part-2/</link><guid isPermaLink="false">https://jstw.github.io/serverless-api-with-lambda-part-2/</guid><pubDate>Sat, 30 May 2020 15:00:03 GMT</pubDate><content:encoded>&lt;p&gt;Hey folks! If you didn’t read the previous post, I suggest you to &lt;a href=&quot;../serverless-api-with-lambda-part-1&quot;&gt;read it&lt;/a&gt;  before continuing. If you did, let’s continue!&lt;/p&gt;
&lt;p&gt;At this step, you normally have a beautiful database which only asking to be queried. Let’s move on to the first step.&lt;/p&gt;
&lt;h3&gt;First step: define our Lambda Role&lt;/h3&gt;
&lt;p&gt;Yeah I know, you wanted to start coding a little bit, but you have to wait again :)&lt;/p&gt;
&lt;p&gt;If you remember our architecture schema :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a712c81b450295927c99906ae5442c82/f349c/archi.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.21621621621622%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAACeElEQVQozx1SXUhTARg9u9fde3c3FLFU1BRzQ0ydZjq1/Jm/I+1uV91yztWWzrH8m3N6NzfdTKFiqSkhhFDRSyI9Bb1UCEkUSWgGhWU+9RAEQYTPcbvzg8P3PZ3vO+d8KKhoQv65BkxMReEcDQCIIflyAJQxTCu5KMPyYSbJ5KORs00uu5sytjyaZkNHBwtugWJNAk3xIfqUdYXNtq4o5KYQA3VpHfJK6qDRVsNhNaPC4gFhihJUxxQF1QQqO6fxb76MEHXAjv+s4ftk4c/fA6Rq/Yoaoijtty/B6d2DZegtZO1TNE5ra2S5xTVkuroMtl47Md5vI5LavAQaR+RH4l+UNbcSM5GIsmf+EXGYB9kDd+3JONPqnBdr99ZAQoGhyf3aUeFbdWb/LI1CXYvmjK650mJ3KQIBIdU/Gkz3LvLJroubVTOWnc9C12vu+JJ6Ee/9FfpDf/6bZ4O6FOfNDfZ2xKWIzC6ecFz/8sc5uP8jq08iLKpqKZB8bDf3OJKDQSHN7w2mD8/2pLnaX5RPmz9sCp1bTYAIcRXYHi7I2vOXuO+HB1J80TuqaHhCGYstKN1jO8OesV13at8cjacPl2TOa310Ro4GlVXVRGNJtozQWklw3XK5BhQapZjCAotlkXg3Xl781Zd/9xcH6rm3Hv7HL3EjHMKGJEG/LslojVA4OngFm90B3Xk9DPoLyGu1Ad0xmZKfoRCvti7gkoiPnkx88hWVHgjFT45GEpm1q1rEL0fOpGSp1HMBhpdC4TqtMHBmNBiMMPS6gZYFqHhBJjeGFAwXoWlTmE6QkGgap5G1Sx77yd2ildLLkMYQnSCB5YOMkg/GZ8V/fbPCWLcDHaIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Architecture&quot;
        title=&quot;Architecture&quot;
        src=&quot;/static/a712c81b450295927c99906ae5442c82/fcda8/archi.png&quot;
        srcset=&quot;/static/a712c81b450295927c99906ae5442c82/12f09/archi.png 148w,
/static/a712c81b450295927c99906ae5442c82/e4a3f/archi.png 295w,
/static/a712c81b450295927c99906ae5442c82/fcda8/archi.png 590w,
/static/a712c81b450295927c99906ae5442c82/efc66/archi.png 885w,
/static/a712c81b450295927c99906ae5442c82/c83ae/archi.png 1180w,
/static/a712c81b450295927c99906ae5442c82/f349c/archi.png 2002w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Our Client-Side App will query our API. The API Gateway will invoke some Lambda Functions, and those lambdas will interact with our DynamoDB blog table.&lt;/p&gt;
&lt;p&gt;But, to allow those interactions between our different AWS Services, we must configure an &lt;strong&gt;IAM role&lt;/strong&gt; with particular &lt;strong&gt;IAM policies&lt;/strong&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If you want to know what are the IAM roles, why we need them, I’ll provide you the link to the  &lt;a href=&quot;https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html&quot;&gt;IAM AWS Official Documentation&lt;/a&gt;. &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Let’s navigate to the IAM Service through &lt;code class=&quot;language-text&quot;&gt;Security, Identity, &amp;amp; Compliance &amp;gt; IAM&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Before creating our IAM role, we will create the policy which will be attached to our role. For that, click on &lt;code class=&quot;language-text&quot;&gt;Policies &amp;gt; Create Policy&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;By default, an explicit deny is set to all resources created in AWS. You must grant permission via IAM Policies. and attach them to your resources. If you want more information about IAM Roles, Policies, Groups, have a look &lt;a href=&quot;https://docs.aws.amazon.com/IAM/latest/UserGuide/id.html&quot;&gt;to the official documentation of IAM&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Choose the &lt;code class=&quot;language-text&quot;&gt;JSON&lt;/code&gt; editor tab and copy-paste this following JSON policy :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;dynamodb:Query&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;dynamodb:DeleteItem&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;dynamodb:GetItem&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;dynamodb:PutItem&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;dynamodb:Scan&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;dynamodb:UpdateItem&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:dynamodb:*:*:table/*/index/*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;arn:aws:dynamodb:&amp;lt;&amp;lt; put your region here &gt;&gt;:&amp;lt;&amp;lt; insert your account id here &gt;&gt;:table/blog&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;lambda:InvokeFunction&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;*&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Do not forget to change the &lt;strong&gt;region&lt;/strong&gt; and the &lt;strong&gt;account id&lt;/strong&gt; inside the &lt;strong&gt;Resource ARN&lt;/strong&gt; bloc. The region is the one selected in the AWS Console navigation bar, and your account id can be found by checking the IAM users sign-in link in the IAM Dashboard.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Finally, you can hit the Next button to review your policy, add a name, and create your policy. You should have  a screen like this :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/36efbd4cccb2c7b9b914ffd8cca06d30/68638/iampolicy.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAAA9UlEQVQoz5VR2W7EIBDj/z8w2rw02SUNZKNc5D5dTAXaVqraWnKAmYnxDKKqKvR9j/M8sa4r9n3Hd1zXFfgbBD/zPMOYHhTvus6dx3HENE2OvIQXvgr/REFXxpgg4jkMgyPd80zBv1B4q8dxYNu2L6Qzxv8DQVW6oBs6oeNlWazg6kQZYwe+husrfTc+L9j3aamUQpre8SxLaF3gLUkgswxFUUBKiczu49sNSZq6PZnYmiiKEMexq8nz/FOQaNsWj0dmxRR0UULmT7zr0rnzDpqmCU5I5hjjQ3q3QdCMG5p+DfNUSqOu6zBD1vFnPp4HR0P6PPEB80JtBNWTH8QAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;IAM Policy&quot;
        title=&quot;IAM Policy&quot;
        src=&quot;/static/36efbd4cccb2c7b9b914ffd8cca06d30/fcda8/iampolicy.png&quot;
        srcset=&quot;/static/36efbd4cccb2c7b9b914ffd8cca06d30/12f09/iampolicy.png 148w,
/static/36efbd4cccb2c7b9b914ffd8cca06d30/e4a3f/iampolicy.png 295w,
/static/36efbd4cccb2c7b9b914ffd8cca06d30/fcda8/iampolicy.png 590w,
/static/36efbd4cccb2c7b9b914ffd8cca06d30/efc66/iampolicy.png 885w,
/static/36efbd4cccb2c7b9b914ffd8cca06d30/c83ae/iampolicy.png 1180w,
/static/36efbd4cccb2c7b9b914ffd8cca06d30/68638/iampolicy.png 1510w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Let me explain a little bit about what this policy does. The first &lt;code class=&quot;language-text&quot;&gt;Effect&lt;/code&gt; will allow our resources (lambdas) to make some basics interactions with DynamoDB, for example, &lt;strong&gt;Query, Scan or PutItem&lt;/strong&gt;, etc. For these specifics actions, we should fill the ARNs of our DynamoDB table/indexes.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You always should follow one of the best practices in AWS, the &lt;a href=&quot;https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#grant-least-privilege&quot;&gt;Principle of Least Privileges&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I will not explain the second effect bloc (the &lt;strong&gt;lambda:InvokeFunction&lt;/strong&gt;) for now, I’ll keep it for later.&lt;/p&gt;
&lt;p&gt;Our IAM Policy has been created and we can finally create our IAM Role. Go back to the IAM Dashboard (&lt;code class=&quot;language-text&quot;&gt;Services &amp;gt; Security, Identity &amp;amp; Compliance &amp;gt; IAM&lt;/code&gt;). Click on &lt;code class=&quot;language-text&quot;&gt;Roles &amp;gt; Create a role&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Keep the first selected option (trusted entity), then chose &lt;code class=&quot;language-text&quot;&gt;Lambda&lt;/code&gt; and click to &lt;code class=&quot;language-text&quot;&gt;Next: Permissions&lt;/code&gt;. Search our policy previously created by typing his name and select it like below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d9777715be2c3552e071d8ef5fe52d59/fe8a7/policyrole.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.756756756756754%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABJ0AAASdAHeZh94AAAA70lEQVQY022Q646EIAyFef8n2xfYxHHUjDcU0MEL43o/WzD82bXJF9pDW1qYMQZaawzDgHVdHfu+w9t5nvhrVvP6g4/4ijR5B9ZtA/MN27aFUsrR9z2WZXGNffFxHLdc95dvjXWdhhQ1zDjSdJtrNM+zwyfdTXln0zSBlbVCEGdo3toJfjLLRivYR+xpzIcmH9zXeOx29pRSoqoqCCHBCi4QRC88whBJkpAortUpSamLhmLOS+R5jsJS5MjSFNHzSVqGOIoQUr3NYbw1KFSHIJX4fjV48g5lM/7D5lVvz4dqesSFBKdYdBNqPaEdfvALyT/MEWSeneQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;IAM Policy Role&quot;
        title=&quot;IAM Policy Role&quot;
        src=&quot;/static/d9777715be2c3552e071d8ef5fe52d59/fcda8/policyrole.png&quot;
        srcset=&quot;/static/d9777715be2c3552e071d8ef5fe52d59/12f09/policyrole.png 148w,
/static/d9777715be2c3552e071d8ef5fe52d59/e4a3f/policyrole.png 295w,
/static/d9777715be2c3552e071d8ef5fe52d59/fcda8/policyrole.png 590w,
/static/d9777715be2c3552e071d8ef5fe52d59/efc66/policyrole.png 885w,
/static/d9777715be2c3552e071d8ef5fe52d59/c83ae/policyrole.png 1180w,
/static/d9777715be2c3552e071d8ef5fe52d59/fe8a7/policyrole.png 1223w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;You can now click on the &lt;code class=&quot;language-text&quot;&gt;Next: Tags&lt;/code&gt; and click on &lt;code class=&quot;language-text&quot;&gt;Next: Review&lt;/code&gt; to finally give a name to your role and create it.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0e4fe6d90009bcd47c37629bd3129650/85053/createrole.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 64.1891891891892%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAABaklEQVQ4y41TSVLEMAzM33kIL+DEFzhx4wccoCphJuPdsbO4kWw85UnYVNWl2JE7rbbSWWshpQTnbdvwU6SUMvZ767oibSukDXh47tGN4wghRH6xLEspoEImL0jXD1XSFrVuoXPSzei89zDGZLBKzn3fYzyfcTqdMAxDhtbqizgxc9XYoES3b40VTtOEECOE0rhIBaUNhNQ5a2OhrcMUIlZSvxDa3LXyOVihlALKOAjtIIlE6kIilMlrRWveiwu3mjCvhXCat1uFrelUAx+3fGiPUJ+pKC4FTHolbBXyxczznMGeWlJmKHOrnLlVP4WcSVRus2IjjgMhXxJfhiTvuE1lChmThxDwVxw85GB1jlTYmKCmFX5Oh3ksOI7SjYfOuTyTSqn87J0luAJS/ts8Xgn5IBPUP4U9rAPegt+1XeyJsod1bLiYD/0V39lz8JBb5H+Zo6r4Dz50pEvzOA/veHm94O7xDfdPAz4B6kr732dvFyMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;IAM Role created&quot;
        title=&quot;IAM Role created&quot;
        src=&quot;/static/0e4fe6d90009bcd47c37629bd3129650/fcda8/createrole.png&quot;
        srcset=&quot;/static/0e4fe6d90009bcd47c37629bd3129650/12f09/createrole.png 148w,
/static/0e4fe6d90009bcd47c37629bd3129650/e4a3f/createrole.png 295w,
/static/0e4fe6d90009bcd47c37629bd3129650/fcda8/createrole.png 590w,
/static/0e4fe6d90009bcd47c37629bd3129650/efc66/createrole.png 885w,
/static/0e4fe6d90009bcd47c37629bd3129650/c83ae/createrole.png 1180w,
/static/0e4fe6d90009bcd47c37629bd3129650/85053/createrole.png 1225w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Good job! Your role is now ready to be used. I think it’s time for coding!&lt;/p&gt;
&lt;p&gt;You can now navigate to the Lambda Service trough: &lt;code class=&quot;language-text&quot;&gt;Services &amp;gt; Compute &amp;gt; Lambda&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;Second step: Create our lambda functions&lt;/h3&gt;
&lt;p&gt;We will start to create a first Lambda Function which will read out the content of our DynamoDB blog table.&lt;/p&gt;
&lt;p&gt;So hit the &lt;code class=&quot;language-text&quot;&gt;Create Function&lt;/code&gt; button and keep the selected creation option (Author from scratch). Choose a name for your Lambda Function, &lt;code class=&quot;language-text&quot;&gt;GetArticles&lt;/code&gt; for example, and go for the &lt;code class=&quot;language-text&quot;&gt;Python 3.8&lt;/code&gt; language runtime.&lt;/p&gt;
&lt;p&gt;Before creating our function, one last important step is to select our IAM Role previously created. Open the Permissions just below, click on &lt;code class=&quot;language-text&quot;&gt;Use an existing role&lt;/code&gt; and select your service role from the selected list like this:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0cef0d74d8b2190f77db61124d3f33f4/fbfd6/lambdarole.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.72972972972974%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABLElEQVQoz5VSi46DIBD0/7/zrKdSLW8UcG8Hxdiml7QkkxXEcXZmGyEEtW1LPwxrLcUYaV3XgmVZvkYjpaRxFGSMpRBwuBPlnGnbtlK/QaO1KYTWOYYnx8Cz855SSuVS+gC4h9UopUhMDyYI5BkggspKBpWfIDMKoZSK+mGkwCSRSeDh2W5t+dp6Pd/y07t1jTshWp7mmaRx5RBhBPbQh1AqfMUzVNd9xXLsF/4GCyIatAiVSFgbU5DeBFL3r76ly/tCCLKBW1ZK74Ss2FrHfvozcdihPFuSd5/erZNw1o6634Fn8UbiPtE8P+jO1XHS14uJyf6nuxBC2cjDDQL4AQugEOEg6VfEeNQa4EFUVxnsW9exyp76fiDFLaPVOkIIBLiOVa1A/TECkzyCf//VXauUcQMnAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Lambda use role&quot;
        title=&quot;Lambda use role&quot;
        src=&quot;/static/0cef0d74d8b2190f77db61124d3f33f4/fcda8/lambdarole.png&quot;
        srcset=&quot;/static/0cef0d74d8b2190f77db61124d3f33f4/12f09/lambdarole.png 148w,
/static/0cef0d74d8b2190f77db61124d3f33f4/e4a3f/lambdarole.png 295w,
/static/0cef0d74d8b2190f77db61124d3f33f4/fcda8/lambdarole.png 590w,
/static/0cef0d74d8b2190f77db61124d3f33f4/efc66/lambdarole.png 885w,
/static/0cef0d74d8b2190f77db61124d3f33f4/c83ae/lambdarole.png 1180w,
/static/0cef0d74d8b2190f77db61124d3f33f4/fbfd6/lambdarole.png 1357w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Then create your function. you will be redirected to your Lambda.&lt;/p&gt;
&lt;p&gt;Scroll down a little bit to your Lambda Code Editor. In this Lambda, we just want to retrieve all Articles from our table. For that, we will use the &lt;code class=&quot;language-text&quot;&gt;Scan&lt;/code&gt; operation that will just basically reads every item in a table. (More information &lt;a href=&quot;https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Scan.html&quot;&gt;here&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Copy/paste this following code in the editor :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# Boto is the Amazon Web Services (AWS) SDK for Python&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; boto3

&lt;span class=&quot;token comment&quot;&gt;# To interact with DynamoDB, I just need to specify what resource I will use from boto3 (here: dynamodb)&lt;/span&gt;
dynamodb &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;resource&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dynamodb&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Now I specify which table in DynamoDB I want to interact with.&lt;/span&gt;
table &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; dynamodb&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Table&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;blog&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambda_handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# Here, I will use a scan operation, to retrieve ALL my table items.&lt;/span&gt;
        response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; table&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scan&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        
        &lt;span class=&quot;token comment&quot;&gt;# Finally, I just return all the Items I found.&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Items&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;except&lt;/span&gt; Exception &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# If an exception was thrown, I just catch it to print a log, and then I raise the error.&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;An error occurred while retrieving Movies table.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;raise&lt;/span&gt; e&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;No more explanations needed for this code, it’s quite simple, we just import the boto3 library to use the Dynamodb client. We surround our scan operation with the try/catch operator and finally, we return the Items.&lt;/p&gt;
&lt;p&gt;You can now this Lambda code by clicking &lt;code class=&quot;language-text&quot;&gt;Save&lt;/code&gt; at the top of the page, and now it’s time for testing :)&lt;/p&gt;
&lt;p&gt;Just near the Save button, you can create a &lt;code class=&quot;language-text&quot;&gt;Test Event&lt;/code&gt; to trigger our function handler.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;FYI: Every AWS Lambda function contains at least 2 parameters :&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;event&lt;/strong&gt; – AWS Lambda uses this parameter to pass in event data to the handler.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;context&lt;/strong&gt; – AWS Lambda uses this parameter to provide runtime information to your handler.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Click on the &lt;code class=&quot;language-text&quot;&gt;Test&lt;/code&gt; button, choose an event name (For example TestGetItems), and leave the rest as is. Your &lt;code class=&quot;language-text&quot;&gt;TestGetItems&lt;/code&gt; is now part of your test events. Ready to test your lambda? Push the test button again ;)&lt;/p&gt;
&lt;p&gt;Normally you should see a success box like this :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7490e24607018932f2231dbd1ee9b52b/bf8c1/getarticleslambdatest.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 43.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABPUlEQVQoz5VRa2/CMAzM//+HmwQaUPrOw2mS0lK42YGibmgfFunk2r67Oo762H1if9ijtz00aRhv4YKDGwSPb0MGnenQMjrLUbfoXc95C588LGu001mjSlPgUH/h3J9wbI4obQ0T+yf0I4b+VbOJhaPJIIbka00zT5mBE+8wpAFD9PCBHtNxzY8JFDyIc+I6DYRxSpiWC6brBpxLXbxUmiPIEbTmP1mHECJSGrEsC/5zluvCa+jYcAqIbEJE2WyeZ9xv93fF/Ym/Dvco8g5tMPlK45yQpojAV79cxzfka27wuy968VKlLrAvdqhMidpWaBgdNbxw+1w8x2Rwao+o9Bm1qXK0/GArZ8tTYlDrkl9SZ5JAGv7iXpC8aE/QQ5eFq9mWs/JUzZNVbCikbVMEq0iiGBY8ZeuaH/VtFMNvI1qznMJzE7UAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Lambda GetArticles Success&quot;
        title=&quot;Lambda GetArticles Success&quot;
        src=&quot;/static/7490e24607018932f2231dbd1ee9b52b/fcda8/getarticleslambdatest.png&quot;
        srcset=&quot;/static/7490e24607018932f2231dbd1ee9b52b/12f09/getarticleslambdatest.png 148w,
/static/7490e24607018932f2231dbd1ee9b52b/e4a3f/getarticleslambdatest.png 295w,
/static/7490e24607018932f2231dbd1ee9b52b/fcda8/getarticleslambdatest.png 590w,
/static/7490e24607018932f2231dbd1ee9b52b/efc66/getarticleslambdatest.png 885w,
/static/7490e24607018932f2231dbd1ee9b52b/c83ae/getarticleslambdatest.png 1180w,
/static/7490e24607018932f2231dbd1ee9b52b/bf8c1/getarticleslambdatest.png 1722w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Well, I think we can claim our first beer, we successfully created our first lambda which reads our DynamoDB items, congrats!&lt;/p&gt;
&lt;h3&gt;Third step: Create the other lambda functions&lt;/h3&gt;
&lt;p&gt;The other Lambda will represent all the CRUD operations you can found in an API. Remember, the goal is to call these Lambda functions with API Gateway.&lt;/p&gt;
&lt;p&gt;So this is what is remaning for our Lambda :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Retrieve all blog articles (GetArticles - done)&lt;/li&gt;
&lt;li&gt;Find an article by title and category (FindByTitleAndCategory - TBD)&lt;/li&gt;
&lt;li&gt;Create an article (CreateArticle - TBD)&lt;/li&gt;
&lt;li&gt;Update an article (UpdateArticle - TBD)&lt;/li&gt;
&lt;li&gt;Delete an article (DeleteArticle - TBD)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let’s move on! Go back to the main Lambda screen, by clicking &lt;code class=&quot;language-text&quot;&gt;Services &amp;gt; Compute &amp;gt; Lambda&lt;/code&gt;. Then, do the same job as you did before by clicking &lt;code class=&quot;language-text&quot;&gt;Create Function&lt;/code&gt;. Keep the same settings we did for the &lt;strong&gt;GetArticles&lt;/strong&gt; Lambda function.&lt;/p&gt;
&lt;p&gt;This time, we will tackle our second lambda in the list, the &lt;code class=&quot;language-text&quot;&gt;FindByTitleAndCategory&lt;/code&gt;. Lambda settings should be the same :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/20859cd36e1fe92e375b56f725693773/b5a09/findbytitlecategory.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.72972972972974%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABIUlEQVQoz51Ti26DMBDL/3/mHmIlaYCEvCDg+UKZJk3b2iJZkeDw+eyLstai6zr0vUaMEbWuWJblaSg/z9DGwHmPnDNR2lm3DTuAfd/vB+sbYa8NzNViDgExJYSYqDZhXSs2Etd/sN0gpMo5B02yVBaUUhqhSH9IGSHEaAo5quHIIeUfXeud6mqtnGY9CEOIGMeJHobmX2o+5m9+8h2bFU5w+pvOb+Wol8lw81tJssMwINC/mX6Kp7VuXwWPQg2Tw9t7hwvXxtoBwzjCsoFzvnU+lU6Ra3FHI+VixoUp91q30SeGJKeM+MyjPAmuDEWUlObH4Ulh0uLRn5B9ZSCiTMJpiz0xjNcPg5dON+jRtz2UsOSnZZWb8/vtEUJJW+okj0+rCl3HdhvskgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Lambda FindBy Settings&quot;
        title=&quot;Lambda FindBy Settings&quot;
        src=&quot;/static/20859cd36e1fe92e375b56f725693773/fcda8/findbytitlecategory.png&quot;
        srcset=&quot;/static/20859cd36e1fe92e375b56f725693773/12f09/findbytitlecategory.png 148w,
/static/20859cd36e1fe92e375b56f725693773/e4a3f/findbytitlecategory.png 295w,
/static/20859cd36e1fe92e375b56f725693773/fcda8/findbytitlecategory.png 590w,
/static/20859cd36e1fe92e375b56f725693773/efc66/findbytitlecategory.png 885w,
/static/20859cd36e1fe92e375b56f725693773/c83ae/findbytitlecategory.png 1180w,
/static/20859cd36e1fe92e375b56f725693773/b5a09/findbytitlecategory.png 1360w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Do not forget to attach our IAM role.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Copy/paste this following Python code :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; boto3
&lt;span class=&quot;token comment&quot;&gt;# This new import will be used to specify which DynamoDB Key we use in the KeyConditionExpression.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dynamodb&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;conditions &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Key
 
client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;resource&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dynamodb&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
table &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Table&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;blog&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambda_handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# I&apos;ll explain you later why we take these values from the event &quot;pathParameters&quot; property.&lt;/span&gt;
        title &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;pathParameters&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        category &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;pathParameters&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;category&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        
        &lt;span class=&quot;token comment&quot;&gt;# This time, we will use the query operation.&lt;/span&gt;
        response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; table&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;query&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            ProjectionExpression&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;title, category, author, content, createdAt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            KeyConditionExpression&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;Key&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;eq&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; Key&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;category&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;eq&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;category&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
       
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Items&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;except&lt;/span&gt; Exception &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;An error occurred while retrieving an item in blog table.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;raise&lt;/span&gt; e&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In this lambda, we just need to specify which fields we want to expose in our response thanks to the &lt;code class=&quot;language-text&quot;&gt;ProjectionExpression&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The second one (the most important) is the &lt;code class=&quot;language-text&quot;&gt;KeyConditionExpression&lt;/code&gt; which will determine our conditional query expression (which article we want to query).&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You can find &lt;a href=&quot;https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Query.html&quot;&gt;here&lt;/a&gt; the official documentation of a Query operation.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Save your function, add a new test event but this time we will have to change a little bit the test event content by adding the requested params (title and category) :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/228597a51ece3eaf826ea0a6e71373b8/8f0f9/findbytest.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 47.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABF0lEQVQoz52RbU+DMBSF+f//TDeXGGPYDCQyZMCwsEJfgBaOtwWn+7iRPDntue25NzSo6wZRHOMzSXA8psjzHMMwYBzHu3B3OG8RDEMPKSWUUh4p1XX/XwWhtb7x/tYLLjhgvEOSZsiyE9L0C0VRoqoqlOUZvG3R9/21mVu7UK2dp7237BeMMRTYaXBBEwhBAZ2/9OhnrUWgqQvnHM2Fw5AxTdPCPC9M8603/fqrt9Zn8vyEikb9ZswHuqKlorX34QJ7ehRH4H4mo0ClOupiaPDpYaylCXWvUZQMUcKQZC3OjSHsXVSrdpJeWYgWH/EJm1Dh+V1gG0rs9tLr9sCx2fNVL9gdJJ7ozIvTsCZt8RaPntdopOARP41Ft5oJKzGHAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;FindBy test event&quot;
        title=&quot;FindBy test event&quot;
        src=&quot;/static/228597a51ece3eaf826ea0a6e71373b8/fcda8/findbytest.png&quot;
        srcset=&quot;/static/228597a51ece3eaf826ea0a6e71373b8/12f09/findbytest.png 148w,
/static/228597a51ece3eaf826ea0a6e71373b8/e4a3f/findbytest.png 295w,
/static/228597a51ece3eaf826ea0a6e71373b8/fcda8/findbytest.png 590w,
/static/228597a51ece3eaf826ea0a6e71373b8/efc66/findbytest.png 885w,
/static/228597a51ece3eaf826ea0a6e71373b8/8f0f9/findbytest.png 1045w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Do not pay attention to our test event structure, but please respect it.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Once your event has been created, just hit the Test button again and let’s see what we received :)&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1667a05bf6e5695273471845d00f3095/bf8c1/findbyresult.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAABG0lEQVQoz5WRi27CMAxF+/8/CGIa0xiBtnmn5NFSuLNTqolt0rRKR7Z7oxvbaTYvW2x2W+xed1BOww3umYtDryWkUeh0D2lVrRXFVrb1jPGmwnnzdtrjbASEPOAgBdQgYS5EVNDMI1//2USXMpkxtV5RQ49G164sPHUyRI9AcO3iAMsEs9SPM/maUK6ZIjEt+YpPFk28RFhjYa1DShkxJkzTBNzv+O8XMo2cyYTNDJkGHzCWEbf59tPv/uAvQ+M1tZswzgVlzhhvZRmJxnmCR52/xvtNd8nQo4g9hDrSw5xw1qJGXr7Pti49FIvetTh072jtGS3pXLPuSWdcjbS2qNGclKjONi5wzmIorsZh9OjI6Nh/VG2F9e+w4Sdei2cbBTQO9wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;FindBy test event&quot;
        title=&quot;FindBy test event&quot;
        src=&quot;/static/1667a05bf6e5695273471845d00f3095/fcda8/findbyresult.png&quot;
        srcset=&quot;/static/1667a05bf6e5695273471845d00f3095/12f09/findbyresult.png 148w,
/static/1667a05bf6e5695273471845d00f3095/e4a3f/findbyresult.png 295w,
/static/1667a05bf6e5695273471845d00f3095/fcda8/findbyresult.png 590w,
/static/1667a05bf6e5695273471845d00f3095/efc66/findbyresult.png 885w,
/static/1667a05bf6e5695273471845d00f3095/c83ae/findbyresult.png 1180w,
/static/1667a05bf6e5695273471845d00f3095/bf8c1/findbyresult.png 1722w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This time, we just received 1 item based on the value passed in the test event. Our FindBy Lambda is now operational!&lt;/p&gt;
&lt;p&gt;Let’s move on, and make the &lt;code class=&quot;language-text&quot;&gt;CreateArticle&lt;/code&gt; one. The same process like before, create a new Lambda function with the same settings.&lt;/p&gt;
&lt;p&gt;Copy/paste this following code :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; json
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; boto3
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; datetime &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; datetime
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; botocore&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exceptions &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; ClientError
        
dynamodb_client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;resource&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dynamodb&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
table &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; dynamodb_client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Table&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;blog&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

lambda_client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;lambda&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambda_handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# here, we want to handle both cases: if we receive a body as string, or a body as object.&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;body&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            body &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; json&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;loads&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;body&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            body &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;body&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        
        &lt;span class=&quot;token comment&quot;&gt;# we extract this 2 properties to retrive the item inserted after.&lt;/span&gt;
        title &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; body&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;author&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        category &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; body&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;category&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        
        createdAt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; datetime&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;now&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strftime&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;%Y-%m-%dT%H:%M:%SZ&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        
        response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; table&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;put_item&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            Item&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&apos;title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&apos;category&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; category&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&apos;author&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; body&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;author&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&apos;content&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; body&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;content&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&apos;createdAt&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; createdAt
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        
        &lt;span class=&quot;token comment&quot;&gt;# According to the documentation, We can set a ReturnValues=&apos;ALL_NEW&apos; property in our PutItem operation.&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# But the the ALL_NEW isn&apos;t accepted for put_item.&lt;/span&gt;
        
        &lt;span class=&quot;token comment&quot;&gt;# The other solution is to re-query our database to get the item created.&lt;/span&gt;
        
        &lt;span class=&quot;token comment&quot;&gt;# But, re-query the DB is just re-triggering the same Job we did&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# in our FindByTitleCategory lambda.&lt;/span&gt;
        
        &lt;span class=&quot;token comment&quot;&gt;# We have the possibility to invoke another Lambda in our Lambda&lt;/span&gt;
        invoke_response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; lambda_client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;invoke&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            FunctionName&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;FindByTitleCategory&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            InvocationType&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;RequestResponse&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            Payload&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;json&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dumps&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;pathParameters&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;category&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; category&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        
        &lt;span class=&quot;token comment&quot;&gt;# Finally, we need to convert our response in an object and return the&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# payload received from our Lambda&lt;/span&gt;
        item &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; json&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;loads&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;invoke_response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Payload&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;decode&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;except&lt;/span&gt; ClientError &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;An error occured while trying to insert a new movie&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;raise&lt;/span&gt; e
        
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; item&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Before configuring our test event, just some clarifications about this portion of code: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;First, to retrieve the body sent by the POST action, we want to handle the fact that the object passed in the body can be an object, but also a stringified object. That’s why we check the type of &lt;code class=&quot;language-text&quot;&gt;event body&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Then, we use the &lt;code class=&quot;language-text&quot;&gt;put_item&lt;/code&gt; operation by simply passing the Item that we want to insert in the database.&lt;/li&gt;
&lt;li&gt;Finally, the official documentation is not clear, but it’s impossible to retrieve the item created when we use the &lt;strong&gt;put_item&lt;/strong&gt; action. We need to query the DB again. But if you remember, we created already a Lamba (&lt;strong&gt;FindByArticleAndCategory&lt;/strong&gt;) which is doing exactly what we want to retrieve an item. That’s why we added the &lt;strong&gt;Lambda:InvokeFunction&lt;/strong&gt; policy in our IAM Role :) So when the &lt;strong&gt;put_item&lt;/strong&gt; is done, we just invoke our &lt;strong&gt;FindByArticleAndCategory&lt;/strong&gt; Lambda Function to retrieve our article created by providing his title and his category. It’s not the only way, and probably the right way to do that, but it’s one of the possibilities to do it. The other one is to query directly the database as we did in the FindByArticleAndCategory Lambda,.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ok so let’s create our test event :
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/12e4b13574727a42d9caeaecd02288ee/fd84e/createarticletest.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.72972972972974%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABOUlEQVQoz52S2W6DQAxF+f9frBRVZAGG2Td2bm2SIJKXNh3pCNtYd2yPixACyvMZl8sVVV2jqir0w4BxHD+i73uwVpFzhtYa2hhY6wgLjnFC13U7mbjHXuPvfpFyh6oRaIi6aSBEu8G+MRYpJcQYN9g+co+n/d84TShc6nCVliozUNrAeY91XbEsCz49EwtymazuqX+eBYsxfJ72X9gFeTbcmlQK8zxvlc3E8iFcTEcz3gQVPYpzDtND8L+w6C4opaS2/UvCPC9b1dNvUKucNzwFhRBQxkNqj0Av5mNASAExp43huZfDgYc/HHaWbVqbvAnyPp1KifLW4lR/4+t2gjAtat1AOQUbLLSnLYgehr5sG4oxymm6OD5aJsGyPENIA6EiWh1Q0QPViuYaMgklEogH3v07nJepqB/XLFa8yvLoTQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;FindBy test event&quot;
        title=&quot;FindBy test event&quot;
        src=&quot;/static/12e4b13574727a42d9caeaecd02288ee/fcda8/createarticletest.png&quot;
        srcset=&quot;/static/12e4b13574727a42d9caeaecd02288ee/12f09/createarticletest.png 148w,
/static/12e4b13574727a42d9caeaecd02288ee/e4a3f/createarticletest.png 295w,
/static/12e4b13574727a42d9caeaecd02288ee/fcda8/createarticletest.png 590w,
/static/12e4b13574727a42d9caeaecd02288ee/efc66/createarticletest.png 885w,
/static/12e4b13574727a42d9caeaecd02288ee/fd84e/createarticletest.png 1056w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Before testing our Lambda Function, because this one is a little bit more “tricky” than the other one, it’s possible to have some timeout when executing it. To avoid this problem, I suggest for this example to increase a little bit the “default” lambda settings. For that, change default timeout timer, up 3 to 10 seconds in the Lambda settings :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/29749a014314a0e79755c72ee3b176b4/d0143/lambdatimeout.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 64.86486486486486%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAABe0lEQVQ4y5VT2XKDMAzk/z+uX5BOH0JzcAUb4xu2koB0kjA9PLMjYePV6nDRNA3KssTh8I6a/JQSQgj/RiRY61CYcYRSCkprDMMghDnnP2GaJmTG6jNx4byHMQZsRyLPecI8zy/gCxvyap8XiynG0ZJCje6mYFxYUo4RUZBWG4VgL9AGXpEJOc2+76EpZaUN1cGKUssgf/tOKZL6RMQZLILB64WQfx4GSjlm2sp0SHbekrg7D2rSWsNdQuecqDB2oqhvtPkB7+cHsp/WbspVXaNtO/gQpX5SQzoUxKcxojPjCD7diR4IK2Vxqlqcz2ccjyW67iYl4M5rCuZ5xtJ3czjAGBJsyPuEnsZFrzO4NMAKGdeW97nrv6W7gQMWfOlYflLajUw6z6P3AV6sh6Uaj2sg57z8w+Dv+5ldfM6mYOdS1ThdrmLrpkV760l+FnUC7urDi4hyWelB0tzWMjY0zM3gUWmHK9Xz2ltUyqEz9HLsooAV7w0zB3ju8hfE2PlCAIcwGgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Increase Lambda Timeout&quot;
        title=&quot;Increase Lambda Timeout&quot;
        src=&quot;/static/29749a014314a0e79755c72ee3b176b4/fcda8/lambdatimeout.png&quot;
        srcset=&quot;/static/29749a014314a0e79755c72ee3b176b4/12f09/lambdatimeout.png 148w,
/static/29749a014314a0e79755c72ee3b176b4/e4a3f/lambdatimeout.png 295w,
/static/29749a014314a0e79755c72ee3b176b4/fcda8/lambdatimeout.png 590w,
/static/29749a014314a0e79755c72ee3b176b4/efc66/lambdatimeout.png 885w,
/static/29749a014314a0e79755c72ee3b176b4/d0143/lambdatimeout.png 1025w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Same as DynamoDB’s RCU and WCU, if you want to use this Lambda in a real production stage, please adapt the settings in consequence (Memory, timeout, etc.).I provide you a great article for &lt;a href=&quot;https://medium.com/@raupach/choosing-the-right-amount-of-memory-for-your-aws-lambda-function-99615ddf75dd&quot;&gt;choosing the right amount of memory for an AWS lambda&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I think we can test our Create Lambda function, so hit the Test button and you should have this result :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9b04afd01908050b0149d2b90cff9306/0f903/createresult.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 42.567567567567565%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABS0lEQVQoz4WRCW6DMBBFff8DtlLVZiMQ8I6NWUN+x4aQIFWqpadZ/D32eNjH1ycuRQbjDFStYb3dUTcWXHEILVCtlisBaSRKUSaNpnN6PcuOxRG5vOJSnnAWOaQXUA0R5EIjNjTFplUbttO7WHoOdtMSgl4nnIWiG6LlNcWNA/eefA1BccqRru4D3NAm3v2ICgbM+wBjqD1bow0t+r7HNE6JcRwxTYud5wf+WyJQy76hytpAU9HaeXT9gPs8Y7rvuVPBWPMvHqsV9N+sNApubOHHbnn62O7a2JF0r3Z3DAGy0WCH7BuFzFCZApUuIB2H6+mv6MMj0ee2RFadSXNDqfMUvzRm01kaDLupghyaVqBJBRp9a2iT2o90Fn6oqUBFl+bpcNyP+qfGrbpoDeVZVl1ouiIl3CYwm10Kljhcf5CLjCbOU+6pedfHgr8jM7HnQOZ2dAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Create Article success&quot;
        title=&quot;Create Article success&quot;
        src=&quot;/static/9b04afd01908050b0149d2b90cff9306/fcda8/createresult.png&quot;
        srcset=&quot;/static/9b04afd01908050b0149d2b90cff9306/12f09/createresult.png 148w,
/static/9b04afd01908050b0149d2b90cff9306/e4a3f/createresult.png 295w,
/static/9b04afd01908050b0149d2b90cff9306/fcda8/createresult.png 590w,
/static/9b04afd01908050b0149d2b90cff9306/efc66/createresult.png 885w,
/static/9b04afd01908050b0149d2b90cff9306/c83ae/createresult.png 1180w,
/static/9b04afd01908050b0149d2b90cff9306/0f903/createresult.png 1719w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Nice, the most difficult Lambda part has been done! The other one will be easier.&lt;/p&gt;
&lt;p&gt;Let’s tackle the &lt;code class=&quot;language-text&quot;&gt;UpdateArticle&lt;/code&gt; Lambda. Create a new lambda and provide this code :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; json
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; boto3
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; botocore&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exceptions &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; ClientError
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dynamodb&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;conditions &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Key
        
dynamodb_client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;resource&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dynamodb&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
table &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; dynamodb_client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Table&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;blog&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambda_handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;body&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            body &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; json&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;loads&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;body&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            body &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;body&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        
        &lt;span class=&quot;token comment&quot;&gt;# here we retrieve the same parameters as the FindBy lambda&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# to identify what item to update.&lt;/span&gt;
        title &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;pathParameters&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        category &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;pathParameters&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;category&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        
        &lt;span class=&quot;token comment&quot;&gt;# we will use the update_item in this case&lt;/span&gt;
        response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; table&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;update_item&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            Key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&apos;title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&apos;category&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; category
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            UpdateExpression&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;set content = :content, author = :author&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            ConditionExpression&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;title = :title AND category = :category&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            ExpressionAttributeValues&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&apos;:title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&apos;:category&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; category&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&apos;:content&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; body&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;content&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&apos;:author&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; body&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;author&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            ReturnValues&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ALL_NEW&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Attributes&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;except&lt;/span&gt; ClientError &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Error&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Code&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ConditionalCheckFailedException&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Error&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Message&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;raise&lt;/span&gt; e&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For this portion of code, we will need the primary key identifier to determine which object we want to update.&lt;/p&gt;
&lt;p&gt;Remember, when we created our DynamoDB table, we specified a &lt;strong&gt;partition key&lt;/strong&gt; (title), and a &lt;strong&gt;sort key&lt;/strong&gt; (category) which represents our &lt;strong&gt;primary key&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;It means that if we want to perform some actions in a particular item in our table, we have to specify these two properties.&lt;/p&gt;
&lt;p&gt;Good news: For the &lt;strong&gt;update_item&lt;/strong&gt; operation, we can specify the &lt;code class=&quot;language-text&quot;&gt;ReturnValues=&amp;quot;ALL_NEW&amp;quot;&lt;/code&gt; property which will return the complete object updated.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You have also the possibility to return only the attributes changed by changing the ReturnValues value. &lt;a href=&quot;https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_UpdateItem.html#API_UpdateItem_RequestSyntax&quot;&gt;See here&lt;/a&gt; the possible values of the &lt;strong&gt;ReturnValues&lt;/strong&gt; property.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In this lambda, I decided to update my item with Conditional Expressions. It means that it will update my item only if it respects the &lt;strong&gt;ConditionsExpressions&lt;/strong&gt;. If not, it will raise a &lt;strong&gt;ConditionalCheckFailedException&lt;/strong&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You can have a look at what are &lt;a href=&quot;https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.ConditionExpressions.html&quot;&gt;conditions expressions&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Let’s configure our test event and test it just after :
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b168a192c163c9343552cfe23f341811/ee9b6/updatetest.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 32.43243243243243%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABJ0AAASdAHeZh94AAAA4ElEQVQY052RzW6FIBSEef8HbLppF96qIPInCgLq9KC9N71t0kUXX4aZQ4bkwEIIUFrDGIuybdj+w74j5YyUEliMkcoMajGOAwcNj6q/2P/ManEpBWzwC16aDu98QGcnmLw9YfP+Qy8eWaJzKlCkds1gdvJoeoGb9IRDr2cIs6BTHp1xhL1UW/RVa14h/6EMBjtj9AFyCvBxBXPOgXMOLie8vgm0QqERLfiowJXEbejRSpqr4UQofc5q1o3ivKOpYwnx2uHkPaSUZFbMS0SI9NLiT59p0c+kb2SUr4+4U7NPHyPPX38Dh/wAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Update Article Test Event&quot;
        title=&quot;Update Article Test Event&quot;
        src=&quot;/static/b168a192c163c9343552cfe23f341811/fcda8/updatetest.png&quot;
        srcset=&quot;/static/b168a192c163c9343552cfe23f341811/12f09/updatetest.png 148w,
/static/b168a192c163c9343552cfe23f341811/e4a3f/updatetest.png 295w,
/static/b168a192c163c9343552cfe23f341811/fcda8/updatetest.png 590w,
/static/b168a192c163c9343552cfe23f341811/efc66/updatetest.png 885w,
/static/b168a192c163c9343552cfe23f341811/ee9b6/updatetest.png 1041w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;As you can see, this is what we received :
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3cb38152c91c940a7100947b68c06cda/4ed6a/updatesuccess.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.189189189189186%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAABMUlEQVQoz4WR126DQBBF+f8/TBQsEdPMNrbB2pSb2cH1KUhHs0zXneKr/EZZnSCMgLIaxhuMYSTI3t85Jo3EoIdPqwbYaKlOQTvNucXvpUKnGrSyxlk0kEHCRAkdKWki+H2Q/eOsn1jCUM54t8INKKQWEIq2MwrW02YuY2CDp4nheHsLFyz85HFbr7gu6QX9Z19aZuigUHgfoCRNNFTgPNKcsK0bsy4rltuKfdvx37fvOzWUKBxpEGhynANiijztttEW6zE924fv3X5sSczLdDQszz+ohzOGscfFdOh1C+lJ7JkOMpFOyXAs5+R4S3oLe2H/oaNhLbPlhp1soL3kYkOHyOSgSyPjr5Ya9XS49jkk84i/wxpWXcUFudEj2cRX8/zf6w6nukQjar7k+/AXmmN/4DVkcQf0y8EAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Update Article Test Event&quot;
        title=&quot;Update Article Test Event&quot;
        src=&quot;/static/3cb38152c91c940a7100947b68c06cda/fcda8/updatesuccess.png&quot;
        srcset=&quot;/static/3cb38152c91c940a7100947b68c06cda/12f09/updatesuccess.png 148w,
/static/3cb38152c91c940a7100947b68c06cda/e4a3f/updatesuccess.png 295w,
/static/3cb38152c91c940a7100947b68c06cda/fcda8/updatesuccess.png 590w,
/static/3cb38152c91c940a7100947b68c06cda/efc66/updatesuccess.png 885w,
/static/3cb38152c91c940a7100947b68c06cda/c83ae/updatesuccess.png 1180w,
/static/3cb38152c91c940a7100947b68c06cda/4ed6a/updatesuccess.png 1713w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;And if we check our DynamoDB blog table :
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/79233c457756de4feb53269d72c47be7/e8d6f/tableupdated.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 49.32432432432432%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAACEUlEQVQoz3WSW2saURDH9zsp4qMXVMRHn/wMKWkDpqCC+B7fTH0ubdrEYqUQKIQ2rmDwsm6a9KVQW6i0RNfLXtS9edt/Z7cm0CY98OM/M+fsnNkzw6hTCbo6x8qYYWEaMIyH0XX9ntr0ej10u1/xg3QwEMA0v/RR+/wTN+SMhAEmkwkkSYIoThzbRpZlCIJAMRGj0cjxh8Mh+v0+2QrG4xEk0rlmgClzAl5c3KD7S6SNMczFCrAsbDabv7C2sVv9dymKgulUAVOtVnHO1lA5fY/TMxZnH1nU63U0m000Go0HabfbqFQqKBQKKBaLyB8cIJ/P4/DwGZidnUdIJpNIpVLIpFN4vLuLJ3t7yGQySKfT97DPZbNZJBIJuFwueDweeL1euN1u+P1+MOFwGBEil8thf/+pEwwGg47aBAIB+Hy+O9tW2w+FQojFYohGow6RSATxeBwMx3H4cF7F5acrXF9fgec7qNXoty/qaLVaYFkW/CWP9tZutZrguDY6nY6jt9jPwPM8mPXGgqwtoS4sWNsH1nUDq9Xm7rHX6z87mqYRBkxzjf8tRjdNCIqK8WwKczmhkETdkmjWplguDUooky1isZg5oyTLAk3DNxqt73TRnLquUddFQnO6z5gLiSp8DVk9hrF8SwnLUNWXlOCEqjyiap9T7A3ZJ5jNXhFHdEkJ83mZqj0mLVGsRN+8o4Q6fgN3GZqeacRlpQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Blog Table Updated&quot;
        title=&quot;Blog Table Updated&quot;
        src=&quot;/static/79233c457756de4feb53269d72c47be7/fcda8/tableupdated.png&quot;
        srcset=&quot;/static/79233c457756de4feb53269d72c47be7/12f09/tableupdated.png 148w,
/static/79233c457756de4feb53269d72c47be7/e4a3f/tableupdated.png 295w,
/static/79233c457756de4feb53269d72c47be7/fcda8/tableupdated.png 590w,
/static/79233c457756de4feb53269d72c47be7/efc66/tableupdated.png 885w,
/static/79233c457756de4feb53269d72c47be7/c83ae/tableupdated.png 1180w,
/static/79233c457756de4feb53269d72c47be7/e8d6f/tableupdated.png 1273w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Finally, let’s implement the latest one, create the DeleteArticle Lambda Function, and provide this code :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; json
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; boto3
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; botocore&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exceptions &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; ClientError
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dynamodb&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;conditions &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Key
        
dynamodb_client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boto3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;resource&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dynamodb&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
table &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; dynamodb_client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Table&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;blog&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambda_handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        title &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;pathParameters&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        category &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;pathParameters&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;category&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        
        response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; table&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;delete_item&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            Key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&apos;title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&apos;category&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; category
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; response
    &lt;span class=&quot;token keyword&quot;&gt;except&lt;/span&gt; ClientError &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Error&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Message&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;raise&lt;/span&gt; e&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And the test event :
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/19a615e02b1e0a628d2efd72e6d0d007/ffe34/deleteevent.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 24.324324324324326%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABJ0AAASdAHeZh94AAAAuUlEQVQY052PwW6EMAxE+f9vbA/VKmQhDhA7cbubhKmBVtrzHp6e5LFG9kBEGMcRqgrsO3rvb1FrheSMIVuRFEW14bO196gHFRsXDJ/O4+PrBuKM0ndI7cjNOFz3P7/wn7Vr96Kdc0p2ofMTRj/DU0JgRRQ9TVIQRMzZnE+TZXO6sokZS1ak7wc2/YE8nojJLnTO4R42TFFwJ0ZcBWExVsa0rOZ0el42kGU+8GWKtsv2pmK1omKlx8u/Qq+C4cavsn4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Delete Event&quot;
        title=&quot;Delete Event&quot;
        src=&quot;/static/19a615e02b1e0a628d2efd72e6d0d007/fcda8/deleteevent.png&quot;
        srcset=&quot;/static/19a615e02b1e0a628d2efd72e6d0d007/12f09/deleteevent.png 148w,
/static/19a615e02b1e0a628d2efd72e6d0d007/e4a3f/deleteevent.png 295w,
/static/19a615e02b1e0a628d2efd72e6d0d007/fcda8/deleteevent.png 590w,
/static/19a615e02b1e0a628d2efd72e6d0d007/efc66/deleteevent.png 885w,
/static/19a615e02b1e0a628d2efd72e6d0d007/ffe34/deleteevent.png 1055w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Let’s try your Delete Lambda function and your item is now deleted from your table :
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/abe9712f8ebe7fc8a79ad38b604c297a/0d98f/tableafterdelete.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 46.621621621621614%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABxUlEQVQoz21SS2saURi9P0oR/4EQRURBly4iuFA36QMUXOhC/0IX/oFCH3lBi8WF4qYtbbVJaKIO2jaWOpkZ5z3jqKd+lyg25MLhO9/5Hne4Z5hjqLB0Fa6hwDJ1GIaxg67rHMRVVeVR07RdnM/nmEwmGA4HuL2dQpJksE83M7R6vzCZipDEv5smhTfTAhqgSLkkSZwrisIvoVwUxV1NVlTohgn2+uMULz4I+Hz9Bz9/T3GnaHBsG5Zl/Qd7TzNNE6vVCtvjOA5msxlfzE5PjtFqtfDy1Ru8PXuPk/N3aDab6HQ6aLfbj6Lb7aLRaKBcLqNSqaBYLKJUKqFer4Ol02lks1k8OTrC82dPkTk8RCaTQT6fRy6XexSFQgHRaBQ+nw+BQADBYBB+vx+hUAgslUohfHCAarWKWq2GWCyGSCSCcDjM4xb7OfF4PA6aTSaTHIlEgn8IG4/H+PL1G35c30AYjUD5xcV3XF5dbdwbotfrcY14v9/HYDCAIAhcG23690EaWy6XUCwPsunBu39ny7Lhui7n5Co9+nq95u6SqxS39YeHUeFOsyHpDtzFErgfJFc9z+MLFosFBy2nX0mWZa6T0w/xD/QGVUnkK1DTAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Table after delete&quot;
        title=&quot;Table after delete&quot;
        src=&quot;/static/abe9712f8ebe7fc8a79ad38b604c297a/fcda8/tableafterdelete.png&quot;
        srcset=&quot;/static/abe9712f8ebe7fc8a79ad38b604c297a/12f09/tableafterdelete.png 148w,
/static/abe9712f8ebe7fc8a79ad38b604c297a/e4a3f/tableafterdelete.png 295w,
/static/abe9712f8ebe7fc8a79ad38b604c297a/fcda8/tableafterdelete.png 590w,
/static/abe9712f8ebe7fc8a79ad38b604c297a/efc66/tableafterdelete.png 885w,
/static/abe9712f8ebe7fc8a79ad38b604c297a/c83ae/tableafterdelete.png 1180w,
/static/abe9712f8ebe7fc8a79ad38b604c297a/0d98f/tableafterdelete.png 1276w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;Let’s summarize&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;We created our IAM &lt;strong&gt;admin&lt;/strong&gt; user&lt;/li&gt;
&lt;li&gt;With the admin user, we created the &lt;strong&gt;policy&lt;/strong&gt; that &lt;strong&gt;allows our Lambdas to interact wich our DynamoDB&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;We &lt;strong&gt;attached this policy to our IAM Role&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;We created &lt;strong&gt;5&lt;/strong&gt; Lambda Functions :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;GetArticles&lt;/strong&gt; (which list all articles from blog table)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;FinByTitleAndCategory&lt;/strong&gt; (which list an article based from his primary key)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CreateArticle&lt;/strong&gt; (which create an article item in blog table)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;UpdateArticle&lt;/strong&gt; (which update an article based from his primary key)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DeleteArticle&lt;/strong&gt; (which delete an article based from his primary key)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Woah, we did a great job, congrats. Let’s move on now to the latest part, the &lt;a href=&quot;../serverless-api-with-lambda-part-3&quot;&gt;creation of our API Gateway&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Serverless App with AWS in ReactJS, using Lambda & API Gateway - Part 1]]></title><description><![CDATA[Hey there! This is my first post on my new blog ;-) In this article, we will have a look at how we can create a web application without…]]></description><link>https://jstw.github.io/serverless-api-with-lambda-part-1/</link><guid isPermaLink="false">https://jstw.github.io/serverless-api-with-lambda-part-1/</guid><pubDate>Thu, 28 May 2020 22:12:03 GMT</pubDate><content:encoded>&lt;p&gt;Hey there! This is my first post on my new blog ;-)&lt;/p&gt;
&lt;p&gt;In this article, we will have a look at how we can create a web application without handling any server architecture/installation.&lt;/p&gt;
&lt;p&gt;This kind of architecture is called “serverless”. (more information &lt;a href=&quot;https://hackernoon.com/what-is-serverless-architecture-what-are-its-pros-and-cons-cc4b804022e9&quot;&gt;here&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Let me introduce you the architecture our the application :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a712c81b450295927c99906ae5442c82/f349c/archi.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.21621621621622%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAACeElEQVQozx1SXUhTARg9u9fde3c3FLFU1BRzQ0ydZjq1/Jm/I+1uV91yztWWzrH8m3N6NzfdTKFiqSkhhFDRSyI9Bb1UCEkUSWgGhWU+9RAEQYTPcbvzg8P3PZ3vO+d8KKhoQv65BkxMReEcDQCIIflyAJQxTCu5KMPyYSbJ5KORs00uu5sytjyaZkNHBwtugWJNAk3xIfqUdYXNtq4o5KYQA3VpHfJK6qDRVsNhNaPC4gFhihJUxxQF1QQqO6fxb76MEHXAjv+s4ftk4c/fA6Rq/Yoaoijtty/B6d2DZegtZO1TNE5ra2S5xTVkuroMtl47Md5vI5LavAQaR+RH4l+UNbcSM5GIsmf+EXGYB9kDd+3JONPqnBdr99ZAQoGhyf3aUeFbdWb/LI1CXYvmjK650mJ3KQIBIdU/Gkz3LvLJroubVTOWnc9C12vu+JJ6Ee/9FfpDf/6bZ4O6FOfNDfZ2xKWIzC6ecFz/8sc5uP8jq08iLKpqKZB8bDf3OJKDQSHN7w2mD8/2pLnaX5RPmz9sCp1bTYAIcRXYHi7I2vOXuO+HB1J80TuqaHhCGYstKN1jO8OesV13at8cjacPl2TOa310Ro4GlVXVRGNJtozQWklw3XK5BhQapZjCAotlkXg3Xl781Zd/9xcH6rm3Hv7HL3EjHMKGJEG/LslojVA4OngFm90B3Xk9DPoLyGu1Ad0xmZKfoRCvti7gkoiPnkx88hWVHgjFT45GEpm1q1rEL0fOpGSp1HMBhpdC4TqtMHBmNBiMMPS6gZYFqHhBJjeGFAwXoWlTmE6QkGgap5G1Sx77yd2ildLLkMYQnSCB5YOMkg/GZ8V/fbPCWLcDHaIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Architecture AWS&quot;
        title=&quot;Architecture AWS&quot;
        src=&quot;/static/a712c81b450295927c99906ae5442c82/fcda8/archi.png&quot;
        srcset=&quot;/static/a712c81b450295927c99906ae5442c82/12f09/archi.png 148w,
/static/a712c81b450295927c99906ae5442c82/e4a3f/archi.png 295w,
/static/a712c81b450295927c99906ae5442c82/fcda8/archi.png 590w,
/static/a712c81b450295927c99906ae5442c82/efc66/archi.png 885w,
/static/a712c81b450295927c99906ae5442c82/c83ae/archi.png 1180w,
/static/a712c81b450295927c99906ae5442c82/f349c/archi.png 2002w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;As you can see, it’s a very simple architecture. We don’t have to create so many resources to get a functional web app.&lt;/p&gt;
&lt;p&gt;Our goal here is to have a Client-Side application (developed in ReactJS), which will query an API (through API Gateway). Finally, this API will deserve some Lambda Functions that will interact with our DynamoDB database.&lt;/p&gt;
&lt;p&gt;Before going further, there is a list of pre-requires :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You should have an AWS Account (to create one, please visit &lt;a href=&quot;https://portal.aws.amazon.com/billing/signup#/start&quot;&gt;this link&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://curl.haxx.se/download.html&quot;&gt;CURL&lt;/a&gt; or &lt;a href=&quot;https://www.postman.com/&quot;&gt;Postman&lt;/a&gt; to query our database.&lt;/li&gt;
&lt;li&gt;Node Package Manager (&lt;a href=&quot;https://www.npmjs.com/get-npm&quot;&gt;npm&lt;/a&gt;) or other package managers like &lt;a href=&quot;https://classic.yarnpkg.com/en/docs/install/#windows-stable&quot;&gt;yarn&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;I recommend connecting to your root account if you don’t have one, go to the IAM Dashboard and create an “admin” user. Once is done, attach the &lt;code class=&quot;language-text&quot;&gt;AdministratorAccess&lt;/code&gt; policy.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Be careful&lt;/strong&gt;: For the entire article, I will use the region &lt;strong&gt;eu-west-2&lt;/strong&gt;. You can choose every region you want, but do not forget to create all the same region for all your future created resources!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Let’s start then :) Connect to your AWS Account by using the IAM users sign-in link.&lt;/p&gt;
&lt;h3&gt;First step: Create the Database (DynamoDB)&lt;/h3&gt;
&lt;p&gt;I will use a no NoSQL Database, &lt;strong&gt;DynamoDB&lt;/strong&gt;. If you are curious and if you want more information about this database I provide you &lt;a href=&quot;https://cloudacademy.com/blog/amazon-dynamodb-ten-things/&quot;&gt;this link&lt;/a&gt; which describes perfectly what is DynamoDB.&lt;/p&gt;
&lt;p&gt;Let’s navigate to the DynamoDB service  via &lt;code class=&quot;language-text&quot;&gt;Services &amp;gt; Database &amp;gt; DynamoDB&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Once you are here, we will create our blog table. Hit the &lt;code class=&quot;language-text&quot;&gt;Create Table&lt;/code&gt; button and fill the form like below :&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9ce9bacb311be4f2e53c772f201fd1e1/187fa/tablecreation.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 30.405405405405407%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABJ0AAASdAHeZh94AAAAvUlEQVQY041R267DIAzj/7+zUlXoBVrKuLR4OBrTeTnbIpmQpBjjKmstzDxjWRZorQXOOdRacd/3G9d1/UGRXEqRWYwR4zhiGAaodV2hjQEzSedGblpN4mmaJLPe9x3necIfB44Gz733AvbZY1a13RBCkENUxkFKSZBzFgLOfw3FhZK7im3bhKw/laScM/OZDNrxHxSXHiEmWOtEUXn5RSLW0muedcKPCvsHj5jFXB7uP4DqbLOCdqSUvxI+AeOQ1E5waNkCAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Dynamodb Blog Table&quot;
        title=&quot;Dynamodb Blog Table&quot;
        src=&quot;/static/9ce9bacb311be4f2e53c772f201fd1e1/fcda8/tablecreation.png&quot;
        srcset=&quot;/static/9ce9bacb311be4f2e53c772f201fd1e1/12f09/tablecreation.png 148w,
/static/9ce9bacb311be4f2e53c772f201fd1e1/e4a3f/tablecreation.png 295w,
/static/9ce9bacb311be4f2e53c772f201fd1e1/fcda8/tablecreation.png 590w,
/static/9ce9bacb311be4f2e53c772f201fd1e1/efc66/tablecreation.png 885w,
/static/9ce9bacb311be4f2e53c772f201fd1e1/c83ae/tablecreation.png 1180w,
/static/9ce9bacb311be4f2e53c772f201fd1e1/187fa/tablecreation.png 1194w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When you create a DynamoDB table, a &lt;code class=&quot;language-text&quot;&gt;partition key&lt;/code&gt; is required to identify uniquely each item in your table.
But this primary key can also be composed of a &lt;code class=&quot;language-text&quot;&gt;sort key&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;The partition key is used for partitioning the data. Data with the same partition key are stored together, which allows you to query data with the same partition key in 1 query.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;The (optional) sort key determines the order of how data with the same partition key is stored. Using a clever sort key allows you to query many items in 1 query.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Second step: Configure our DynamoDB table settings&lt;/h3&gt;
&lt;p&gt;Our settings will be very simple. I will just create 1x &lt;strong&gt;Global Secondary Index (GSI)&lt;/strong&gt; which is composed with a partition key (&lt;code class=&quot;language-text&quot;&gt;title&lt;/code&gt; here), and a sort key, &lt;code class=&quot;language-text&quot;&gt;category&lt;/code&gt;. GSIs can be created only at the table creation and not after.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;For the Read/Write capacity mode, I will change them to have a minimum of Read Capacity Units (RCUs) and Write capacity units (WCUs). Of course, if you intend to use this Database in a real production environment, you will adapt the RCUs/WCUs and perhaps use the Auto-Scaling, based on your application charge.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8781f387b6e012a12d188ec00e491c82/1790f/dbconf.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 61.48648648648649%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABJ0AAASdAHeZh94AAABQ0lEQVQoz6VTi26DMAzk//+xLZ0GaIMl5B3C4xa7y0SHmCbN0onESs6+i6mUUtBaYxxHTNMEim3bGCXKfo91XTHP8yFfYRdE/HK/o2le0XUdrtcr455zhLqucblccLvV6PsexphDwSfClGa8DwLGWu62dE8X6eu95zyB1iTi0GGM8etQhA8RLs74T1RN04DQti26jGHo2U+CEAJSyicIOWKQGh+jhswQUj3W2mGaF1Tt28BkD08sVCYiqSRzD5aeobThy6PxGS7vLa+VDZhSJiQvCkKG84Gr0j6lhJjtWJbl75L3hlKs6wbrAobcsc2PE0Jg4rPxOTzKt19SwDl3Wnk/f4RTwnKodEjyyDN6ABqf/WXKU3Gy46zjqhDR1JM8yzOYmOhn0Jni5/5POnhYOqPqZYCJ2IUJxifYkNjbIvc3Pz8BKGapUzdL4E0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Dynamodb Table Settings&quot;
        title=&quot;Dynamodb Table Settings&quot;
        src=&quot;/static/8781f387b6e012a12d188ec00e491c82/fcda8/dbconf.png&quot;
        srcset=&quot;/static/8781f387b6e012a12d188ec00e491c82/12f09/dbconf.png 148w,
/static/8781f387b6e012a12d188ec00e491c82/e4a3f/dbconf.png 295w,
/static/8781f387b6e012a12d188ec00e491c82/fcda8/dbconf.png 590w,
/static/8781f387b6e012a12d188ec00e491c82/efc66/dbconf.png 885w,
/static/8781f387b6e012a12d188ec00e491c82/c83ae/dbconf.png 1180w,
/static/8781f387b6e012a12d188ec00e491c82/1790f/dbconf.png 1189w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Once your DynamoDB settings are ready, feel free to hit the &lt;code class=&quot;language-text&quot;&gt;Create&lt;/code&gt; button and your table will be created in a few seconds.&lt;/p&gt;
&lt;p&gt;Once your database is available, you can provide some “Items” for later usage.&lt;/p&gt;
&lt;p&gt;This is a basic list of items that you can provide :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;My first article&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;author&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Julien&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;category&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Blabla&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;content&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;A first content for a first article!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;createdAt&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2020-05-28T22:00:00.000Z&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;A magic article&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;author&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Dumbledore&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;category&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Magic&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;content&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;You are a wizard Harry.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;createdAt&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2020-05-29T22:00:00.000Z&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;How to cook a steak&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;author&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Gordon Ramsay&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;category&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Cooking&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;content&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Are crazy ?! I will never teach you!!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;createdAt&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2020-05-30T22:00:00.000Z&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;At this step, you should have your Blog table which contains 3 items&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e354ae519958591993fd023c2bd803f0/0d98f/items.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 46.621621621621614%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABzklEQVQoz21STYvaUBTNfxLxJwiuVUjNmIK6cqNTF+5cThdu/QWFoaXMMLR0aAcFF910F0TEEq1aHUen5sOYxGjU09zLBKT0weHee879eLz7BM824W5M7B0Djr3BZvMCy4L1AopN02R/vV5zTNYwDEwmEwwGKh7nT9B0A0K7u8Ddj4D8/QztecGFVBAWhw10XWcu1ClerVawbZsb60aQZzsQvipPuP4+gTJYYPoYTDEteNstXNc9g4PtGec4Dg6HA8JD2nK55AHC7c1HPDx8w7vr9/hw+wk3d59xf/8FrVbrv2g2m2i322g0GqhUKqhWqyiVSiiXy6jVahBE8RVkWcblZTlIeIMLKQNJukA+n0cul2OQfx4XCgUkEglEIhFEo1HEYjH24/E4BFl+jWQyibdXV6jX6xBFEel0GqlUivGvHyKTyfBFstksW0mSUCwWIcxmM/xUh1B/jTEIMJ1O0el02Pb7faiqivF4jF6vx5YwGo1Y73a7UBQFw+GQ+fl8DoEe19z6MF0fx+CBT6cTb44OLYA2ejweeRG0ZdJ832c9/D60ec/zmBN2+z3+WFvotkfdsNvtOIkaUwNK5KFBEX2VsJh0+i6apjFoEHF/AV0zU8YJu+AcAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Dynamodb Items&quot;
        title=&quot;Dynamodb Items&quot;
        src=&quot;/static/e354ae519958591993fd023c2bd803f0/fcda8/items.png&quot;
        srcset=&quot;/static/e354ae519958591993fd023c2bd803f0/12f09/items.png 148w,
/static/e354ae519958591993fd023c2bd803f0/e4a3f/items.png 295w,
/static/e354ae519958591993fd023c2bd803f0/fcda8/items.png 590w,
/static/e354ae519958591993fd023c2bd803f0/efc66/items.png 885w,
/static/e354ae519958591993fd023c2bd803f0/c83ae/items.png 1180w,
/static/e354ae519958591993fd023c2bd803f0/0d98f/items.png 1276w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Well done! Our DynamoDB is ready to be used :) Feel free to move on &lt;a href=&quot;./../serverless-api-with-lambda-part-2&quot;&gt;to the Part 2&lt;/a&gt; to start to configure our lambdas to query our DB.&lt;/p&gt;</content:encoded></item></channel></rss>